/*! For license information please see main.32c854a1.js.LICENSE.txt */
!function(){var e={694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var u in n)r.call(n,u)&&n[u]&&e.push(u)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var F,M=Object.assign;function j(e){if(void 0===F)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);F=t&&t[1]||""}return"\n"+F+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case E:return"Profiler";case T:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function $(e,t){X(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function ae(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Te=null;function Ee(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Ie(e){_e?Te?Te.push(e):Te=[e]:_e=e}function Se(){if(_e){var e=_e,t=Te;if(Te=_e=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Te)&&(Ne(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Fe=!1,Me=null,je=!1,Ue=null,Ve={onError:function(e){Fe=!0,Me=e}};function Be(e,t,n,r,i,a,o,u,s){Fe=!1,Me=null,Le.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,_t,Tt,Et,It=!1,St=[],Ct=null,Nt=null,At=null,Pt=new Map,Dt=new Map,Ot=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Pt.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<St.length){Bt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Nt&&Bt(Nt,e),null!==At&&Bt(At,e),Pt.forEach(t),Dt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Mt(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Wt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Ft(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Ft(Nt,e,t,n,r,i),!0;case"mouseover":return At=Ft(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Ft(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Ft(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=M({},cn,{view:0,detail:0}),hn=an(fn),dn=M({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(M({},dn,{dataTransfer:0})),mn=an(M({},fn,{relatedTarget:0})),yn=an(M({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=M({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),wn=an(M({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function En(){return Tn}var In=M({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=an(In),Cn=an(M({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(M({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(M({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=M({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(Pn),On=[9,13,27,32],Rn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Fn=l&&"TextEvent"in window&&!Ln,Mn=l&&(!Rn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){jr(e,0)}function Yn(e){if(W(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(l){var $n;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Xn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},_r={},Tr={};function Er(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return _r[e]=n[t];return e}l&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Er("animationend"),Sr=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Rr=Pr[Or];Dr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Mr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Fe){if(!Fe)throw Error(a(198));var l=Me;Fe=!1,Me=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Mr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Fr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Sn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Ir:case Sr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Wr(d))p++;for(d=0,v=h;v;v=Wr(v))d++;for(;0<p-d;)l=Wr(l),p--;for(;0<d-p;)h=Wr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Wr(l),h=Wr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Jn;else if(Gn(u))if(Xn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?wi(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(Rn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Mn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):($t="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=en(),Zt=$t=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Mn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=De(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function $r(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var xi=[],_i=-1;function Ti(e){return{current:e}}function Ei(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ii(e,t){_i++,xi[_i]=e.current,e.current=t}var Si={},Ci=Ti(Si),Ni=Ti(!1),Ai=Si;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ei(Ni),Ei(Ci)}function Ri(e,t,n){if(Ci.current!==Si)throw Error(a(168));Ii(Ci,t),Ii(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return M({},n,r)}function Fi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ai=Ci.current,Ii(Ci,e),Ii(Ni,Ni.current),!0}function Mi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ii(Ci,e)):Ei(Ni),Ii(Ni,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),We(Ze,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Wi=[],Qi=0,Yi=null,Ji=1,Xi="";function $i(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=Ji,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Yi=e;var r=Ji;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Ji=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ta(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Xi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=w.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Ti(null),ga=null,ka=null,wa=null;function ba(){wa=ka=ga=null}function xa(e){var t=ya.current;Ei(ya),e._currentValue=t}function _a(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ta(e,t){ga=e,wa=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(wa!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Sa(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Sa(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Pa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ra(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ns)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Sa(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function La(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ma(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=M({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Oa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ra(e,a,i))&&(rc(t,e,i,r),La(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Oa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ra(e,i,r))&&(rc(t,e,r,n),La(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ga(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ka(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Pa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Ma(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Wa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function Ya(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case x:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Wa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Wa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Wa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&$i(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&$i(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&$i(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&$i(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&$i(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&$i(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Fc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Lc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Wa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ja=Ya(!0),Xa=Ya(!1),$a={},Za=Ti($a),eo=Ti($a),to=Ti($a);function no(e){if(e===$a)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Za,$a),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ii(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Ti(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=w.ReactCurrentDispatcher,ho=w.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,wo=0,bo=0;function xo(){throw Error(a(321))}function _o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function To(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,wo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==wo;return wo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function So(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Ms|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=So(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Do(e,t){var n=vo,r=So(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Ro.bind(null,n,r,i,t),void 0,null),null===As)throw Error(a(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Fo(t)&&Mo(e)}function Lo(e,t,n){return n((function(){Fo(t)&&Mo(e)}))}function Fo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Mo(e){var t=Na(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return So().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=So();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&_o(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Go(e,t){return zo(2048,8,e,t)}function Ko(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&_o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $o(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return So().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Sa(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:xo,useContext:xo,useEffect:xo,useImperativeHandle:xo,useInsertionEffect:xo,useLayoutEffect:xo,useMemo:xo,useReducer:xo,useRef:xo,useState:xo,useDebugValue:xo,useDeferredValue:xo,useTransition:xo,useMutableSource:xo,useSyncExternalStore:xo,useId:xo,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Yo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Zo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===As)throw Error(a(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=As.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=wo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=bo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Yo,useDeferredValue:function(e){return $o(So(),mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Jo,useContext:Ea,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Xo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Yo,useDeferredValue:function(e){var t=So();return null===mo?t.memoizedState=e:$o(t,mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],So().memoizedState]},useMutableSource:Po,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Oa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Oa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ws?Ws=new Set([this]):Ws.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Oa(-1,1)).tag=2,Ra(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=w.ReactCurrentOwner,wu=!1;function bu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ja(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ta(t,i),r=To(e,t,n,r,a,i),n=Eo(),null===e||wu?(ia&&n&&ea(t),t.flags|=1,bu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Oc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Tu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Ku(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Tu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Ku(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Su(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Rs,Os),Os|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Rs,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Rs,Os),Os|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Rs,Os),Os|=r;return bu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Di(n)?Ai:Ci.current;return a=Pi(t,a),Ta(t,i),n=To(e,t,n,r,a,i),r=Eo(),null===e||wu?(ia&&r&&ea(t),t.flags|=1,bu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ku(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Fi(t)}else a=!1;if(Ta(t,i),null===t.stateNode)Gu(e,t),qa(t,n,r),Ka(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Pi(t,c=Di(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Ga(t,o,r,c),Aa=!1;var h=t.memoizedState;o.state=h,Ma(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Aa||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Pi(t,s=Di(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ga(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Ma(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Aa||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Mi(t,n,!1),Ku(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ja(t,e.child,null,a),t.child=Ja(t,null,u,a)):bu(e,t,u,a),t.memoizedState=r.state,i&&Mi(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),ro(e,t.containerInfo)}function Pu(e,t,n,r,i){return da(),pa(i),t.flags|=256,bu(e,t,n,r),t.child}var Du,Ou,Ru,Lu,Fu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Mc(s,i,0,null),e=Fc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Fu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(o=Fc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ja(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Fu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),wu||s){if(null!==(r=As)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Wi[Qi++]=Ji,Wi[Qi++]=Xi,Wi[Qi++]=Yi,Ji=e.id,Xi=e.overflow,Yi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Rc(r,u):(u=Fc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Fu,i}return e=(u=e.child).sibling,i=Rc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Ja(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_a(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ku(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wu(t),null;case 1:case 17:return Di(t.type)&&Oi(),Wu(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ou(e,t),Wu(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Ru(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Wu(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wu(t),null;case 6:if(e&&null!=t.stateNode)Lu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Wu(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wu(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ls&&(Ls=3):mc())),null!==t.updateQueue&&(t.flags|=4),Wu(t),null);case 4:return io(),Ou(e,t),null===e&&zr(t.stateNode.containerInfo),Wu(t),null;case 10:return xa(t.type._context),Wu(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Wu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ls||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Wu(t),null}else 2*Xe()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Wu(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Os)&&(Wu(t),6&t.subtreeFlags&&(t.flags|=8192)):Wu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Yu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return xa(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ou=function(){},Ru=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ju=!1,Xu=!1,$u="function"===typeof WeakSet?WeakSet:Set,Zu=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Xu||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!Xu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!Xu&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?(Xu=(r=Xu)||null!==n.memoizedState,ds(e,t,n),Xu=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $u),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":$(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xu=(l=Xu)||f,ms(t,e),Xu=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Zu=e,f=e.child;null!==f;){for(h=Zu=f;null!==Zu;){switch(p=(d=Zu).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){xs(h);continue}}null!==p?(p.return=d,Zu=p):xs(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Zu=e,ws(e,t,n)}function ws(e,t,n){for(var r=0!==(1&e.mode);null!==Zu;){var i=Zu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ju;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Xu;u=Ju;var c=Xu;if(Ju=o,(Xu=s)&&!c)for(Zu=i;null!==Zu;)s=(o=Zu).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Zu=s):_s(i);for(;null!==a;)Zu=a,ws(a,t,n),a=a.sibling;Zu=i,Ju=u,Xu=c}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zu=a):bs(e)}}function bs(e){for(;null!==Zu;){var t=Zu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xu||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Xu||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Zu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zu=n;break}Zu=t.return}}function xs(e){for(;null!==Zu;){var t=Zu;if(t===e){Zu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zu=n;break}Zu=t.return}}function _s(e){for(;null!==Zu;){var t=Zu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Zu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Zu=u;break}Zu=t.return}}var Ts,Es=Math.ceil,Is=w.ReactCurrentDispatcher,Ss=w.ReactCurrentOwner,Cs=w.ReactCurrentBatchConfig,Ns=0,As=null,Ps=null,Ds=0,Os=0,Rs=Ti(0),Ls=0,Fs=null,Ms=0,js=0,Us=0,Vs=null,Bs=null,zs=0,qs=1/0,Gs=null,Ks=!1,Hs=null,Ws=null,Qs=!1,Ys=null,Js=0,Xs=0,$s=null,Zs=-1,ec=0;function tc(){return 0!==(6&Ns)?Xe():-1!==Zs?Zs:Zs=Xe()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Ns)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<Xs)throw Xs=0,$s=null,Error(a(185));yt(e,n,r),0!==(2&Ns)&&e===As||(e===As&&(0===(2&Ns)&&(js|=n),4===Ls&&sc(e,Ds)),ic(e,r),1===n&&0===Ns&&0===(1&t.mode)&&(qs=Xe()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===As?Ds:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&Ns)&&zi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Zs=-1,ec=0,0!==(6&Ns))throw Error(a(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var r=ht(e,e===As?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Ns;Ns|=2;var o=vc();for(As===e&&Ds===t||(Gs=null,qs=Xe()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}ba(),Is.current=o,Ns=i,null!==Ps?t=0:(As=null,Ds=0,t=Ls)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Fs,dc(e,0),sc(e,r),ic(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Fs,dc(e,0),sc(e,r),ic(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:xc(e,Bs,Gs);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xc.bind(null,e,Bs,Gs),t);break}xc(e,Bs,Gs);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(xc.bind(null,e,Bs,Gs),r);break}xc(e,Bs,Gs);break;default:throw Error(a(329))}}}return ic(e,Xe()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Ns))throw Error(a(327));_c();var t=ht(e,0);if(0===(1&t))return ic(e,Xe()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fs,dc(e,0),sc(e,t),ic(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xc(e,Bs,Gs),ic(e,Xe()),null}function lc(e,t){var n=Ns;Ns|=1;try{return e(t)}finally{0===(Ns=n)&&(qs=Xe()+500,Ui&&zi())}}function fc(e){null!==Ys&&0===Ys.tag&&0===(6&Ns)&&_c();var t=Ns;Ns|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(Ns=t))&&zi()}}function hc(){Os=Rs.current,Ei(Rs)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ps)for(n=Ps.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),Ei(Ni),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:xa(r.type._context);break;case 22:case 23:hc()}n=n.return}if(As=e,Ps=e=Rc(e.current,null),Ds=Os=t,Ls=0,Fs=null,Us=js=Ms=0,Bs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Ps;try{if(ba(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,wo=0,Ss.current=null,null===n||null===n.return){Ls=1,Fs=t,Ps=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ls&&(Ls=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ws||!Ws.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Fa(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bc(n)}catch(w){t=w,Ps===n&&null!==n&&(Ps=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ls&&3!==Ls&&2!==Ls||(Ls=4),null===As||0===(268435455&Ms)&&0===(268435455&js)||sc(As,Ds)}function yc(e,t){var n=Ns;Ns|=2;var r=vc();for(As===e&&Ds===t||(Gs=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(ba(),Ns=n,Is.current=r,null!==Ps)throw Error(a(261));return As=null,Ds=0,Ls}function gc(){for(;null!==Ps;)wc(Ps)}function kc(){for(;null!==Ps&&!Ye();)wc(Ps)}function wc(e){var t=Ts(e.alternate,e,Os);e.memoizedProps=e.pendingProps,null===t?bc(e):Ps=t,Ss.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qu(n,t,Os)))return void(Ps=n)}else{if(null!==(n=Yu(n,t)))return n.flags&=32767,void(Ps=n);if(null===e)return Ls=6,void(Ps=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ps=t);Ps=t=e}while(null!==t);0===Ls&&(Ls=5)}function xc(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{_c()}while(null!==Ys);if(0!==(6&Ns))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===As&&(Ps=As=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qs||(Qs=!0,Ac(tt,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=Ns;Ns|=4,Ss.current=null,function(e,t){if(ei=Gt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(b){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Zu=t;null!==Zu;)if(e=(t=Zu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zu=e;else for(;null!==Zu;){t=Zu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(a(163))}}catch(b){Ec(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Zu=e;break}Zu=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Je(),Ns=s,kt=u,Cs.transition=o}else e.current=n;if(Qs&&(Qs=!1,Ys=e,Js=i),o=e.pendingLanes,0===o&&(Ws=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ks)throw Ks=!1,e=Hs,Hs=null,e;0!==(1&Js)&&0!==e.tag&&_c(),o=e.pendingLanes,0!==(1&o)?e===$s?Xs++:(Xs=0,$s=e):Xs=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function _c(){if(null!==Ys){var e=wt(Js),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Ys)var r=!1;else{if(e=Ys,Ys=null,Js=0,0!==(6&Ns))throw Error(a(331));var i=Ns;for(Ns|=4,Zu=e.current;null!==Zu;){var o=Zu,u=o.child;if(0!==(16&Zu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Zu=l;null!==Zu;){var f=Zu;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Zu=h;else for(;null!==Zu;){var d=(f=Zu).sibling,p=f.return;if(os(f),f===l){Zu=null;break}if(null!==d){d.return=p,Zu=d;break}Zu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Zu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Zu=u;else e:for(;null!==Zu;){if(0!==(2048&(o=Zu).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Zu=g;break e}Zu=o.return}}var k=e.current;for(Zu=k;null!==Zu;){var w=(u=Zu).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,Zu=w;else e:for(u=k;null!==Zu;){if(0!==(2048&(s=Zu).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(x){Ec(s,s.return,x)}if(s===u){Zu=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,Zu=b;break e}Zu=s.return}}if(Ns=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Tc(e,t,n){e=Ra(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Tc(e,e,n);else for(;null!==t;){if(3===t.tag){Tc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ws||!Ws.has(r))){t=Ra(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(Ds&n)===n&&(4===Ls||3===Ls&&(130023424&Ds)===Ds&&500>Xe()-zs?dc(e,0):Us|=n),ic(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Na(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Ac(e,t){return We(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Oc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Fc(n.children,i,o,t);case T:u=8,i|=8;break;case E:return(e=Dc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Dc(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Dc(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Mc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case S:u=9;break e;case C:u=11;break e;case P:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Fc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pa(a),e}function zc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Li(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Oa(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ra(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Gc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Oa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ra(i,t,o))&&(rc(e,i,o,a),La(e,i,o)),o}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Ts=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Fi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Ku(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Ku(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gu(e,t),e=t.pendingProps;var i=Pi(t,Ci.current);Ta(t,n),i=To(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Fi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Pa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ka(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),bu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Ma(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Pu(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Ku(e,t,n);break e}bu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),bu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ja(t,null,r,n):bu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return bu(e,t,t.pendingProps,n),t.child;case 8:case 12:return bu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Ku(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Oa(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),_a(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),_a(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}bu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ta(t,n),r=r(i=Ea(i)),t.flags|=1,bu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),_u(e,t,r,i=ma(r.type,i),n);case 15:return Tu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Gu(e,t),t.tag=1,Di(r)?(e=!0,Fi(t)):e=!1,Ta(t,n),qa(t,r,i),Ka(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Kc(o);u.call(e)}}Gc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Kc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Kc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Gc(t,s,n,r)})),s}(n,t,e,i,r);return Kc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Gc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Gc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,Xe()),0===(6&Ns)&&(qs=Xe()+500,zi()))}break;case 13:fc((function(){var t=Na(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Wc(e,1)}},xt=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)rc(t,e,134217728,tc());Wc(e,134217728)}},_t=function(e){if(13===e.tag){var t=nc(e),n=Na(e,t);if(null!==n)rc(n,e,t,tc());Wc(e,t)}},Tt=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));W(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ne=fc;var tl={usingClientEntryPoint:!1,Events:[ki,wi,bi,Ie,Se,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(a(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=k.prototype=new g;w.constructor=k,v(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!T.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},O={transition:null},R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!T.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&R(b,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&R(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,T=!1,E=null,I=-1,S=5,C=-1;function N(){return!(t.unstable_now()-C<S)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?_():(T=!1,E=null)}}else T=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,D=P.port2;P.port1.onmessage=A,_=function(){D.postMessage(null)}}else _=function(){y(A,0)};function O(e){E=e,T||(T=!0,_())}function R(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,R(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return yt},SDK_VERSION:function(){return Cn},_DEFAULT_ENTRY_NAME:function(){return vn},_addComponent:function(){return kn},_addOrOverwriteComponent:function(){return wn},_apps:function(){return yn},_clearComponents:function(){return Tn},_components:function(){return gn},_getProvider:function(){return xn},_registerComponent:function(){return bn},_removeServiceInstance:function(){return _n},deleteApp:function(){return Dn},getApp:function(){return An},getApps:function(){return Pn},initializeApp:function(){return Nn},onLog:function(){return Ln},registerVersion:function(){return Rn},setLogLevel:function(){return Fn}});var t,r=n(791),i=n.t(r,2),a=n(250);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function u(){u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(A){l=function(e,t,n){return e[t]=n}}function f(e,t,n,i){var a=t&&t.prototype instanceof p?t:p,o=Object.create(a.prototype),u=new S(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=f;var d={};function p(){}function v(){}function m(){}var y={};l(y,a,(function(){return this}));var g=Object.getPrototypeOf,k=g&&g(g(C([])));k&&k!==t&&n.call(k,a)&&(y=k);var w=m.prototype=p.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(r,a,u,s){var c=h(e[r],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==o(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,u,s)}),(function(e){i("throw",e,u,s)})):t.resolve(f).then((function(e){l.value=e,u(l)}),(function(e){return i("throw",e,u,s)}))}s(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===d)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=h(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===d)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function T(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,T(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return v.prototype=m,r(w,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:v,configurable:!0}),v.displayName=l(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,l(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(x.prototype),l(x.prototype,s,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new x(f(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(w),l(w,c,"Generator"),l(w,a,(function(){return this})),l(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}function l(e){if(Array.isArray(e))return e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){if(e){if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){return l(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||h(e,t)||d()}function v(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){return function(e){if(Array.isArray(e))return f(e)}(e)||v(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function w(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function x(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function _(e){return _=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_(e)}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){var t=T();return function(){var n,r=_(e);if(t){var i=_(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return E(e)}(this,n)}}function S(e,t,n){return S=T()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},S.apply(null,arguments)}function C(e){var t="function"===typeof Map?new Map:void 0;return C=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return S(e,arguments,_(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},C(e)}function N(e){return l(e)||v(e)||h(e)||d()}function A(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function P(){return P=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var D,O="popstate";function R(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function L(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function F(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),P({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?U(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function j(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function U(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function V(e,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,c=void 0!==s&&s,l=u.history,f=t.Pop,h=null,d=p();function p(){return(l.state||{idx:null}).idx}function v(){f=t.Pop;var e=p(),n=null==e?null:e-d;d=e,h&&h({action:f,location:y.location,delta:n})}function m(e){var t="null"!==u.location.origin?u.location.origin:u.location.href,n="string"===typeof e?e:j(e);return R(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,l.replaceState(P({},l.state,{idx:d}),""));var y={get action(){return f},get location(){return e(u,l)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(O,v),h=e,function(){u.removeEventListener(O,v),h=null}},createHref:function(e){return n(u,e)},createURL:m,encodeLocation:function(e){var t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;var i=M(y.location,e,n);r&&r(i,e);var a=F(i,d=p()+1),o=y.createHref(i);try{l.pushState(a,"",o)}catch(s){if(s instanceof DOMException&&"DataCloneError"===s.name)throw s;u.location.assign(o)}c&&h&&h({action:f,location:y.location,delta:1})},replace:function(e,n){f=t.Replace;var i=M(y.location,e,n);r&&r(i,e);var a=F(i,d=p()),o=y.createHref(i);l.replaceState(a,"",o),c&&h&&h({action:f,location:y.location,delta:0})},go:function(e){return l.go(e)}};return y}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(D||(D={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function B(e,t,n){void 0===n&&(n="/");var r=te(("string"===typeof t?U(t):t).pathname||"/",n);if(null==r)return null;var i=z(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=$(i[o],ee(r));return a}function z(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(R(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=ae([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(R(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),z(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:X(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=A(q(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function q(e){var t=e.split("/");if(0===t.length)return[];var n=N(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=q(i.join("/")),s=[];return s.push.apply(s,m(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&s.push.apply(s,m(u)),s.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var G=/^:\w+$/,K=3,H=2,W=1,Q=10,Y=-2,J=function(e){return"*"===e};function X(e,t){var n=e.split("/"),r=n.length;return n.some(J)&&(r+=Y),t&&(r+=H),n.filter((function(e){return!J(e)})).reduce((function(e,t){return e+(G.test(t)?K:""===t?W:Q)}),r)}function $(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Z({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:ae([i,l.pathname]),pathnameBase:oe(ae([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ae([i,l.pathnameBase]))}return a}function Z(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);L("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=p(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return L(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function ee(e){try{return decodeURI(e)}catch(t){return L(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function te(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ne(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function re(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ie(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=U(e):(R(!(i=P({},e)).pathname||!i.pathname.includes("?"),ne("?","pathname","search",i)),R(!i.pathname||!i.pathname.includes("#"),ne("#","pathname","hash",i)),R(!i.search||!i.search.includes("#"),ne("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?U(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ue(a),hash:se(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ae=function(e){return e.join("/").replace(/\/\/+/g,"/")},oe=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ue=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},se=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ce=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n)}(C(Error));function le(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var fe=["post","put","patch","delete"],he=(new Set(fe),["get"].concat(fe));new Set(he),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function de(){return de=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},de.apply(this,arguments)}var pe=r.createContext(null);var ve=r.createContext(null);var me=r.createContext(null);var ye=r.createContext(null);var ge=r.createContext(null);var ke=r.createContext({outlet:null,matches:[],isDataRoute:!1});var we=r.createContext(null);function be(){return null!=r.useContext(ge)}function xe(){return be()||R(!1),r.useContext(ge).location}function _e(e){r.useContext(ye).static||r.useLayoutEffect(e)}function Te(){return r.useContext(ke).isDataRoute?function(){var e=Re(Ce.UseNavigateStable).router,t=Fe(Ne.UseNavigateStable),n=r.useRef(!1);_e((function(){n.current=!0}));var i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,de({fromRouteId:t},i)))}),[e,t]);return i}():function(){be()||R(!1);var e=r.useContext(pe),t=r.useContext(ye),n=t.basename,i=t.navigator,a=r.useContext(ke).matches,o=xe().pathname,u=JSON.stringify(re(a).map((function(e){return e.pathnameBase}))),s=r.useRef(!1);_e((function(){s.current=!0}));var c=r.useCallback((function(t,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof t){var a=ie(t,JSON.parse(u),o,"path"===r.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:ae([n,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}else i.go(t)}),[n,i,u,o,e]);return c}()}function Ee(e,t){var n=(void 0===t?{}:t).relative,i=r.useContext(ke).matches,a=xe().pathname,o=JSON.stringify(re(i).map((function(e){return e.pathnameBase})));return r.useMemo((function(){return ie(e,JSON.parse(o),a,"path"===n)}),[e,o,a,n])}function Ie(e,n,i){be()||R(!1);var a,o=r.useContext(ye).navigator,u=r.useContext(ke).matches,s=u[u.length-1],c=s?s.params:{},l=(s&&s.pathname,s?s.pathnameBase:"/"),f=(s&&s.route,xe());if(n){var h,d="string"===typeof n?U(n):n;"/"===l||(null==(h=d.pathname)?void 0:h.startsWith(l))||R(!1),a=d}else a=f;var p=a.pathname||"/",v=B(e,{pathname:"/"===l?p:p.slice(l.length)||"/"});var m=Oe(v&&v.map((function(e){return Object.assign({},e,{params:Object.assign({},c,e.params),pathname:ae([l,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?l:ae([l,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),u,i);return n&&m?r.createElement(ge.Provider,{value:{location:de({pathname:"/",search:"",hash:"",state:null,key:"default"},a),navigationType:t.Pop}},m):m}function Se(){var e=function(){var e,t=r.useContext(we),n=Le(Ne.UseRouteError),i=Fe(Ne.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=le(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}var Ce,Ne,Ae=r.createElement(Se,null),Pe=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},r}return w(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?r.createElement(ke.Provider,{value:this.props.routeContext},r.createElement(we.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),n}(r.Component);function De(e){var t=e.routeContext,n=e.match,i=e.children,a=r.useContext(pe);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(ke.Provider,{value:t},i)}function Oe(e,t,n){var i;if(void 0===t&&(t=[]),void 0===n&&(n=null),null==e){var a;if(null==(a=n)||!a.errors)return null;e=n.matches}var o=e,u=null==(i=n)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||R(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;n&&(c=i.route.errorElement||Ae);var l=t.concat(o.slice(0,a+1)),f=function(){var t;return t=s?c:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(De,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(Pe,{location:n.location,revalidation:n.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Re(e){var t=r.useContext(pe);return t||R(!1),t}function Le(e){var t=r.useContext(ve);return t||R(!1),t}function Fe(e){var t=function(e){var t=r.useContext(ke);return t||R(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||R(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Ce||(Ce={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ne||(Ne={}));var Me;i.startTransition;function je(e){var t=e.to,n=e.replace,i=e.state,a=e.relative;be()||R(!1);var o=r.useContext(ke).matches,u=xe().pathname,s=Te(),c=ie(t,re(o).map((function(e){return e.pathnameBase})),u,"path"===a),l=JSON.stringify(c);return r.useEffect((function(){return s(JSON.parse(l),{replace:n,state:i,relative:a})}),[s,l,a,n,i]),null}function Ue(e){R(!1)}function Ve(e){var n=e.basename,i=void 0===n?"/":n,a=e.children,o=void 0===a?null:a,u=e.location,s=e.navigationType,c=void 0===s?t.Pop:s,l=e.navigator,f=e.static,h=void 0!==f&&f;be()&&R(!1);var d=i.replace(/^\/*/,"/"),p=r.useMemo((function(){return{basename:d,navigator:l,static:h}}),[d,l,h]);"string"===typeof u&&(u=U(u));var v=u,m=v.pathname,y=void 0===m?"/":m,g=v.search,k=void 0===g?"":g,w=v.hash,b=void 0===w?"":w,x=v.state,_=void 0===x?null:x,T=v.key,E=void 0===T?"default":T,I=r.useMemo((function(){var e=te(y,d);return null==e?null:{location:{pathname:e,search:k,hash:b,state:_,key:E},navigationType:c}}),[d,y,k,b,_,E,c]);return null==I?null:r.createElement(ye.Provider,{value:p},r.createElement(ge.Provider,{children:o,value:I}))}function Be(e){var t=e.children,n=e.location;return Ie(qe(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Me||(Me={}));var ze=new Promise((function(){}));r.Component;function qe(e,t){void 0===t&&(t=[]);var n=[];return r.Children.forEach(e,(function(e,i){if(r.isValidElement(e)){var a=[].concat(m(t),[i]);if(e.type!==r.Fragment){e.type!==Ue&&R(!1),e.props.index&&e.props.children&&R(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=qe(e.props.children,a)),n.push(o)}else n.push.apply(n,qe(e.props.children,a))}})),n}function Ge(){return Ge=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ge.apply(this,arguments)}function Ke(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);var He=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];var We=i.startTransition;function Qe(e){var t=e.basename,n=e.children,i=e.future,a=e.window,o=r.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),V((function(e,t){var n=e.location;return M("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:j(t)}),null,e)}({window:a,v5Compat:!0}));var u=o.current,s=p(r.useState({action:u.action,location:u.location}),2),c=s[0],l=s[1],f=(i||{}).v7_startTransition,h=r.useCallback((function(e){f&&We?We((function(){return l(e)})):l(e)}),[l,f]);return r.useLayoutEffect((function(){return u.listen(h)}),[u,h]),r.createElement(Ve,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:u})}var Ye="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Je=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xe=r.forwardRef((function(e,t){var n,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=Ke(e,He),d=r.useContext(ye).basename,p=!1;if("string"===typeof l&&Je.test(l)&&(n=l,Ye))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=te(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(w){}var g=function(e,t){var n=(void 0===t?{}:t).relative;be()||R(!1);var i=r.useContext(ye),a=i.basename,o=i.navigator,u=Ee(e,{relative:n}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:ae([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,t){var n=void 0===t?{}:t,i=n.target,a=n.replace,o=n.state,u=n.preventScrollReset,s=n.relative,c=Te(),l=xe(),f=Ee(e,{relative:s});return r.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:j(l)===j(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return r.createElement("a",Ge({},h,{href:n||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:t,target:c}))}));var $e,Ze;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher"})($e||($e={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ze||(Ze={}));function et(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},nt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(tt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new rt;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},rt=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return w(n)}(C(Error)),it=function(e){return function(e){var t=tt(e);return nt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},at=function(e){try{return nt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ot(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ot(e[n],t[n]));return e}var ut=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},st=function(){try{return ut()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/tweeting-ant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyC-x5jy2CdTsxlN_4Hmaw0azX5OwrYJdls",REACT_APP_FIREBASE_AUTH_DOMAIN:"tweetingant.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"tweetingant",REACT_APP_FIREBASE_STORAGE_BUCKET:"tweetingant.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"43484561065",REACT_APP_FIREBASE_APP_ID:"1:43484561065:web:5d75e9599b39bbf60eb3b8"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&at(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},ct=function(){var e;return null===(e=st())||void 0===e?void 0:e.config},lt=function(){function e(){var t=this;y(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return w(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ft(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ht(){var e,t=null===(e=st())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function dt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function pt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function vt(){var e=ft();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function mt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var yt=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(E(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(E(a),gt.prototype.create),a}return w(n)}(C(Error)),gt=function(){function e(t,n,r){y(this,e),this.service=t,this.serviceName=n,this.errors=r}return w(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(kt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new yt(n,a,t)}}]),e}();var kt=/\{\$([^}]+)}/g;function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bt(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(_t(u)&&_t(s)){if(!xt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function _t(e){return null!==e&&"object"===typeof e}function Tt(e){for(var t=[],n=function(){var e=p(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Et(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=p(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function It(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function St(e,t){var n=new Ct(e,t);return n.subscribe.bind(n)}var Ct=function(){function e(t,n){var r=this;y(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return w(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=A(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Nt),void 0===r.error&&(r.error=Nt),void 0===r.complete&&(r.complete=Nt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Nt(){}function At(e){return e&&e._delegate?e._delegate:e}var Pt=function(){function e(t,n,r){y(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return w(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Dt="[DEFAULT]",Ot=function(){function e(t,n){y(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return w(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new lt;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Dt})}catch(s){}var t,n=A(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=p(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(m(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),m(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=A(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=p(i.value,2),s=u[0],c=u[1];r===this.normalizeInstanceIdentifier(s)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(dE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Dt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(dE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt;return this.component?this.component.multipleInstances?e:Dt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Rt,Lt,Ft=function(){function e(t){y(this,e),this.name=t,this.providers=new Map}return w(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ot(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Lt||(Lt={}));var jt={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Ut=Lt.INFO,Vt=(et(Rt={},Lt.DEBUG,"log"),et(Rt,Lt.VERBOSE,"log"),et(Rt,Lt.INFO,"info"),et(Rt,Lt.WARN,"warn"),et(Rt,Lt.ERROR,"error"),Rt),Bt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},zt=function(){function e(t){y(this,e),this.name=t,this._logLevel=Ut,this._logHandler=Bt,this._userLogHandler=null,Mt.push(this)}return w(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Lt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?jt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.DEBUG].concat(t)),this._logHandler.apply(this,[this,Lt.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Lt.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.INFO].concat(t)),this._logHandler.apply(this,[this,Lt.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.WARN].concat(t)),this._logHandler.apply(this,[this,Lt.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Lt.ERROR].concat(t)),this._logHandler.apply(this,[this,Lt.ERROR].concat(t))}}]),e}();function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Kt,Ht,Wt=function(e,t){return t.some((function(t){return e instanceof t}))};var Qt=new WeakMap,Yt=new WeakMap,Jt=new WeakMap,Xt=new WeakMap,$t=new WeakMap;var Zt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Yt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nn(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function en(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ht||(Ht=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(rn(this),n),nn(Qt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nn(e.apply(rn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[rn(this),t].concat(r));return Jt.set(a,t.sort?t.sort():[t]),nn(a)}}function tn(e){return"function"===typeof e?en(e):(e instanceof IDBTransaction&&function(e){if(!Yt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Yt.set(e,t)}}(e),Wt(e,Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Zt):e)}function nn(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(nn(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Qt.set(t,e)})).catch((function(){})),$t.set(t,e),t}(e);if(Xt.has(e))return Xt.get(e);var t=tn(e);return t!==e&&(Xt.set(e,t),$t.set(t,e)),t}var rn=function(e){return $t.get(e)};var an,on,un=["get","getKey","getAll","getAllKeys","count"],sn=["put","add","delete","clear"],cn=new Map;function ln(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(cn.get(t))return cn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=sn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||un.includes(n))){var a=function(){var e=c(u().mark((function e(t){var a,o,s,c,l,f,h=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,c=h.length,l=new Array(c>1?c-1:0),f=1;f<c;f++)l[f-1]=h[f];return r&&(s=s.index(l.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return cn.set(t,a),a}}}Zt=function(e){return Gt(Gt({},e),{},{get:function(t,n,r){return ln(t,n)||e.get(t,n,r)},has:function(t,n){return!!ln(t,n)||e.has(t,n)}})}(Zt);var fn=function(){function e(t){y(this,e),this.container=t}return w(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var hn="@firebase/app",dn="0.9.13",pn=new zt("@firebase/app"),vn="[DEFAULT]",mn=(et(an={},hn,"fire-core"),et(an,"@firebase/app-compat","fire-core-compat"),et(an,"@firebase/analytics","fire-analytics"),et(an,"@firebase/analytics-compat","fire-analytics-compat"),et(an,"@firebase/app-check","fire-app-check"),et(an,"@firebase/app-check-compat","fire-app-check-compat"),et(an,"@firebase/auth","fire-auth"),et(an,"@firebase/auth-compat","fire-auth-compat"),et(an,"@firebase/database","fire-rtdb"),et(an,"@firebase/database-compat","fire-rtdb-compat"),et(an,"@firebase/functions","fire-fn"),et(an,"@firebase/functions-compat","fire-fn-compat"),et(an,"@firebase/installations","fire-iid"),et(an,"@firebase/installations-compat","fire-iid-compat"),et(an,"@firebase/messaging","fire-fcm"),et(an,"@firebase/messaging-compat","fire-fcm-compat"),et(an,"@firebase/performance","fire-perf"),et(an,"@firebase/performance-compat","fire-perf-compat"),et(an,"@firebase/remote-config","fire-rc"),et(an,"@firebase/remote-config-compat","fire-rc-compat"),et(an,"@firebase/storage","fire-gcs"),et(an,"@firebase/storage-compat","fire-gcs-compat"),et(an,"@firebase/firestore","fire-fst"),et(an,"@firebase/firestore-compat","fire-fst-compat"),et(an,"fire-js","fire-js"),et(an,"firebase","fire-js-all"),an),yn=new Map,gn=new Map;function kn(e,t){try{e.container.addComponent(t)}catch(n){pn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function wn(e,t){e.container.addOrOverwriteComponent(t)}function bn(e){var t=e.name;if(gn.has(t))return pn.debug("There were multiple attempts to register component ".concat(t,".")),!1;gn.set(t,e);var n,r=A(yn.values());try{for(r.s();!(n=r.n()).done;){kn(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function xn(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function _n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vn;xn(e,t).clearInstance(n)}function Tn(){gn.clear()}var En=(et(on={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),et(on,"bad-app-name","Illegal App name: '{$appName}"),et(on,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),et(on,"app-deleted","Firebase App named '{$appName}' already deleted"),et(on,"no-options","Need to provide options, when not being deployed to hosting via source."),et(on,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),et(on,"invalid-log-argument","First argument to `onLog` must be null or a function."),et(on,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),et(on,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),et(on,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),et(on,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),on),In=new gt("app","Firebase",En),Sn=function(){function e(t,n,r){var i=this;y(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pt("app",(function(){return i}),"PUBLIC"))}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw In.create("app-deleted",{appName:this._name})}}]),e}(),Cn="9.23.0";function Nn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:vn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw In.create("bad-app-name",{appName:String(i)});if(n||(n=ct()),!n)throw In.create("no-options");var a=yn.get(i);if(a){if(xt(n,a.options)&&xt(r,a.config))return a;throw In.create("duplicate-app",{appName:i})}var o,u=new Ft(i),s=A(gn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Sn(n,r,u);return yn.set(i,l),l}function An(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=yn.get(e);if(!t&&e===vn&&ct())return Nn();if(!t)throw In.create("no-app",{appName:e});return t}function Pn(){return Array.from(yn.values())}function Dn(e){return On.apply(this,arguments)}function On(){return On=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!yn.has(n)){e.next=6;break}return yn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}function Rn(e,t,n){var r,i=null!==(r=mn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void pn.warn(u.join(" "))}bn(new Pt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ln(e,t){if(null!==e&&"function"!==typeof e)throw In.create("invalid-log-argument");!function(e,t){var n,r=A(Mt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=jt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Lt[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Fn(e){var t;t=e,Mt.forEach((function(e){e.setLogLevel(t)}))}var Mn="firebase-heartbeat-database",jn=1,Un="firebase-heartbeat-store",Vn=null;function Bn(){return Vn||(Vn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=nn(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(nn(u.result),e.oldVersion,e.newVersion,nn(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Mn,jn,{upgrade:function(e,t){if(0===t)e.createObjectStore(Un)}}).catch((function(e){throw In.create("idb-open",{originalErrorMessage:e.message})}))),Vn}function zn(e){return qn.apply(this,arguments)}function qn(){return qn=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bn();case 3:return n=e.sent,e.next=6,n.transaction(Un).objectStore(Un).get(Hn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof yt?pn.warn(e.t0.message):(i=In.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),qn.apply(this,arguments)}function Gn(e,t){return Kn.apply(this,arguments)}function Kn(){return Kn=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Bn();case 3:return r=e.sent,i=r.transaction(Un,"readwrite"),a=i.objectStore(Un),e.next=8,a.put(n,Hn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof yt?pn.warn(e.t0.message):(o=In.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),pn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Kn.apply(this,arguments)}function Hn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Wn=function(){function e(t){var n=this;y(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new $n(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return w(e,[{key:"triggerHeartbeat",value:function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Qn(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Qn(),n=Yn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=it(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qn(){return(new Date).toISOString().substring(0,10)}function Yn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=A(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),Zn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),Zn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Jn,Xn,$n=function(){function e(t){y(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return w(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(mt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,zn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Gn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(m(r.heartbeats),m(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function Zn(e){return it(JSON.stringify({version:2,heartbeats:e})).length}Jn="",bn(new Pt("platform-logger",(function(e){return new fn(e)}),"PRIVATE")),bn(new Pt("heartbeat",(function(e){return new Wn(e)}),"PRIVATE")),Rn(hn,dn,Jn),Rn(hn,dn,"esm2017"),Rn("fire-js","");var er=function(){function e(t,n){var r=this;y(this,e),this._delegate=t,this.firebase=n,kn(t,new Pt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return w(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Dn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){kn(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){wn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),tr=(et(Xn={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),et(Xn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Xn),nr=new gt("app-compat","Firebase",tr);var rr=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Nn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Rn,setLogLevel:Fn,onLog:Ln,apps:null,SDK_VERSION:Cn,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(bn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw nr.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ot(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wt(n,e=e||vn))throw nr.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(er);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ot(n,e)},createSubscribe:St,ErrorFactory:gt,deepExtend:ot}),n}(),ir=new zt("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ir.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ar=self.firebase.SDK_VERSION;ar&&ar.indexOf("LITE")>=0&&ir.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var or=rr;!function(e){Rn("@firebase/app-compat","0.2.13",e)}();function ur(){return ur="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ur.apply(this,arguments)}or.registerVersion("firebase","9.23.0","app-compat");function sr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var cr,lr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},fr="EMAIL_SIGNIN",hr="PASSWORD_RESET",dr="RECOVER_EMAIL",pr="REVERT_SECOND_FACTOR_ADDITION",vr="VERIFY_AND_CHANGE_EMAIL",mr="VERIFY_EMAIL";function yr(){return et({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var gr=function(){var e;return et(e={},"admin-restricted-operation","This operation is restricted to administrators only."),et(e,"argument-error",""),et(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),et(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),et(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),et(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),et(e,"cordova-not-ready","Cordova framework is not ready."),et(e,"cors-unsupported","This browser is not supported."),et(e,"credential-already-in-use","This credential is already associated with a different user account."),et(e,"custom-token-mismatch","The custom token corresponds to a different audience."),et(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),et(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),et(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),et(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),et(e,"email-already-in-use","The email address is already in use by another account."),et(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),et(e,"expired-action-code","The action code has expired."),et(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),et(e,"internal-error","An internal AuthError has occurred."),et(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),et(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),et(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),et(e,"invalid-auth-event","An internal AuthError has occurred."),et(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),et(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),et(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),et(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),et(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),et(e,"invalid-email","The email address is badly formatted."),et(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),et(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),et(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),et(e,"invalid-credential","The supplied auth credential is malformed or has expired."),et(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),et(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),et(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),et(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),et(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),et(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),et(e,"wrong-password","The password is invalid or the user does not have a password."),et(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),et(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),et(e,"invalid-provider-id","The specified provider ID is invalid."),et(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),et(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),et(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),et(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),et(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),et(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),et(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),et(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),et(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),et(e,"missing-continue-uri","A continue URL must be provided in the request."),et(e,"missing-iframe-start","An internal AuthError has occurred."),et(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),et(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),et(e,"missing-password","A non-empty password must be provided"),et(e,"missing-multi-factor-info","No second factor identifier is provided."),et(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),et(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),et(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),et(e,"app-deleted","This instance of FirebaseApp has been deleted."),et(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),et(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),et(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),et(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),et(e,"no-auth-event","An internal AuthError has occurred."),et(e,"no-such-provider","User was not linked to an account with the given provider."),et(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),et(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),et(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),et(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),et(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),et(e,"provider-already-linked","User can only be linked to one identity for the given provider."),et(e,"quota-exceeded","The project's quota for this operation has been exceeded."),et(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),et(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),et(e,"rejected-credential","The request contains malformed or mismatching credentials."),et(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),et(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),et(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),et(e,"timeout","The operation has timed out."),et(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),et(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),et(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),et(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),et(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),et(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),et(e,"unverified-email","The operation requires a verified email."),et(e,"user-cancelled","The user did not grant your application the permissions it requested."),et(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),et(e,"user-disabled","The user account has been disabled by an administrator."),et(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),et(e,"user-signed-out",""),et(e,"weak-password","The password must be 6 characters long or more."),et(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),et(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),et(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),et(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),et(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),et(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),et(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),et(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),et(e,"invalid-req-type","Invalid request parameters."),et(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},kr=yr,wr=new gt("auth","Firebase",yr()),br=new zt("@firebase/auth");function xr(e){if(br.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];br.warn.apply(br,["Auth (".concat(Cn,"): ").concat(e)].concat(n))}}function _r(e){if(br.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];br.error.apply(br,["Auth (".concat(Cn,"): ").concat(e)].concat(n))}}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Cr.apply(void 0,[e].concat(n))}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Cr.apply(void 0,[e].concat(n))}function Ir(e,t,n){var r=Object.assign(Object.assign({},kr()),et({},t,n));return new gt("auth","Firebase",r).create(t,{appName:e.name})}function Sr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Tr(e,"argument-error"),Ir(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=m(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(m(o)))}return wr.create.apply(wr,[e].concat(n))}function Nr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Cr.apply(void 0,[t].concat(r))}}function Ar(e){var t="INTERNAL ASSERTION FAILED: "+e;throw _r(t),new Error(t)}function Pr(e,t){e||Ar(t)}function Dr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Or(){return"http:"===Rr()||"https:"===Rr()}function Rr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Lr=function(){function e(t,n){y(this,e),this.shortDelay=t,this.longDelay=n,Pr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ft())||pt()}return w(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Or()||dt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Fr(e,t){Pr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Mr=function(){function e(){y(this,e)}return w(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Ar("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Ar("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Ar("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),jr=(et(cr={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),et(cr,"MISSING_CUSTOM_TOKEN","internal-error"),et(cr,"INVALID_IDENTIFIER","invalid-email"),et(cr,"MISSING_CONTINUE_URI","internal-error"),et(cr,"INVALID_PASSWORD","wrong-password"),et(cr,"MISSING_PASSWORD","missing-password"),et(cr,"EMAIL_EXISTS","email-already-in-use"),et(cr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),et(cr,"INVALID_IDP_RESPONSE","invalid-credential"),et(cr,"INVALID_PENDING_TOKEN","invalid-credential"),et(cr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),et(cr,"MISSING_REQ_TYPE","internal-error"),et(cr,"EMAIL_NOT_FOUND","user-not-found"),et(cr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),et(cr,"EXPIRED_OOB_CODE","expired-action-code"),et(cr,"INVALID_OOB_CODE","invalid-action-code"),et(cr,"MISSING_OOB_CODE","internal-error"),et(cr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),et(cr,"INVALID_ID_TOKEN","invalid-user-token"),et(cr,"TOKEN_EXPIRED","user-token-expired"),et(cr,"USER_NOT_FOUND","user-token-expired"),et(cr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),et(cr,"INVALID_CODE","invalid-verification-code"),et(cr,"INVALID_SESSION_INFO","invalid-verification-id"),et(cr,"INVALID_TEMPORARY_PROOF","invalid-credential"),et(cr,"MISSING_SESSION_INFO","missing-verification-id"),et(cr,"SESSION_EXPIRED","code-expired"),et(cr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),et(cr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),et(cr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),et(cr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),et(cr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),et(cr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),et(cr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),et(cr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),et(cr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),et(cr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),et(cr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),et(cr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),et(cr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),et(cr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),et(cr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),et(cr,"MISSING_CLIENT_TYPE","missing-client-type"),et(cr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),et(cr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),et(cr,"INVALID_REQ_TYPE","invalid-req-type"),cr),Ur=new Lr(3e4,6e4);function Vr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Br(e,t,n,r){return zr.apply(this,arguments)}function zr(){return zr=c(u().mark((function e(t,n,r,i){var a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",qr(t,a,c(u().mark((function e(){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=Tt(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Mr.fetch()(Wr(t,t.config.apiHost,r,s),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),zr.apply(this,arguments)}function qr(e,t,n){return Gr.apply(this,arguments)}function Gr(){return Gr=c(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},jr),n),e.prev=2,a=new Qr(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Yr(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=o.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=p(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Yr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Yr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Yr(t,"user-disabled",s);case 29:if(v=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ir(t,v,d);case 34:Tr(t,v);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof yt)){e.next=41;break}throw e.t0;case 41:Tr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Gr.apply(this,arguments)}function Kr(e,t,n,r){return Hr.apply(this,arguments)}function Hr(){return Hr=c(u().mark((function e(t,n,r,i){var a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Br(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Tr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Wr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Fr(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Qr=function(){function e(t){var n=this;y(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Er(n.auth,"network-request-failed"))}),Ur.get())}))}return w(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Yr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Er(e,t,r);return i.customData._tokenResponse=n,i}function Jr(e,t){return Xr.apply(this,arguments)}function Xr(){return Xr=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Xr.apply(this,arguments)}function $r(e,t){return Zr.apply(this,arguments)}function Zr(){return Zr=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function ei(e,t){return ti.apply(this,arguments)}function ti(){return ti=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ti.apply(this,arguments)}function ni(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function ri(){return ri=c(u().mark((function e(t){var n,r,i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=At(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Nr((a=ai(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ni(ii(a.auth_time)),issuedAtTime:ni(ii(a.iat)),expirationTime:ni(ii(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e){return 1e3*Number(e)}function ai(e){var t=p(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return _r("JWT malformed, contained fewer than 3 sections"),null;try{var a=at(r);return a?JSON.parse(a):(_r("Failed to decode base64 JWT payload"),null)}catch(o){return _r("Caught error parsing JWT payload as JSON",null===o||void 0===o?void 0:o.toString()),null}}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=c(u().mark((function e(t,n){var r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof yt&&si(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),ui.apply(this,arguments)}function si(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ci=function(){function e(t){y(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return w(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),li=function(){function e(t,n){y(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return w(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ni(this.lastLoginAt),this.creationTime=ni(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function fi(e){return hi.apply(this,arguments)}function hi(){return hi=c(u().mark((function e(t){var n,r,i,a,o,s,c,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,oi(t,ei(r,{idToken:i}));case 6:Nr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=sr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],c=pi(t.providerData,s),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new li(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function di(){return(di=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=At(t),e.next=3,fi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(m(n),m(t))}function vi(e,t){return mi.apply(this,arguments)}function mi(){return mi=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr(t,{},c(u().mark((function e(){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Tt({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=Wr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Mr.fetch()(s,{method:"POST",headers:c,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),mi.apply(this,arguments)}var yi=function(){function e(){y(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return w(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Nr(e.idToken,"internal-error"),Nr("undefined"!==typeof e.idToken,"internal-error"),Nr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=ai(e);return Nr(t,"internal-error"),Nr("undefined"!==typeof t.exp,"internal-error"),Nr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Nr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Ar("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Nr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Nr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Nr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function gi(e,t){Nr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var ki=function(){function e(t){y(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=sr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?m(a.providerData):[],this.metadata=new li(a.createdAt||void 0,a.lastLoginAt||void 0)}return w(e,[{key:"getIdToken",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Nr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return ri.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return di.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Nr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Nr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=c(u().mark((function e(t){var n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,fi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,oi(this,Jr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Nr(k&&_,t,"internal-error");var T=yi.fromJSON(this.name,_);Nr("string"===typeof k,t,"internal-error"),gi(f,t.name),gi(h,t.name),Nr("boolean"===typeof w,t,"internal-error"),Nr("boolean"===typeof b,t,"internal-error"),gi(d,t.name),gi(p,t.name),gi(v,t.name),gi(m,t.name),gi(y,t.name),gi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:T,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=c(u().mark((function t(n,r){var i,a,o,s=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new yi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,fi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),wi=new Map;function bi(e){Pr(e instanceof Function,"Expected a class definition");var t=wi.get(e);return t?(Pr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,wi.set(e,t),t)}var xi=function(){function e(){y(this,e),this.type="NONE",this.storage={}}return w(e,[{key:"_isAvailable",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();xi.type="NONE";var _i=xi;function Ti(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ei=function(){function e(t,n,r){y(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ti(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ti("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return w(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?ki._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=c(u().mark((function t(n,r){var i,a,o,s,l,f,h,d,p,v,m,y=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=y.length>2&&void 0!==y[2]?y[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(bi(_i),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||bi(_i),s=Ti(i,n.config.apiKey,n.name),l=null,f=A(r),t.prev=10,f.s();case 12:if((h=f.n()).done){t.next=29;break}return d=h.value,t.prev=14,t.next=17,d._get(s);case 17:if(!(p=t.sent)){t.next=23;break}return v=ki._fromJSON(n,p),d!==o&&(l=v),o=d,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),f.e(t.t1);case 34:return t.prev=34,f.f(),t.finish(34);case 37:if(m=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=m[0],!l){t.next=44;break}return t.next=44,o._set(s,l.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ii(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ai(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Si(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Di(t))return"Blackberry";if(Oi(t))return"Webos";if(Ci(t))return"Safari";if((t.includes("chrome/")||Ni(t))&&!t.includes("edge/"))return"Chrome";if(Pi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/firefox\//i.test(e)}function Ci(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/crios\//i.test(e)}function Ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/iemobile/i.test(e)}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/android/i.test(e)}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/blackberry/i.test(e)}function Oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/webos/i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return Ri(e)||Pi(e)||Oi(e)||Di(e)||/windows phone/i.test(e)||Ai(e)}function Fi(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ii(ft());break;case"Worker":t="".concat(Ii(ft()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Cn,"/").concat(r)}function Mi(e){return ji.apply(this,arguments)}function ji(){return ji=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Br(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}function Ui(e,t){return Vi.apply(this,arguments)}function Vi(){return Vi=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"GET","/v2/recaptchaConfig",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Vi.apply(this,arguments)}function Bi(e){return void 0!==e&&void 0!==e.getResponse}function zi(e){return void 0!==e&&void 0!==e.enterprise}var qi=w((function e(t){if(y(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Gi(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Er("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Ki(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Hi=function(){function e(t){y(this,e),this.type="recaptcha-enterprise",this.auth=Xi(t)}return w(e,[{key:"verify",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a,o=this,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;zi(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=c(u().mark((function e(n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ui(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new qi(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:"verify",n=s.length>1&&void 0!==s[1]&&s[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&zi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Gi("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Wi(e,t,n){return Qi.apply(this,arguments)}function Qi(){return Qi=c(u().mark((function e(t,n,r){var i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]&&c[3],a=new Hi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return s=Object.assign({},n),i?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),Qi.apply(this,arguments)}var Yi=function(){function e(t){y(this,e),this.auth=t,this.queue=[]}return w(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=A(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=A(n);try{for(o.s();!(s=o.n()).done;){c=s.value;try{c()}catch(u){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ji=function(){function e(t,n,r,i){y(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $i(this),this.idTokenSubscription=new $i(this),this.beforeStateQueue=new Yi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=wr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return w(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=bi(t)),this._initializationPromise=this.queue(c(u().mark((function r(){var i,a;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ei.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:c=e.sent,o&&o!==s||!(null===c||void 0===c?void 0:c.user)||(i=c.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Nr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?At(t):null)&&Nr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=c(u().mark((function e(t){var n,r=this,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Nr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(c(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(bi(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ui(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new qi(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Hi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new gt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Nr(n=t&&bi(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ei.create(this,[bi(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=c(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Nr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Nr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Fi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=c(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=et({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&xr("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Xi(e){return At(e)}var $i=function(){function e(t){var n=this;y(this,e),this.auth=t,this.observer=null,this.addObserver=St((function(e){return n.observer=e}))}return w(e,[{key:"next",get:function(){return Nr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Zi(e,t,n){var r=Xi(e);Nr(r._canInitEmulator,r,"emulator-config-failed"),Nr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ea(t),o=function(e){var t=ea(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ta(r.substr(a.length+1))}}var o=p(r.split(":"),2);return{host:o[0],port:ta(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ea(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ta(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var na=function(){function e(t,n){y(this,e),this.providerId=t,this.signInMethod=n}return w(e,[{key:"toJSON",value:function(){return Ar("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Ar("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Ar("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Ar("not implemented")}}]),e}();function ra(e,t){return ia.apply(this,arguments)}function ia(){return ia=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:resetPassword",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ia.apply(this,arguments)}function aa(e,t){return oa.apply(this,arguments)}function oa(){return oa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),oa.apply(this,arguments)}function ua(e,t){return sa.apply(this,arguments)}function sa(){return sa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:update",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function ca(e,t){return la.apply(this,arguments)}function la(){return la=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithPassword",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),la.apply(this,arguments)}function fa(e,t){return ha.apply(this,arguments)}function ha(){return ha=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:sendOobCode",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ha.apply(this,arguments)}function da(e,t){return pa.apply(this,arguments)}function pa(){return pa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,n));case 1:case"end":return e.stop()}}),e)}))),pa.apply(this,arguments)}function va(e,t){return ma.apply(this,arguments)}function ma(){return ma=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,n));case 1:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}function ya(e,t){return ga.apply(this,arguments)}function ga(){return ga=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,n));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ka(e,t){return wa.apply(this,arguments)}function wa(){return wa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fa(t,n));case 1:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function ba(e,t){return xa.apply(this,arguments)}function xa(){return xa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function _a(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithEmailLink",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}var Ea=function(e){x(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return y(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return w(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Wi(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",ca(t,i));case 11:return e.abrupt("return",ca(t,r).catch(function(){var e=c(u().mark((function e(n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Wi(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",ca(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",ba(t,{email:this._email,oobCode:this._password}));case 13:Tr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",aa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",_a(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Tr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(na);function Ia(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithIdp",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}var Ca=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return w(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ia(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ia(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tt(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=sr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(na);function Na(e,t){return Aa.apply(this,arguments)}function Aa(){return Aa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:sendVerificationCode",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Pa(){return Pa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Da(){return Da=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Kr(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Yr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}var Oa=et({},"USER_NOT_FOUND","user-not-found");function Ra(){return Ra=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithPhoneNumber",Vr(t,r),Oa));case 2:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}var La=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone","phone")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Pa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Da.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ra.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(na);var Fa=function(){function e(t){var n,r,i,a,o,u;y(this,e);var s=Et(It(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Nr(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return w(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Et(It(e)).link,n=t?Et(It(t)).deep_link_id:null,r=Et(It(e)).deep_link_id;return(r?Et(It(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(dE){return null}}}]),e}();var Ma=function(){function e(){y(this,e),this.providerId=e.PROVIDER_ID}return w(e,null,[{key:"credential",value:function(e,t){return Ea._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Fa.parseLink(t);return Nr(n,"argument-error"),Ea._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ma.PROVIDER_ID="password",Ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ja=function(){function e(t){y(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return w(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ua=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).scopes=[],e}return w(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return m(this.scopes)}}]),n}(ja),Va=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Nr(e.idToken||e.accessToken,"argument-error"),Ca._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Nr("providerId"in t&&"signInMethod"in t,"argument-error"),Ca._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ua),Ba=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.call(this,"facebook.com")}return w(n,null,[{key:"credential",value:function(e){return Ca._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(dE){return null}}}]),n}(Ua);Ba.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ba.PROVIDER_ID="facebook.com";var za=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return w(n,null,[{key:"credential",value:function(e,t){return Ca._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(dE){return null}}}]),n}(Ua);za.GOOGLE_SIGN_IN_METHOD="google.com",za.PROVIDER_ID="google.com";var qa=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.call(this,"github.com")}return w(n,null,[{key:"credential",value:function(e){return Ca._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(dE){return null}}}]),n}(Ua);qa.GITHUB_SIGN_IN_METHOD="github.com",qa.PROVIDER_ID="github.com";var Ga=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return w(n,[{key:"_getIdTokenResponse",value:function(e){return Ia(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ia(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(na),Ka=function(e){x(n,e);var t=I(n);function n(e){return y(this,n),Nr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return w(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ga.fromJSON(e);return Nr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ga._create(r,n)}catch(i){return null}}}]),n}(ja),Ha=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.call(this,"twitter.com")}return w(n,null,[{key:"credential",value:function(e,t){return Ca._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(dE){return null}}}]),n}(Ua);function Wa(e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signUp",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}Ha.TWITTER_SIGN_IN_METHOD="twitter.com",Ha.PROVIDER_ID="twitter.com";var Ya=function(){function e(t){y(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return w(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=c(u().mark((function t(n,r,i){var a,o,s,c,l=arguments;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,ki._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=Ja(i),c=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=c(u().mark((function t(n,r,i){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ja(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ja(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Xa(){return Xa=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Ya({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Wa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Ya._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Xa.apply(this,arguments)}var $a=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o,u;return y(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(E(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return w(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(yt);function Za(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw $a._fromErrorAndOperation(e,n,t,r);throw n}))}function eo(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function to(e,t){return no.apply(this,arguments)}function no(){return no=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=At(t),e.next=3,ao(!0,r,n);case 3:return e.t0=$r,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=eo(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),no.apply(this,arguments)}function ro(e,t){return io.apply(this,arguments)}function io(){return io=c(u().mark((function e(t,n){var r,i,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=oi,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Ya._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),io.apply(this,arguments)}function ao(e,t,n){return oo.apply(this,arguments)}function oo(){return(oo=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fi(n);case 2:i=eo(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Nr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uo(e,t){return so.apply(this,arguments)}function so(){return so=c(u().mark((function e(t,n){var r,i,a,o,s,c,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,oi(t,Za(i,a,n,t),r);case 6:return Nr((o=e.sent).idToken,i,"internal-error"),Nr(s=ai(o.idToken),i,"internal-error"),c=s.sub,Nr(t.uid===c,i,"user-mismatch"),e.abrupt("return",Ya._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Tr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),so.apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return lo=c(u().mark((function e(t,n){var r,i,a,o,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,Za(t,i,n);case 4:return a=e.sent,e.next=7,Ya._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),lo.apply(this,arguments)}function fo(e,t){return ho.apply(this,arguments)}function ho(){return ho=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",co(Xi(t),n));case 1:case"end":return e.stop()}}),e)}))),ho.apply(this,arguments)}function po(e,t){return vo.apply(this,arguments)}function vo(){return(vo=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=At(t),e.next=3,ao(!1,r,n.providerId);case 3:return e.abrupt("return",ro(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mo(e,t){return yo.apply(this,arguments)}function yo(){return(yo=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",uo(At(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function go(e,t){return ko.apply(this,arguments)}function ko(){return ko=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Kr(t,"POST","/v1/accounts:signInWithCustomToken",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ko.apply(this,arguments)}function wo(){return wo=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xi(t),e.next=3,go(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Ya._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),wo.apply(this,arguments)}var bo=function(){function e(t,n){y(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return w(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?xo._fromServerResponse(e,t):"totpInfo"in t?_o._fromServerResponse(e,t):Tr(e,"internal-error")}}]),e}(),xo=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bo),_o=function(e){x(n,e);var t=I(n);function n(e){return y(this,n),t.call(this,"totp",e)}return w(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(bo);function To(e,t,n){var r;Nr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Nr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Nr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Nr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Eo(){return Eo=c(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Xi(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Wi(a,o,"getOobCode",!0);case 5:return s=e.sent,r&&To(a,s,r),e.next=9,va(a,s);case 9:e.next=14;break;case 11:return r&&To(a,o,r),e.next=14,va(a,o).catch(function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Wi(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&To(a,n,r),e.next=8,va(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Eo.apply(this,arguments)}function Io(){return Io=c(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(At(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Io.apply(this,arguments)}function So(){return So=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ua(At(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),So.apply(this,arguments)}function Co(e,t){return No.apply(this,arguments)}function No(){return No=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=At(t),e.next=3,ra(r,{oobCode:n});case 3:i=e.sent,Nr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Nr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Nr(i.mfaInfo,r,"internal-error");case 13:Nr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=bo._fromServerResponse(Xi(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ao(){return Ao=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Co(At(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Po(e,t,n){return Do.apply(this,arguments)}function Do(){return Do=c(u().mark((function e(t,n,r){var i,a,o,s,l,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Xi(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Wi(a,o,"signUpPassword");case 5:l=e.sent,s=Wa(a,l),e.next=10;break;case 9:s=Wa(a,o).catch(function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Wi(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Wa(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,s.catch((function(e){return Promise.reject(e)}));case 12:return f=e.sent,e.next=15,Ya._fromIdTokenResponse(a,"signIn",f);case 15:return h=e.sent,e.next=18,a._updateCurrentUser(h.user);case 18:return e.abrupt("return",h);case 19:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Oo(){return Oo=c(u().mark((function e(t,n,r){var i,a,o,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(e,t){Nr(t.handleCodeInApp,a,"argument-error"),t&&To(a,e,t)},a=Xi(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Wi(a,o,"getOobCode",!0);case 6:return l=e.sent,s(l,r),e.next=10,ya(a,l);case 10:e.next=15;break;case 12:return s(o,r),e.next=15,ya(a,o).catch(function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Wi(a,o,"getOobCode",!0);case 4:return n=e.sent,s(n,r),e.next=8,ya(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Oo.apply(this,arguments)}function Ro(){return Ro=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=At(t),Nr((a=Ma.credentialWithLink(n,r||Dr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",fo(i,a));case 4:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Lo(e,t){return Fo.apply(this,arguments)}function Fo(){return Fo=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:createAuthUri",Vr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function Mo(){return Mo=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Or()?Dr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Lo(At(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function jo(){return(jo=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=At(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&To(r.auth,a,n),e.next=8,da(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uo(){return(Uo=c(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=At(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&To(i.auth,o,r),e.next=8,ka(i.auth,o);case 8:if(s=e.sent,s.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vo(e,t){return Bo.apply(this,arguments)}function Bo(){return Bo=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Br(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Bo.apply(this,arguments)}function zo(){return(zo=c(u().mark((function e(t,n){var r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=At(t),e.next=6,a.getIdToken();case 6:return o=e.sent,s={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,oi(a,Vo(a.auth,s));case 10:return c=e.sent,a.displayName=c.displayName||null,a.photoURL=c.photoUrl||null,(l=a.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=a.displayName,l.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t,n){return Go.apply(this,arguments)}function Go(){return Go=c(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,oi(t,aa(i,o));case 9:return s=e.sent,e.next=12,t._updateTokensIfNecessary(s,!0);case 12:case"end":return e.stop()}}),e)}))),Go.apply(this,arguments)}var Ko=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};y(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ho=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e,r,i)).username=a,o}return w(n)}(Ko),Wo=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"facebook.com",r)}return w(n)}(Ko),Qo=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return w(n)}(Ho),Yo=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"google.com",r)}return w(n)}(Ko),Jo=function(e){x(n,e);var t=I(n);function n(e,r,i){return y(this,n),t.call(this,e,"twitter.com",r,i)}return w(n)}(Ho);function Xo(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=ai(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Ko(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Wo(a,i);case"github.com":return new Qo(a,i);case"google.com":return new Yo(a,i);case"twitter.com":return new Jo(a,i,e.screenName||null);case"custom":case"anonymous":return new Ko(a,null);default:return new Ko(a,r,i)}}(n)}var $o=function(){function e(t,n,r){y(this,e),this.type=t,this.credential=n,this.auth=r}return w(e,[{key:"toJSON",value:function(){return{multiFactorSession:et({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Zo=function(){function e(t,n,r){y(this,e),this.session=t,this.hints=n,this.signInResolver=r}return w(e,[{key:"resolveSignIn",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xi(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return bo._fromServerResponse(r,e)}));Nr(i.mfaPendingCredential,r,"internal-error");var o=$o._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=c(u().mark((function e(t){var a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,s=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Ya._fromIdTokenResponse(r,n.operationType,s);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return Nr(n.user,r,"internal-error"),e.abrupt("return",Ya._forOperation(n.user,n.operationType,s));case 17:Tr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function eu(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:start",Vr(e,t))}function tu(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:start",Vr(e,t))}function nu(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vr(e,t))}function ru(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Vr(e,t))}var iu=function(){function e(t){var n=this;y(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return bo._fromServerResponse(t.auth,e)})))}))}return w(e,[{key:"getSession",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=$o,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,oi(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,oi(this.user,ru(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),au=new WeakMap;var ou="__sak",uu=function(){function e(t,n){y(this,e),this.storageRetriever=t,this.type=n}return w(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ou,"1"),this.storage.removeItem(ou),Promise.resolve(!0)):Promise.resolve(!1)}catch(dE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var su=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ft();return Ci(e)||Ri(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Li(),e._shouldAllowMigration=!0,e}return w(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);vt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=c(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(_(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=c(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(_(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(_(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(uu);su.type="LOCAL";var cu=su,lu=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return w(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(uu);lu.type="SESSION";var fu=lu;function hu(e){return Promise.all(e.map(function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var du=function(){function e(t){y(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return w(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),l=Array.from(s).map(function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,hu(l);case 9:f=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function pu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}du.receivers=[];var vu=function(){function e(t){y(this,e),this.target=t,this.handlers=new Set}return w(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=c(u().mark((function e(t,n){var r,i,a,o,s=this,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=pu("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function mu(){return window}function yu(e){mu().location.href=e}function gu(){return"undefined"!==typeof mu().WorkerGlobalScope&&"function"===typeof mu().importScripts}function ku(){return wu.apply(this,arguments)}function wu(){return(wu=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function bu(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var xu="firebaseLocalStorageDb",_u="firebaseLocalStorage",Tu="fbase_key",Eu=function(){function e(t){y(this,e),this.request=t}return w(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Iu(e,t){return e.transaction([_u],t?"readwrite":"readonly").objectStore(_u)}function Su(){var e=indexedDB.deleteDatabase(xu);return new Eu(e).toPromise()}function Cu(){var e=indexedDB.open(xu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(_u,{keyPath:Tu})}catch(r){n(r)}})),e.addEventListener("success",c(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(_u)){n.next=12;break}return r.close(),n.next=5,Su();case 5:return n.t0=t,n.next=8,Cu();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Nu(e,t,n){return Au.apply(this,arguments)}function Au(){return Au=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Iu(t,!0).put((et(i={},Tu,n),et(i,"value",r),i)),e.abrupt("return",new Eu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Au.apply(this,arguments)}function Pu(e,t){return Du.apply(this,arguments)}function Du(){return Du=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Iu(t,!1).get(n),e.next=3,new Eu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Du.apply(this,arguments)}function Ou(e,t){var n=Iu(e,!0).delete(t);return new Eu(n).toPromise()}var Ru=function(){function e(){y(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return w(e,[{key:"_openDb",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Cu();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=c(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=du._getInstance(gu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=c(u().mark((function e(n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=c(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new vu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&bu()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Cu();case 5:return t=e.sent,e.next=8,Nu(t,ou,"1");case 8:return e.next=10,Ou(t,ou);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=c(u().mark((function e(t,n){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Nu(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Pu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=c(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ou(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a,o,s,c,l,f,h;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Iu(e,!1).getAll();return new Eu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=A(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,c=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(c)&&(this.notifyListeners(s,c),n.push(s))}catch(u){i.e(u)}finally{i.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Ru.type="LOCAL";var Lu=Ru;function Fu(e,t){return Br(e,"POST","/v2/accounts/mfaSignIn:start",Vr(e,t))}function Mu(e,t){return Br(e,"POST","/v2/accounts/mfaSignIn:finalize",Vr(e,t))}var ju=1e12,Uu=function(){function e(t){y(this,e),this.auth=t,this.counter=ju,this._widgets=new Map}return w(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Vu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||ju;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||ju;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||ju,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Vu=function(){function e(t,n,r){var i=this;y(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Nr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return w(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Bu=Ki("rcb"),zu=new Lr(3e4,6e4),qu=function(){function e(){var t;y(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=mu().grecaptcha)||void 0===t?void 0:t.render)}return w(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Nr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Bi(mu().grecaptcha)?Promise.resolve(mu().grecaptcha):new Promise((function(r,i){var a=mu().setTimeout((function(){i(Er(e,"network-request-failed"))}),zu.get());mu()[Bu]=function(){mu().clearTimeout(a),delete mu()[Bu];var o=mu().grecaptcha;if(o&&Bi(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Er(e,"internal-error"))},Gi("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Tt({onload:Bu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Er(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=mu().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Gu=function(){function e(){y(this,e)}return w(e,[{key:"load",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Uu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Ku="recaptcha",Hu={theme:"light",type:"image"},Wu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Hu),r=arguments.length>2?arguments[2]:void 0;y(this,e),this.parameters=n,this.type=Ku,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xi(r),this.isInvisible="invisible"===this.parameters.size,Nr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Nr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Gu:new qu,this.validateStartingState()}return w(e,[{key:"verify",value:function(){var e=c(u().mark((function e(){var t,n,r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Nr(!this.parameters.sitekey,this.auth,"argument-error"),Nr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Nr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=mu()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Nr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr(Or()&&!gu(),this.auth,"internal-error"),e.next=3,Qu();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Mi(this.auth);case 8:Nr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Nr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Qu(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Yu=function(){function e(t,n){y(this,e),this.verificationId=t,this.onConfirmation=n}return w(e,[{key:"confirm",value:function(e){var t=La._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ju(){return Ju=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),e.next=3,es(i,n,At(r));case 3:return a=e.sent,e.abrupt("return",new Yu(a,(function(e){return fo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Xu(e,t,n){return $u.apply(this,arguments)}function $u(){return($u=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=At(t),e.next=3,ao(!1,i,"phone");case 3:return e.next=5,es(i.auth,n,At(r));case 5:return a=e.sent,e.abrupt("return",new Yu(a,(function(e){return po(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zu(){return(Zu=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=At(t),e.next=3,es(i.auth,n,At(r));case 3:return a=e.sent,e.abrupt("return",new Yu(a,(function(e){return mo(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return ts=c(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Nr("string"===typeof a,t,"argument-error"),Nr(r.type===Ku,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Nr("enroll"===s.type,t,"internal-error"),e.next=13,eu(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return Nr("signin"===s.type,t,"internal-error"),Nr(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Fu(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Na(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ts.apply(this,arguments)}function ns(){return(ns=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ro(At(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rs=function(){function e(t){y(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xi(t)}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return es(this.auth,e,At(t))}}],[{key:"credential",value:function(e,t){return La._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?La._fromTokenResponse(n,r):null}}]),e}();function is(e,t){return t?bi(t):(Nr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}rs.PROVIDER_ID="phone",rs.PHONE_SIGN_IN_METHOD="phone";var as=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this,"custom","custom")).params=e,r}return w(n,[{key:"_getIdTokenResponse",value:function(e){return Ia(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ia(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ia(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(na);function os(e){return co(e.auth,new as(e),e.bypassAuthState)}function us(e){var t=e.auth,n=e.user;return Nr(n,t,"internal-error"),uo(n,new as(e),e.bypassAuthState)}function ss(e){return cs.apply(this,arguments)}function cs(){return cs=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Nr(r=t.user,n,"internal-error"),e.abrupt("return",ro(r,new as(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var ls=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];y(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return w(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=c(u().mark((function t(n,r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return os;case"linkViaPopup":case"linkViaRedirect":return ss;case"reauthViaPopup":case"reauthViaRedirect":return us;default:Tr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),fs=new Lr(2e3,1e4);function hs(e,t,n){return ds.apply(this,arguments)}function ds(){return ds=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),Sr(t,n,ja),a=is(i,r),o=new ys(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}function ps(){return(ps=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=At(t)).auth,n,ja),a=is(i.auth,r),o=new ys(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return(ms=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=At(t)).auth,n,ja),a=is(i.auth,r),o=new ys(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ys=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o){var u;return y(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=E(u),u}return w(n,[{key:"executeNotNull",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Nr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=c(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr(1===this.filter.length,"Popup operations only handle one event"),t=pu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Er(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Er(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Er(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,fs.get())}()}}]),n}(ls);ys.currentPopupAction=null;var gs="pendingRedirect",ks=new Map,ws=function(e){x(n,e);var t=I(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return y(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return w(n,[{key:"execute",value:function(){var e=c(u().mark((function e(){var t,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=ks.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,bs(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ur(_(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:ks.set(this.auth._key(),t);case 21:return this.bypassAuthState||ks.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=c(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ur(_(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ur(_(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ls);function bs(e,t){return xs.apply(this,arguments)}function xs(){return xs=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ss(n),i=Is(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),xs.apply(this,arguments)}function _s(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Is(t)._set(Ss(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Es(e,t){ks.set(e._key(),t)}function Is(e){return bi(e._redirectPersistence)}function Ss(e){return Ti(gs,e.config.apiKey,e.name)}function Cs(e,t,n){return function(e,t,n){return Ns.apply(this,arguments)}(e,t,n)}function Ns(){return Ns=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xi(t),Sr(t,n,ja),e.next=4,i._initializationPromise;case 4:return a=is(i,r),e.next=7,_s(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Ns.apply(this,arguments)}function As(e,t,n){return function(e,t,n){return Ps.apply(this,arguments)}(e,t,n)}function Ps(){return(Ps=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=At(t)).auth,n,ja),e.next=4,i.auth._initializationPromise;case 4:return a=is(i.auth,r),e.next=7,_s(a,i.auth);case 7:return e.next=9,js(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ds(e,t,n){return function(e,t,n){return Os.apply(this,arguments)}(e,t,n)}function Os(){return(Os=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sr((i=At(t)).auth,n,ja),e.next=4,i.auth._initializationPromise;case 4:return a=is(i.auth,r),e.next=7,ao(!1,i,n.providerId);case 7:return e.next=9,_s(a,i.auth);case 9:return e.next=11,js(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rs(e,t){return Ls.apply(this,arguments)}function Ls(){return Ls=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xi(t)._initializationPromise;case 2:return e.abrupt("return",Fs(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Ls.apply(this,arguments)}function Fs(e,t){return Ms.apply(this,arguments)}function Ms(){return Ms=c(u().mark((function e(t,n){var r,i,a,o,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=Xi(t),a=is(i,n),o=new ws(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}function js(e){return Us.apply(this,arguments)}function Us(){return(Us=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=pu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Vs=function(){function e(t){y(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return w(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!zs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Er(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bs(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Bs(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Bs(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function zs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function qs(e){return Gs.apply(this,arguments)}function Gs(){return Gs=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Br(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Gs.apply(this,arguments)}var Ks=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hs=/^https?/;function Ws(){return Ws=c(u().mark((function e(t){var n,r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,qs(t);case 4:n=e.sent,r=n.authorizedDomains,i=A(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Qs(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Tr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ws.apply(this,arguments)}function Qs(e){var t=Dr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Hs.test(r))return!1;if(Ks.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Ys=new Lr(3e4,6e4);function Js(){var e=mu().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=m(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Xs=null;function $s(e){return Xs=Xs||function(e){return new Promise((function(t,n){var r,i,a;function o(){Js(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Js(),n(Er(e,"network-request-failed"))},timeout:Ys.get()})}if(null===(i=null===(r=mu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mu().gapi)||void 0===a?void 0:a.load)){var u=Ki("iframefcb");return mu()[u]=function(){gapi.load?o():n(Er(e,"network-request-failed"))},Gi("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Xs=null,e}))}(e),Xs}var Zs=new Lr(5e3,15e3),ec="__/auth/iframe",tc="emulator/auth/iframe",nc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ic(e){var t=e.config;Nr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Fr(t,tc):"https://".concat(e.config.authDomain,"/").concat(ec),r={apiKey:t.apiKey,appName:e.name,v:Cn},i=rc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Tt(r).slice(1))}function ac(e){return oc.apply(this,arguments)}function oc(){return oc=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$s(t);case 2:return n=e.sent,Nr(r=mu().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:ic(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nc,dontclear:!0},(function(e){return new Promise(function(){var n=c(u().mark((function n(r,i){var a,o,s;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){mu().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Er(t,"network-request-failed"),o=mu().setTimeout((function(){i(a)}),Zs.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),oc.apply(this,arguments)}var uc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sc=function(){function e(t){y(this,e),this.window=t,this.associatedEvent=null}return w(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function cc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},uc),{width:r.toString(),height:i.toString(),top:a,left:o}),c=ft().toLowerCase();n&&(u=Ni(c)?"_blank":n),Si(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=p(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Ri(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==u)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",u),new sc(null);var f=window.open(t||"",u,l);Nr(f,e,"popup-blocked");try{f.focus()}catch(h){}return new sc(f)}var lc="__/auth/handler",fc="emulator/auth/handler",hc=encodeURIComponent("fac");function dc(e,t,n,r,i,a){return pc.apply(this,arguments)}function pc(){return pc=c(u().mark((function e(t,n,r,i,a,o){var s,c,l,f,h,d,v,m,y,g,k,w,b;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nr(t.config.authDomain,t,"auth-domain-config-required"),Nr(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:Cn,eventId:a},n instanceof ja)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",bt(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(o||{});c<l.length;c++)f=p(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof Ua&&(v=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=v.join(",")),t.tenantId&&(s.tid=t.tenantId),m=s,y=0,g=Object.keys(m);y<g.length;y++)k=g[y],void 0===m[k]&&delete m[k];return e.next=10,t._getAppCheckToken();case 10:return w=e.sent,b=w?"#".concat(hc,"=").concat(encodeURIComponent(w)):"",e.abrupt("return","".concat(vc(t),"?").concat(Tt(m).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),pc.apply(this,arguments)}function vc(e){var t=e.config;return t.emulator?Fr(t,fc):"https://".concat(t.authDomain,"/").concat(lc)}var mc="webStorageSupport",yc=function(){function e(){y(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fu,this._completeRedirectFn=Fs,this._overrideRedirectResult=Es}return w(e,[{key:"_openPopup",value:function(){var e=c(u().mark((function e(t,n,r,i){var a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,dc(t,n,r,Dr(),i);case 3:return o=e.sent,e.abrupt("return",cc(t,o,pu()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=c(u().mark((function e(t,n,r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,dc(t,n,r,Dr(),i);case 4:return yu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Pr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ac(t);case 2:return n=e.sent,r=new Vs(t),n.register("authEvent",(function(e){return Nr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(mc,{type:mc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[mc];void 0!==i&&t(!!i),Tr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ws.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Li()||Ci()||Ri()}}]),e}(),gc=yc,kc=function(){function e(t){y(this,e),this.factorId=t}return w(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Ar("unexpected MultiFactorSessionType")}}}]),e}(),wc=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this,"phone")).credential=e,r}return w(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Br(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Br(e,"POST","/v2/accounts/mfaSignIn:finalize",Vr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(kc),bc=function(){function e(){y(this,e)}return w(e,null,[{key:"assertion",value:function(e){return wc._fromCredential(e)}}]),e}();bc.FACTOR_ID="phone";var xc=function(){function e(){y(this,e)}return w(e,null,[{key:"assertionForEnrollment",value:function(e,t){return _c._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return _c._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,tu(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Tc._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();xc.FACTOR_ID="totp";var _c=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return w(n,[{key:"_finalizeEnroll",value:function(){var e=c(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",nu(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Mu(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(kc),Tc=function(){function e(t,n,r,i,a,o,u){y(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return w(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Ec(e)||Ec(t))&&(r=!0),r&&(Ec(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Ec(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Ec(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ic="@firebase/auth",Sc="0.23.2",Cc=function(){function e(t){y(this,e),this.auth=t,this.internalListeners=new Map}return w(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Nr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Nc;!function(e){var t;null===(t=st())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Ac(){return window}Nc="Browser",bn(new Pt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Nr(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Nc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Fi(Nc)},l=new Ji(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(bi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),bn(new Pt("auth-internal",(function(e){return function(e){return new Cc(e)}(Xi(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Rn(Ic,Sc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Nc)),Rn(Ic,Sc,"esm2017");var Pc=2e3;function Dc(e,t,n){return Oc.apply(this,arguments)}function Oc(){return Oc=c(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ac(),o=a.BuildInfo,Pr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Uc(n.sessionId);case 4:return s=e.sent,c={},Ri()?c.ibi=o.packageName:Pi()?c.apn=o.packageName:Tr(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=s,e.abrupt("return",dc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,c));case 10:case"end":return e.stop()}}),e)}))),Oc.apply(this,arguments)}function Rc(){return Rc=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ac(),r=n.BuildInfo,i={},Ri()?i.iosBundleId=r.packageName:Pi()?i.androidPackageName=r.packageName:Tr(t,"operation-not-supported-in-this-environment"),e.next=5,qs(t,i);case 5:case"end":return e.stop()}}),e)}))),Rc.apply(this,arguments)}function Lc(e){var t=Ac().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Fc(e,t,n){return Mc.apply(this,arguments)}function Mc(){return Mc=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ac(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Er(t,"redirect-cancelled-by-user"))}),Pc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Pi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Mc.apply(this,arguments)}function jc(e){var t,n,r,i,a,o,u,s,c,l,f=Ac();Nr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Nr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Nr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nr("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Nr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Uc(e){return Vc.apply(this,arguments)}function Vc(){return(Vc=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Bc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bc(e){if(Pr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var zc=20,qc=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return w(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ur(_(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Vs);function Gc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Yc(),postBody:null,tenantId:e.tenantId,error:Er(e,"no-auth-event")}}function Kc(e,t){return Jc()._set(Xc(e),t)}function Hc(e){return Wc.apply(this,arguments)}function Wc(){return Wc=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc()._get(Xc(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Jc()._remove(Xc(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Wc.apply(this,arguments)}function Qc(e,t){var n,r,i=function(e){var t=$c(e),n=t.link?decodeURIComponent(t.link):void 0,r=$c(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $c(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=$c(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Er(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Yc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<zc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Jc(){return bi(cu)}function Xc(e){return Ti("authEvent",e.config.apiKey,e.name)}function $c(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=N(e.split("?"));t[0];return Et(t.slice(1).join("?"))}var Zc=function(){function e(){y(this,e),this._redirectPersistence=fu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fs,this._overrideRedirectResult=Es}return w(e,[{key:"_initialize",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Tr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=c(u().mark((function e(t,n,r,i){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),ks.clear(),e.next=10,this._originValidation(t);case 10:return o=Gc(t,r,i),e.next=13,Kc(t,o);case 13:return e.next=15,Dc(t,o,n);case 15:return s=e.sent,e.next=18,Lc(s);case 18:return c=e.sent,e.abrupt("return",Fc(t,a,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ac(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(c(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Hc(e);case 2:t.onEvent(tl());case 3:case"end":return n.stop()}}),n)}))),500),s=function(){var n=c(u().mark((function n(r){var i,a;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Hc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Qc(i,r.url)),t.onEvent(a||tl());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,s);var l=i,f="".concat(a.packageName.toLowerCase(),"://");Ac().handleOpenURL=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(f)&&s({url:t}),"function"===typeof l)try{l(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),el=Zc;function tl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Er("no-auth-event")}}var nl=1e3;function rl(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return!("file:"!==rl()&&"ionic:"!==rl()&&"capacitor:"!==rl()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function al(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return vt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft();return/Edge\/\d+/.test(e)}(e)}function ol(){try{var e=self.localStorage,t=pu();if(e)return e.setItem(t,"1"),e.removeItem(t),!al()||mt()}catch(n){return ul()&&mt()}return!1}function ul(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function sl(){return("http:"===rl()||"https:"===rl()||dt()||il())&&!(pt()||ht())&&ol()&&!ul()}function cl(){return il()&&"undefined"!==typeof document}function ll(){return fl.apply(this,arguments)}function fl(){return(fl=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),nl);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var hl={LOCAL:"local",NONE:"none",SESSION:"session"},dl=Nr,pl="persistence";function vl(e,t){dl(Object.values(hl).includes(t),e,"invalid-persistence-type"),pt()?dl(t!==hl.SESSION,e,"unsupported-persistence-type"):ht()?dl(t===hl.NONE,e,"unsupported-persistence-type"):ul()?dl(t===hl.NONE||t===hl.LOCAL&&mt(),e,"unsupported-persistence-type"):dl(t===hl.NONE||ol(),e,"unsupported-persistence-type")}function ml(e){return yl.apply(this,arguments)}function yl(){return yl=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=gl(),r=Ti(pl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),yl.apply(this,arguments)}function gl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var kl=Nr,wl=function(){function e(){y(this,e),this.browserResolver=bi(gc),this.cordovaResolver=bi(el),this.underlyingResolver=null,this._redirectPersistence=fu,this._completeRedirectFn=Fs,this._overrideRedirectResult=Es}return w(e,[{key:"_initialize",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=c(u().mark((function e(t,n,r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=c(u().mark((function e(t,n,r,i){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return cl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return kl(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ll();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function bl(e){return e.unwrap()}function xl(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Sl(e,function(e,t){var n,r=At(e),i=t;return Nr(t.customData.operationType,r,"argument-error"),Nr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Zo._fromError(r,i)}(e,t));else if(r){var i=_l(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function _l(e){var t=(e instanceof yt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof yt)&&"temporaryProof"in t&&"phoneNumber"in t)return rs.credentialFromResult(e);var n,r=t.providerId;if(!r||r===lr.PASSWORD)return null;switch(r){case lr.GOOGLE:n=za;break;case lr.FACEBOOK:n=Ba;break;case lr.GITHUB:n=qa;break;case lr.TWITTER:n=Ha;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ga._create(r,u):Ca._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Va(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof yt?n.credentialFromError(e):n.credentialFromResult(e)}function Tl(e,t){return t.catch((function(t){throw t instanceof yt&&xl(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,_l(t)),additionalUserInfo:Xo(e),user:Cl.getOrCreate(r)}}))}function El(e,t){return Il.apply(this,arguments)}function Il(){return Il=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Tl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Il.apply(this,arguments)}var Sl=function(){function e(t,n){y(this,e),this.resolver=n,this.auth=t.wrapped()}return w(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Tl(bl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Cl=function(){function e(t){y(this,e),this._delegate=t,this.multiFactor=function(e){var t=At(e);return au.has(t)||au.set(t,iu._fromUser(t)),au.get(t)}(t)}return w(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this.auth,po(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",El(this.auth,Xu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this.auth,vs(this._delegate,t,wl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(Xi(this.auth));case 2:return e.abrupt("return",Ds(this._delegate,t,wl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this.auth,mo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return El(this.auth,function(e,t,n){return Zu.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Tl(this.auth,function(e,t,n){return ps.apply(this,arguments)}(this._delegate,e,wl))}},{key:"reauthenticateWithRedirect",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ml(Xi(this.auth));case 2:return e.abrupt("return",As(this._delegate,t,wl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return jo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,to(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return qo(At(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return qo(At(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ns.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return zo.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Uo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Cl.USER_MAP=new WeakMap;var Nl=Nr,Al=function(){function e(t,n){if(y(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Nl(r,"invalid-api-key",{appName:t.name}),Nl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?wl:void 0;this._delegate=n.initialize({options:{persistence:Dl(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(gr),this.linkUnderlyingAuth()}return w(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Cl.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Zi(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return So.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Co(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Io.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this._delegate,Po(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Mo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Fa.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Rs(this._delegate,wl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Tl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Xi(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Pl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Pl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Oo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Eo.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:vl(this._delegate,t),e.t0=t,e.next=e.t0===hl.SESSION?4:e.t0===hl.LOCAL?6:e.t0===hl.NONE?11:13;break;case 4:return n=fu,e.abrupt("break",14);case 6:return e.next=8,bi(Lu)._isAvailable();case 8:return r=e.sent,n=r?Lu:cu,e.abrupt("break",14);case 11:return n=_i,e.abrupt("break",14);case 13:return e.abrupt("return",Tr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Tl(this._delegate,function(e){return Xa.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Tl(this._delegate,fo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Tl(this._delegate,function(e,t){return wo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Tl(this._delegate,function(e,t,n){return fo(At(e),Ma.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Tl(this._delegate,function(e,t,n){return Ro.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return El(this._delegate,function(e,t,n){return Ju.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Tl(this._delegate,hs(this._delegate,t,wl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nl(sl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ml(this._delegate);case 3:return e.abrupt("return",Cs(this._delegate,t,wl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ao.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Pl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Cl.getOrCreate(e))},error:t,complete:n}}function Dl(e,t){var n=function(e,t){var n=gl();if(!n)return[];var r=Ti(pl,e,t);switch(n.getItem(r)){case hl.NONE:return[_i];case hl.LOCAL:return[Lu,fu];case hl.SESSION:return[fu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Lu)||n.push(Lu),"undefined"!==typeof window)for(var r=0,i=[cu,fu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(_i)||n.push(_i),n}Al.Persistence=hl;var Ol=function(){function e(){y(this,e),this.providerId="phone",this._delegate=new rs(bl(or.auth()))}return w(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return rs.credential(e,t)}}]),e}();Ol.PHONE_SIGN_IN_METHOD=rs.PHONE_SIGN_IN_METHOD,Ol.PROVIDER_ID=rs.PROVIDER_ID;var Rl,Ll=Nr,Fl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:or.app();y(this,e),Ll(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Wu(t,n,i.auth()),this.type=this._delegate.type}return w(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Rl=or).INTERNAL.registerComponent(new Pt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Al(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fr,PASSWORD_RESET:hr,RECOVER_EMAIL:dr,REVERT_SECOND_FACTOR_ADDITION:pr,VERIFY_AND_CHANGE_EMAIL:vr,VERIFY_EMAIL:mr}},EmailAuthProvider:Ma,FacebookAuthProvider:Ba,GithubAuthProvider:qa,GoogleAuthProvider:za,OAuthProvider:Va,SAMLAuthProvider:Ka,PhoneAuthProvider:Ol,PhoneMultiFactorGenerator:bc,RecaptchaVerifier:Fl,TwitterAuthProvider:Ha,Auth:Al,AuthCredential:na,Error:yt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Rl.registerVersion("@firebase/auth-compat","0.4.2");var Ml,jl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Ul={},Vl=Vl||{},Bl=jl||self;function zl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ql(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Gl="closure_uid_"+(1e9*Math.random()>>>0),Kl=0;function Hl(e,t,n){return e.call.apply(e.bind,arguments)}function Wl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ql(e,t,n){return(Ql=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Hl:Wl).apply(null,arguments)}function Yl(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Jl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Xl(){this.s=this.s,this.o=this.o}Xl.prototype.s=!1,Xl.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Gl)&&e[Gl]||(e[Gl]=++Kl))},Xl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var $l=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Zl(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ef(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(zl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function tf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}tf.prototype.h=function(){this.defaultPrevented=!0};var nf=function(){if(!Bl.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Bl.addEventListener("test",(function(){}),t),Bl.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function rf(e){return/^[\s\xa0]*$/.test(e)}function af(){var e=Bl.navigator;return e&&(e=e.userAgent)?e:""}function of(e){return-1!=af().indexOf(e)}function uf(e){return uf[" "](e),e}uf[" "]=function(){};var sf,cf,lf=of("Opera"),ff=of("Trident")||of("MSIE"),hf=of("Edge"),df=hf||ff,pf=of("Gecko")&&!(-1!=af().toLowerCase().indexOf("webkit")&&!of("Edge"))&&!(of("Trident")||of("MSIE"))&&!of("Edge"),vf=-1!=af().toLowerCase().indexOf("webkit")&&!of("Edge");function mf(){var e=Bl.document;return e?e.documentMode:void 0}e:{var yf="",gf=function(){var e=af();return pf?/rv:([^\);]+)(\)|;)/.exec(e):hf?/Edge\/([\d\.]+)/.exec(e):ff?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):vf?/WebKit\/(\S+)/.exec(e):lf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(gf&&(yf=gf?gf[1]:""),ff){var kf=mf();if(null!=kf&&kf>parseFloat(yf)){sf=String(kf);break e}}sf=yf}if(Bl.document&&ff){var wf=mf();cf=wf||(parseInt(sf,10)||void 0)}else cf=void 0;var bf=cf;function xf(e,t){if(tf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(pf){e:{try{uf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:_f[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&xf.$.h.call(this)}}Jl(xf,tf);var _f={2:"touch",3:"pen",4:"mouse"};xf.prototype.h=function(){xf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tf="closure_listenable_"+(1e6*Math.random()|0),Ef=0;function If(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ef,this.fa=this.ia=!1}function Sf(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Cf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Nf(e){var t={};for(var n in e)t[n]=e[n];return t}var Af="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Pf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Af.length;a++)n=Af[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Df(e){this.src=e,this.g={},this.h=0}function Of(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=$l(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Sf(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Rf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Df.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Rf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new If(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Lf="closure_lm_"+(1e6*Math.random()|0),Ff={};function Mf(e,t,n,r,i){if(r&&r.once)return Uf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mf(e,t[a],n,r,i);return null}return n=Hf(n),e&&e[Tf]?e.O(t,n,ql(r)?!!r.capture:!!r,i):jf(e,t,n,!1,r,i)}function jf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=ql(i)?!!i.capture:!!i,u=Gf(e);if(u||(e[Lf]=u=new Df(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=qf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)nf||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Uf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uf(e,t[a],n,r,i);return null}return n=Hf(n),e&&e[Tf]?e.P(t,n,ql(r)?!!r.capture:!!r,i):jf(e,t,n,!0,r,i)}function Vf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Vf(e,t[a],n,r,i);else r=ql(r)?!!r.capture:!!r,n=Hf(n),e&&e[Tf]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Rf(a=e.g[t],n,r,i))&&(Sf(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Gf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Rf(t,n,r,i)),(n=-1<e?t[e]:null)&&Bf(n))}function Bf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Tf])Of(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Gf(t))?(Of(n,e),0==n.h&&(n.src=null,t[Lf]=null)):Sf(e)}}}function zf(e){return e in Ff?Ff[e]:Ff[e]="on"+e}function qf(e,t){if(e.fa)e=!0;else{t=new xf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Bf(e),e=n.call(r,t)}return e}function Gf(e){return(e=e[Lf])instanceof Df?e:null}var Kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hf(e){return"function"===typeof e?e:(e[Kf]||(e[Kf]=function(t){return e.handleEvent(t)}),e[Kf])}function Wf(){Xl.call(this),this.i=new Df(this),this.S=this,this.J=null}function Qf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new tf(t,e);else if(t instanceof tf)t.target=t.target||e;else{var i=t;Pf(t=new tf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Yf(o,r,!0,t)&&i}if(i=Yf(o=t.g=e,r,!0,t)&&i,i=Yf(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Yf(o=t.g=n[a],r,!1,t)&&i}function Yf(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Of(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Jl(Wf,Xl),Wf.prototype[Tf]=!0,Wf.prototype.removeEventListener=function(e,t,n,r){Vf(this,e,t,n,r)},Wf.prototype.N=function(){if(Wf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Sf(n[r]);delete t.g[e],t.h--}}this.J=null},Wf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Wf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Jf=Bl.JSON.stringify,Xf=function(){function e(t,n){y(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return w(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function $f(){var e=oh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zf=function(){function e(){y(this,e),this.h=this.g=null}return w(e,[{key:"add",value:function(e,t){var n=eh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),eh=new Xf((function(){return new th}),(function(e){return e.reset()})),th=function(){function e(){y(this,e),this.next=this.g=this.h=null}return w(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function nh(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function rh(e){Bl.setTimeout((function(){throw e}),0)}var ih,ah=!1,oh=new Zf,uh=function(){var e=Bl.Promise.resolve(void 0);ih=function(){e.then(sh)}},sh=function(){for(var e;e=$f();){try{e.h.call(e.g)}catch(n){rh(n)}var t=eh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ah=!1};function ch(e,t){Wf.call(this),this.h=e||1,this.g=t||Bl,this.j=Ql(this.qb,this),this.l=Date.now()}function lh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function fh(e,t,n){if("function"===typeof e)n&&(e=Ql(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ql(e.handleEvent,e)}return 2147483647<Number(t)?-1:Bl.setTimeout(e,t||0)}function hh(e){e.g=fh((function(){e.g=null,e.i&&(e.i=!1,hh(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Jl(ch,Wf),(Ml=ch.prototype).ga=!1,Ml.T=null,Ml.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qf(this,"tick"),this.ga&&(lh(this),this.start()))}},Ml.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ml.N=function(){ch.$.N.call(this),lh(this),delete this.g};var dh=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return w(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:hh(this)}},{key:"N",value:function(){ur(_(n.prototype),"N",this).call(this),this.g&&(Bl.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Xl);function ph(e){Xl.call(this),this.h=e,this.g={}}Jl(ph,Xl);var vh=[];function mh(e,t,n,r){Array.isArray(n)||(n&&(vh[0]=n.toString()),n=vh);for(var i=0;i<n.length;i++){var a=Mf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function yh(e){Cf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Bf(e)}),e),e.g={}}function gh(){this.g=!0}function kh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Jf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}ph.prototype.N=function(){ph.$.N.call(this),yh(this)},ph.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},gh.prototype.Ea=function(){this.g=!1},gh.prototype.info=function(){};var wh={},bh=null;function xh(){return bh=bh||new Wf}function _h(e){tf.call(this,wh.Ta,e)}function Th(e){var t=xh();Qf(t,new _h(t))}function Eh(e,t){tf.call(this,wh.STAT_EVENT,e),this.stat=t}function Ih(e){var t=xh();Qf(t,new Eh(t,e))}function Sh(e,t){tf.call(this,wh.Ua,e),this.size=t}function Ch(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Bl.setTimeout((function(){e()}),t)}wh.Ta="serverreachability",Jl(_h,tf),wh.STAT_EVENT="statevent",Jl(Eh,tf),wh.Ua="timingevent",Jl(Sh,tf);var Nh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ah={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ph(){}function Dh(e){return e.h||(e.h=e.i())}function Oh(){}Ph.prototype.h=null;var Rh,Lh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Fh(){tf.call(this,"d")}function Mh(){tf.call(this,"c")}function jh(){}function Uh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new ph(this),this.P=Bh,e=df?125:void 0,this.V=new ch(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Vh}function Vh(){this.i=null,this.g="",this.h=!1}Jl(Fh,tf),Jl(Mh,tf),Jl(jh,Ph),jh.prototype.g=function(){return new XMLHttpRequest},jh.prototype.i=function(){return{}},Rh=new jh;var Bh=45e3,zh={},qh={};function Gh(e,t,n){e.L=1,e.v=cd(id(t)),e.s=n,e.S=!0,Kh(e,null)}function Kh(e,t){e.G=Date.now(),Yh(e),e.A=id(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),xd(n.i,"t",r),e.C=0,n=e.l.J,e.h=new Vh,e.g=_p(e.l,n?t:null,!e.s),0<e.O&&(e.M=new dh(Ql(e.Pa,e,e.g),e.O)),mh(e.U,e.g,"readystatechange",e.nb),t=e.I?Nf(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Th(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Hh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Wh(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Qh(e,n))==qh){4==t&&(e.o=4,Ih(14),i=!1),kh(e.j,e.m,null,"[Incomplete Response]");break}if(r==zh){e.o=4,Ih(15),kh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}kh(e.j,e.m,r,null),ed(e,r)}Hh(e)&&r!=qh&&r!=zh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ih(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),vp(t),t.M=!0,Ih(11))):(kh(e.j,e.m,n,"[Invalid Chunked Response]"),Zh(e),$h(e))}function Qh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qh:(n=Number(t.substring(n,r)),isNaN(n)?zh:(r+=1)+n>t.length?qh:(t=t.slice(r,r+n),e.C=r+n,t))}function Yh(e){e.Y=Date.now()+e.P,Jh(e,e.P)}function Jh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ch(Ql(e.lb,e),t)}function Xh(e){e.B&&(Bl.clearTimeout(e.B),e.B=null)}function $h(e){0==e.l.H||e.J||gp(e.l,e)}function Zh(e){Xh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,lh(e.V),yh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function ed(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Nd(n.i,e)))if(!e.K&&Nd(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;yp(n),up(n)}pp(n),Ih(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ch(Ql(n.ib,n),6e3));if(1>=Cd(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else wp(n,11)}else if((e.K||n.g==e)&&yp(n),!rf(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Ad(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,sd(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=xp(r,r.J?r.pa:null,r.Y),d.K){Pd(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Xh(p),Yh(p)),r.g=d}else dp(r);0<n.j.length&&cp(n)}else"stop"!=a[0]&&"close"!=a[0]||wp(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?wp(n,7):op(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Th()}catch(a){}}function td(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ml=Uh.prototype).setTimeout=function(e){this.P=e},Ml.nb=function(e){e=e.target;var t=this.M;t&&3==ep(e)?t.l():this.Pa(e)},Ml.Pa=function(e){try{if(e==this.g)e:{var t=ep(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||df||this.g&&(this.h.h||this.g.ja()||tp(this.g)))){this.J||4!=t||7==n||Th(),Xh(this);var r=this.g.da();this.ca=r;t:if(Hh(this)){var i=tp(this.g);e="";var a=i.length,o=4==ep(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Zh(this),$h(this);var u="";break t}this.h.i=new Bl.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rf(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ih(12),Zh(this),$h(this);break e}kh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ed(this,r)}this.S?(Wh(this,t,u),df&&this.i&&3==t&&(mh(this.U,this.V,"tick",this.mb),this.V.start())):(kh(this.j,this.m,u,null),ed(this,u)),4==t&&Zh(this),this.i&&!this.J&&(4==t?gp(this.l,this):(this.i=!1,Yh(this)))}else(function(e){var t={};e=(e.g&&2<=ep(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!rf(e[n])){var r=nh(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ih(12)):(this.o=0,Ih(13)),Zh(this),$h(this)}}}catch(t){}},Ml.mb=function(){if(this.g){var e=ep(this.g),t=this.g.ja();this.C<t.length&&(Xh(this),Wh(this,e,t),this.i&&4!=e&&Yh(this))}},Ml.cancel=function(){this.J=!0,Zh(this)},Ml.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Th(),Ih(17)),Zh(this),this.o=2,$h(this)):Jh(this,this.Y-e)};var nd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rd(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof rd){this.h=e.h,ad(this,e.j),this.s=e.s,this.g=e.g,od(this,e.m),this.l=e.l;var t=e.i,n=new gd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ud(this,n),this.o=e.o}else e&&(t=String(e).match(nd))?(this.h=!1,ad(this,t[1]||"",!0),this.s=ld(t[2]||""),this.g=ld(t[3]||"",!0),od(this,t[4]),this.l=ld(t[5]||"",!0),ud(this,t[6]||"",!0),this.o=ld(t[7]||"")):(this.h=!1,this.i=new gd(null,this.h))}function id(e){return new rd(e)}function ad(e,t,n){e.j=n?ld(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function od(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ud(e,t,n){t instanceof gd?(e.i=t,function(e,t){t&&!e.j&&(kd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(wd(this,t),xd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=fd(t,md)),e.i=new gd(t,e.h))}function sd(e,t,n){e.i.set(t,n)}function cd(e){return sd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ld(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function fd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,hd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function hd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rd.prototype.toString=function(){var e=[],t=this.j;t&&e.push(fd(t,dd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(fd(t,dd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(fd(n,"/"==n.charAt(0)?vd:pd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",fd(n,yd)),e.join("")};var dd=/[#\/\?@]/g,pd=/[#\?:]/g,vd=/[#\?]/g,md=/[#\?@]/g,yd=/#/g;function gd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function kd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function wd(e,t){kd(e),t=_d(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function bd(e,t){return kd(e),t=_d(e,t),e.g.has(t)}function xd(e,t,n){wd(e,t),0<n.length&&(e.i=null,e.g.set(_d(e,t),Zl(n)),e.h+=n.length)}function _d(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ml=gd.prototype).add=function(e,t){kd(this),this.i=null,e=_d(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ml.forEach=function(e,t){kd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ml.ta=function(){kd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ml.Z=function(e){kd(this);var t=[];if("string"===typeof e)bd(this,e)&&(t=t.concat(this.g.get(_d(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ml.set=function(e,t){return kd(this),this.i=null,bd(this,e=_d(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ml.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ml.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Td=w((function e(t,n){y(this,e),this.g=t,this.map=n}));function Ed(e){this.l=e||Id,Bl.PerformanceNavigationTiming?e=0<(e=Bl.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Bl.g&&Bl.g.Ka&&Bl.g.Ka()&&Bl.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Id=10;function Sd(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cd(e){return e.h?1:e.g?e.g.size:0}function Nd(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ad(e,t){e.g?e.g.add(t):e.h=t}function Pd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Dd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=A(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Zl(e.i)}Ed.prototype.cancel=function(){if(this.i=Dd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=A(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Od,Rd=function(){function e(){y(this,e)}return w(e,[{key:"stringify",value:function(e){return Bl.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Bl.JSON.parse(e,void 0)}}]),e}();function Ld(){this.g=new Rd}function Fd(e,t,n){var r=n||"";try{td(e,(function(e,n){var i=e;ql(e)&&(i=Jf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Md(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function jd(e){this.l=e.fc||null,this.j=e.ob||!1}function Ud(e,t){Wf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Vd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jl(jd,Ph),jd.prototype.g=function(){return new Ud(this.l,this.j)},jd.prototype.i=(Od={},function(){return Od}),Jl(Ud,Wf);var Vd=0;function Bd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function zd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,qd(e)}function qd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ml=Ud.prototype).open=function(e,t){if(this.readyState!=Vd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,qd(this)},Ml.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Bl).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ml.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,zd(this)),this.readyState=Vd},Ml.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,qd(this)),this.g&&(this.readyState=3,qd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Bl.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ml.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?zd(this):qd(this),3==this.readyState&&Bd(this)}},Ml.Za=function(e){this.g&&(this.response=this.responseText=e,zd(this))},Ml.Ya=function(e){this.g&&(this.response=e,zd(this))},Ml.ka=function(){this.g&&zd(this)},Ml.setRequestHeader=function(e,t){this.v.append(e,t)},Ml.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ml.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Gd=Bl.JSON.parse;function Kd(e){Wf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Hd,this.L=this.M=!1}Jl(Kd,Wf);var Hd="",Wd=/^https?$/i,Qd=["POST","PUT"];function Yd(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jd(e),$d(e)}function Jd(e){e.F||(e.F=!0,Qf(e,"complete"),Qf(e,"error"))}function Xd(e){if(e.h&&"undefined"!=typeof Vl&&(!e.C[1]||4!=ep(e)||2!=e.da()))if(e.v&&4==ep(e))fh(e.La,0,e);else if(Qf(e,"readystatechange"),4==ep(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(nd)[1]||null;!a&&Bl.self&&Bl.self.location&&(a=Bl.self.location.protocol.slice(0,-1)),i=!Wd.test(a?a.toLowerCase():"")}t=i}if(t)Qf(e,"complete"),Qf(e,"success");else{e.m=6;try{var o=2<ep(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Jd(e)}}finally{$d(e)}}}function $d(e,t){if(e.g){Zd(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Qf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Zd(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Bl.clearTimeout(e.A),e.A=null)}function ep(e){return e.g?e.g.readyState:0}function tp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Hd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ov){return null}}function np(e){var t="";return Cf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function rp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=np(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):sd(e,t,n))}function ip(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ap(e){this.Ga=0,this.j=[],this.l=new gh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ip("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ip("baseRetryDelayMs",5e3,e),this.hb=ip("retryDelaySeedMs",1e4,e),this.eb=ip("forwardChannelMaxRetries",2,e),this.xa=ip("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Ed(e&&e.concurrentRequestLimit),this.Ja=new Ld,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function op(e){if(sp(e),3==e.H){var t=e.W++,n=id(e.I);if(sd(n,"SID",e.K),sd(n,"RID",t),sd(n,"TYPE","terminate"),fp(e,n),(t=new Uh(e,e.l,t)).L=2,t.v=cd(id(n)),n=!1,Bl.navigator&&Bl.navigator.sendBeacon)try{n=Bl.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&Bl.Image&&((new Image).src=t.v,n=!0),n||(t.g=_p(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Yh(t)}bp(e)}function up(e){e.g&&(vp(e),e.g.cancel(),e.g=null)}function sp(e){up(e),e.u&&(Bl.clearTimeout(e.u),e.u=null),yp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Bl.clearTimeout(e.m),e.m=null)}function cp(e){if(!Sd(e.i)&&!e.m){e.m=!0;var t=e.Na;ih||uh(),ah||(ih(),ah=!0),oh.add(t,e),e.C=0}}function lp(e,t){var n;n=t?t.m:e.W++;var r=id(e.I);sd(r,"SID",e.K),sd(r,"RID",n),sd(r,"AID",e.V),fp(e,r),e.o&&e.s&&rp(r,e.o,e.s),n=new Uh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=hp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Ad(e.i,n),Gh(n,r,t)}function fp(e,t){e.na&&Cf(e.na,(function(e,n){sd(t,n,e)})),e.h&&td({},(function(e,n){sd(t,n,e)}))}function hp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ql(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{Fd(l,o,"req"+c+"_")}catch(yv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function dp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;ih||uh(),ah||(ih(),ah=!0),oh.add(t,e),e.A=0}}function pp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ch(Ql(e.Ma,e),kp(e,e.A)),e.A++,!0)}function vp(e){null!=e.B&&(Bl.clearTimeout(e.B),e.B=null)}function mp(e){e.g=new Uh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=id(e.wa);sd(t,"RID","rpc"),sd(t,"SID",e.K),sd(t,"AID",e.V),sd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&sd(t,"TO",e.qa),sd(t,"TYPE","xmlhttp"),fp(e,t),e.o&&e.s&&rp(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=cd(id(t)),n.s=null,n.S=!0,Kh(n,e)}function yp(e){null!=e.v&&(Bl.clearTimeout(e.v),e.v=null)}function gp(e,t){var n=null;if(e.g==t){yp(e),vp(e),e.g=null;var r=2}else{if(!Nd(e.i,t))return;n=t.F,Pd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Qf(r=xh(),new Sh(r,n)),cp(e)}else dp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Cd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ch(Ql(e.Na,e,t),kp(e,e.C)),e.C++,!0))}(e,t)||2==r&&pp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wp(e,5);break;case 4:wp(e,10);break;case 3:wp(e,6);break;default:wp(e,2)}}function kp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function wp(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ql(e.pb,e);n||(n=new rd("//www.google.com/images/cleardot.gif"),Bl.location&&"http"==Bl.location.protocol||ad(n,"https"),cd(n)),function(e,t){var n=new gh;if(Bl.Image){var r=new Image;r.onload=Yl(Md,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Yl(Md,n,r,"TestLoadImage: error",!1,t),r.onabort=Yl(Md,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Yl(Md,n,r,"TestLoadImage: timeout",!1,t),Bl.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ih(2);e.H=0,e.h&&e.h.za(t),bp(e),sp(e)}function bp(e){if(e.H=0,e.ma=[],e.h){var t=Dd(e.i);0==t.length&&0==e.j.length||(ef(e.ma,t),ef(e.ma,e.j),e.i.i.length=0,Zl(e.j),e.j.length=0),e.h.ya()}}function xp(e,t,n){var r=n instanceof rd?id(n):new rd(n);if(""!=r.g)t&&(r.g=t+"."+r.g),od(r,r.m);else{var i=Bl.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new rd(null);r&&ad(a,r),t&&(a.g=t),i&&od(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&sd(r,n,t),sd(r,"VER",e.ra),fp(e,r),r}function _p(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Kd(new jd({ob:!0})):new Kd(e.va)).Oa(e.J),t}function Tp(){}function Ep(){if(ff&&!(10<=Number(bf)))throw Error("Environmental error: no available transport.")}function Ip(e,t){Wf.call(this),this.g=new ap(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!rf(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!rf(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Np(this)}function Sp(e){Fh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cp(){Mh.call(this),this.status=1}function Np(e){this.g=e}function Ap(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Pp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Dp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ml=Kd.prototype).Oa=function(e){this.M=e},Ml.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Rh.g(),this.C=this.u?Dh(this.u):Dh(Rh),this.g.onreadystatechange=Ql(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(u){return void Yd(this,u)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=A(r.keys());try{for(o.s();!(a=o.n()).done;){var u=a.value;n.set(u,r.get(u))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Bl.FormData&&e instanceof Bl.FormData,!(0<=$l(Qd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var s,c=A(n);try{for(c.s();!(s=c.n()).done;){var l=p(s.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zd(this),0<this.B&&((this.L=function(e){return ff&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ql(this.ua,this)):this.A=fh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(u){Yd(this,u)}},Ml.ua=function(){"undefined"!=typeof Vl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qf(this,"timeout"),this.abort(8))},Ml.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qf(this,"complete"),Qf(this,"abort"),$d(this))},Ml.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$d(this,!0)),Kd.$.N.call(this)},Ml.La=function(){this.s||(this.G||this.v||this.l?Xd(this):this.kb())},Ml.kb=function(){Xd(this)},Ml.isActive=function(){return!!this.g},Ml.da=function(){try{return 2<ep(this)?this.g.status:-1}catch(Od){return-1}},Ml.ja=function(){try{return this.g?this.g.responseText:""}catch(Od){return""}},Ml.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Gd(t)}},Ml.Ia=function(){return this.m},Ml.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ml=ap.prototype).ra=8,Ml.H=1,Ml.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Uh(this,this.l,e),n=this.s;if(this.U&&(n?Pf(n=Nf(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=hp(this,t,r),sd(i=id(this.I),"RID",e),sd(i,"CVER",22),this.F&&sd(i,"X-HTTP-Session-Id",this.F),fp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(np(n)))+"&"+r:this.o&&rp(i,this.o,n)),Ad(this.i,t),this.bb&&sd(i,"TYPE","init"),this.P?(sd(i,"$req",r),sd(i,"SID","null"),t.aa=!0,Gh(t,i,null)):Gh(t,i,r),this.H=2}}else 3==this.H&&(e?lp(this,e):0==this.j.length||Sd(this.i)||lp(this))},Ml.Ma=function(){if(this.u=null,mp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ch(Ql(this.jb,this),e)}},Ml.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ih(10),up(this),mp(this))},Ml.ib=function(){null!=this.v&&(this.v=null,up(this),pp(this),Ih(19))},Ml.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ih(2)):(this.l.info("Failed to ping google.com"),Ih(1))},Ml.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ml=Tp.prototype).Ba=function(){},Ml.Aa=function(){},Ml.za=function(){},Ml.ya=function(){},Ml.isActive=function(){return!0},Ml.Va=function(){},Ep.prototype.g=function(e,t){return new Ip(e,t)},Jl(Ip,Wf),Ip.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ih(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=xp(e,null,e.Y),cp(e)},Ip.prototype.close=function(){op(this.g)},Ip.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Jf(e),e=n);t.j.push(new Td(t.fb++,e)),3==t.H&&cp(t)},Ip.prototype.N=function(){this.g.h=null,delete this.j,op(this.g),delete this.g,Ip.$.N.call(this)},Jl(Sp,Fh),Jl(Cp,Mh),Jl(Np,Tp),Np.prototype.Ba=function(){Qf(this.g,"a")},Np.prototype.Aa=function(e){Qf(this.g,new Sp(e))},Np.prototype.za=function(e){Qf(this.g,new Cp)},Np.prototype.ya=function(){Qf(this.g,"b")},Jl(Ap,(function(){this.blockSize=-1})),Ap.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ap.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Pp(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Pp(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Pp(this,r),i=0;break}}this.h=i,this.i+=t},Ap.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Op={};function Rp(e){return-128<=e&&128>e?function(e,t){var n=Op;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Dp([0|e],0>e?-1:0)})):new Dp([0|e],0>e?-1:0)}function Lp(e){if(isNaN(e)||!isFinite(e))return Mp;if(0>e)return zp(Lp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Fp;return new Dp(t,0)}var Fp=4294967296,Mp=Rp(0),jp=Rp(1),Up=Rp(16777216);function Vp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Bp(e){return-1==e.h}function zp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Dp(n,~e.h).add(jp)}function qp(e,t){return e.add(zp(t))}function Gp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Kp(e,t){this.g=e,this.h=t}function Hp(e,t){if(Vp(t))throw Error("division by zero");if(Vp(e))return new Kp(Mp,Mp);if(Bp(e))return t=Hp(zp(e),t),new Kp(zp(t.g),zp(t.h));if(Bp(t))return t=Hp(e,zp(t)),new Kp(zp(t.g),t.h);if(30<e.g.length){if(Bp(e)||Bp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=jp,r=t;0>=r.X(e);)n=Wp(n),r=Wp(r);var i=Qp(n,1),a=Qp(r,1);for(r=Qp(r,2),n=Qp(n,2);!Vp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Qp(r,1),n=Qp(n,1)}return t=qp(e,i.R(t)),new Kp(i,t)}for(i=Mp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Lp(n)).R(t);Bp(o)||0<o.X(e);)o=(a=Lp(n-=r)).R(t);Vp(a)&&(a=jp),i=i.add(a),e=qp(e,o)}return new Kp(i,e)}function Wp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Dp(n,e.h)}function Qp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Dp(i,e.h)}(Ml=Dp.prototype).ea=function(){if(Bp(this))return-zp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Fp+r)*t,t*=Fp}return e},Ml.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Vp(this))return"0";if(Bp(this))return"-"+zp(this).toString(e);for(var t=Lp(Math.pow(e,6)),n=this,r="";;){var i=Hp(n,t).g,a=((0<(n=qp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Vp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ml.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ml.X=function(e){return Bp(e=qp(this,e))?-1:Vp(e)?0:1},Ml.abs=function(){return Bp(this)?zp(this):this},Ml.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Dp(n,-2147483648&n[n.length-1]?-1:0)},Ml.R=function(e){if(Vp(this)||Vp(e))return Mp;if(Bp(this))return Bp(e)?zp(this).R(zp(e)):zp(zp(this).R(e));if(Bp(e))return zp(this.R(zp(e)));if(0>this.X(Up)&&0>e.X(Up))return Lp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Gp(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Gp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Gp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Gp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Dp(n,0)},Ml.gb=function(e){return Hp(this,e).h},Ml.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Dp(n,this.h&e.h)},Ml.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Dp(n,this.h|e.h)},Ml.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Dp(n,this.h^e.h)},Ep.prototype.createWebChannel=Ep.prototype.g,Ip.prototype.send=Ip.prototype.u,Ip.prototype.open=Ip.prototype.m,Ip.prototype.close=Ip.prototype.close,Nh.NO_ERROR=0,Nh.TIMEOUT=8,Nh.HTTP_ERROR=6,Ah.COMPLETE="complete",Oh.EventType=Lh,Lh.OPEN="a",Lh.CLOSE="b",Lh.ERROR="c",Lh.MESSAGE="d",Wf.prototype.listen=Wf.prototype.O,Kd.prototype.listenOnce=Kd.prototype.P,Kd.prototype.getLastError=Kd.prototype.Sa,Kd.prototype.getLastErrorCode=Kd.prototype.Ia,Kd.prototype.getStatus=Kd.prototype.da,Kd.prototype.getResponseJson=Kd.prototype.Wa,Kd.prototype.getResponseText=Kd.prototype.ja,Kd.prototype.send=Kd.prototype.ha,Kd.prototype.setWithCredentials=Kd.prototype.Oa,Ap.prototype.digest=Ap.prototype.l,Ap.prototype.reset=Ap.prototype.reset,Ap.prototype.update=Ap.prototype.j,Dp.prototype.add=Dp.prototype.add,Dp.prototype.multiply=Dp.prototype.R,Dp.prototype.modulo=Dp.prototype.gb,Dp.prototype.compare=Dp.prototype.X,Dp.prototype.toNumber=Dp.prototype.ea,Dp.prototype.toString=Dp.prototype.toString,Dp.prototype.getBits=Dp.prototype.D,Dp.fromNumber=Lp,Dp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return zp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Lp(Math.pow(n,8)),i=Mp,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Lp(Math.pow(n,o)),i=i.R(o).add(Lp(u))):i=(i=i.R(r)).add(Lp(u))}return i};var Yp=Ul.createWebChannelTransport=function(){return new Ep},Jp=Ul.getStatEventTarget=function(){return xh()},Xp=Ul.ErrorCode=Nh,$p=Ul.EventType=Ah,Zp=Ul.Event=wh,ev=Ul.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tv=Ul.FetchXmlHttpFactory=jd,nv=Ul.WebChannel=Oh,rv=Ul.XhrIo=Kd,iv=Ul.Md5=Ap,av=Ul.Integer=Dp,ov="@firebase/firestore",uv=function(){function e(t){y(this,e),this.uid=t}return w(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();uv.UNAUTHENTICATED=new uv(null),uv.GOOGLE_CREDENTIALS=new uv("google-credentials-uid"),uv.FIRST_PARTY=new uv("first-party-uid"),uv.MOCK_USER=new uv("mock-user");var sv="9.23.0",cv=new zt("@firebase/firestore");function lv(){return cv.logLevel}function fv(e){if(cv.logLevel<=Lt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pv);cv.debug.apply(cv,["Firestore (".concat(sv,"): ").concat(e)].concat(m(i)))}}function hv(e){if(cv.logLevel<=Lt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pv);cv.error.apply(cv,["Firestore (".concat(sv,"): ").concat(e)].concat(m(i)))}}function dv(e){if(cv.logLevel<=Lt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(pv);cv.warn.apply(cv,["Firestore (".concat(sv,"): ").concat(e)].concat(m(i)))}}function pv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function vv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(sv,") INTERNAL ASSERTION FAILED: ")+e;throw hv(t),new Error(t)}function mv(e,t){e||vv()}function yv(e,t){return e}var gv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kv=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return w(n)}(yt),wv=w((function e(){var t=this;y(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),bv=w((function e(t,n){y(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),xv=function(){function e(){y(this,e)}return w(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),_v=function(){function e(t){y(this,e),this.token=t,this.changeListener=null}return w(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Tv=function(){function e(t){y(this,e),this.t=t,this.currentUser=uv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new wv;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new wv,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){fv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(fv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new wv)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(fv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(mv("string"==typeof n.accessToken),new bv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return mv(null===e||"string"==typeof e),new uv(e)}}]),e}(),Ev=function(){function e(t,n,r){y(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=uv.FIRST_PARTY,this.g=new Map}return w(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Iv=function(){function e(t,n,r){y(this,e),this.h=t,this.l=n,this.m=r}return w(e,[{key:"getToken",value:function(){return Promise.resolve(new Ev(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(uv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Sv=w((function e(t){y(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Cv=function(){function e(t){y(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return w(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&fv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,fv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){fv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):fv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(mv("string"==typeof t.token),e.T=t.token,new Sv(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Nv(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Av=function(){function e(){y(this,e)}return w(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Nv(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Pv(e,t){return e<t?-1:e>t?1:0}function Dv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ov(e){return e+"\0"}var Rv=function(){function e(t,n){if(y(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new kv(gv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new kv(gv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new kv(gv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kv(gv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return w(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Pv(this.nanoseconds,e.nanoseconds):Pv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Lv=function(){function e(t){y(this,e),this.timestamp=t}return w(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Rv(0,0))}},{key:"max",value:function(){return new e(new Rv(253402300799,999999999))}}]),e}(),Fv=function(){function e(t,n,r){y(this,e),void 0===n?n=0:n>t.length&&vv(),void 0===r?r=t.length-n:r>t.length-n&&vv(),this.segments=t,this.offset=n,this.len=r}return w(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Mv=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new kv(gv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,m(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Fv),jv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Uv=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return jv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new kv(gv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new kv(gv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new kv(gv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new kv(gv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Fv),Vv=function(){function e(t){y(this,e),this.path=t}return w(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Mv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Mv.fromString(t))}},{key:"fromName",value:function(t){return new e(Mv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Mv.emptyPath())}},{key:"comparator",value:function(e,t){return Mv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Mv(t.slice()))}}]),e}(),Bv=w((function e(t,n,r,i){y(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function zv(e){return e.fields.find((function(e){return 2===e.kind}))}function qv(e){return e.fields.filter((function(e){return 2!==e.kind}))}Bv.UNKNOWN_ID=-1;var Gv=w((function e(t,n){y(this,e),this.fieldPath=t,this.kind=n}));var Kv=function(){function e(t,n){y(this,e),this.sequenceNumber=t,this.offset=n}return w(e,null,[{key:"empty",value:function(){return new e(0,Qv.min())}}]),e}();function Hv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Lv.fromTimestamp(1e9===r?new Rv(n+1,0):new Rv(n,r));return new Qv(i,Vv.empty(),t)}function Wv(e){return new Qv(e.readTime,e.key,-1)}var Qv=function(){function e(t,n,r){y(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return w(e,null,[{key:"min",value:function(){return new e(Lv.min(),Vv.empty(),-1)}},{key:"max",value:function(){return new e(Lv.max(),Vv.empty(),-1)}}]),e}();function Yv(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Vv.comparator(e.documentKey,t.documentKey))?n:Pv(e.largestBatchId,t.largestBatchId)}var Jv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Xv=function(){function e(){y(this,e),this.onCommittedListeners=[]}return w(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function $v(e){return Zv.apply(this,arguments)}function Zv(){return(Zv=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===gv.FAILED_PRECONDITION&&t.message===Jv){e.next=2;break}throw t;case 2:fv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var em=function(){function e(t){var n=this;y(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return w(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&vv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=A(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),tm=function(){function e(t,n){var r=this;y(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new wv,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new im(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=cm(e.target.error);r.v.reject(new im(t,n))}}return w(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(fv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new om(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new im(n,t)}}}]),e}(),nm=function(){function e(t,n,r){y(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(ft())&&hv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return w(e,[{key:"$",value:function(){var e=c(u().mark((function e(t){var n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return fv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new im(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new kv(gv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new kv(gv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new im(t,n))},i.onupgradeneeded=function(e){fv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){fv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=c(u().mark((function e(t,n,r,i){var a,o,s,c,l=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,s=u().mark((function e(){var n,s,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,l.$(t);case 4:return l.db=e.sent,n=tm.open(l.db,t,a?"readonly":"readwrite",r),s=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),em.reject(e)})).toPromise(),s.catch((function(){})),e.next=9,n.R;case 9:return e.t0=s,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),c=e.t1,f="FirebaseError"!==c.name&&o<3,fv("SimpleDb","Transaction failed with error:",c.message,"Retrying:",f),l.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(c)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(s(),"t0",4);case 4:if("object"!==typeof(c=e.t0)){e.next=7;break}return e.abrupt("return",c.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return fv("SimpleDb","Removing database:",e),um(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!mt())return!1;if(e.C())return!0;var t=ft(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/tweeting-ant",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyC-x5jy2CdTsxlN_4Hmaw0azX5OwrYJdls",REACT_APP_FIREBASE_AUTH_DOMAIN:"tweetingant.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"tweetingant",REACT_APP_FIREBASE_STORAGE_BUCKET:"tweetingant.appspot.com",REACT_APP_FIREBASE_MESSAGE_SENDER_ID:"43484561065",REACT_APP_FIREBASE_APP_ID:"1:43484561065:web:5d75e9599b39bbf60eb3b8"})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),rm=function(){function e(t){y(this,e),this.L=t,this.q=!1,this.U=null}return w(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return um(this.L.delete())}}]),e}(),im=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,gv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return w(n)}(kv);function am(e){return"IndexedDbTransactionError"===e.name}var om=function(){function e(t){y(this,e),this.store=t}return w(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(fv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(fv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),um(n)}},{key:"add",value:function(e){return fv("SimpleDb","ADD",this.store.name,e,e),um(this.store.add(e))}},{key:"get",value:function(e){var t=this;return um(this.store.get(e)).next((function(n){return void 0===n&&(n=null),fv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return fv("SimpleDb","DELETE",this.store.name,e),um(this.store.delete(e))}},{key:"count",value:function(){return fv("SimpleDb","COUNT",this.store.name),um(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new em((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new em((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){fv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new em((function(n,r){t.onerror=function(e){var t=cm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new em((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new rm(i),o=t(i.primaryKey,i.value,a);if(o instanceof em){var u=o.catch((function(e){return a.done(),em.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return em.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function um(e){return new em((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=cm(e.target.error);n(t)}}))}var sm=!1;function cm(e){var t=nm.S(ft());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new kv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return sm||(sm=!0,setTimeout((function(){throw r}),0)),r}}return e}var lm=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return w(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;fv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=fv,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!am(e.t4)){e.next=17;break}fv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,$v(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),fm=function(){function e(t,n){y(this,e),this.localStore=t,this.persistence=n}return w(e,[{key:"nt",value:function(){var e=c(u().mark((function e(){var t,n=this,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return em.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return fv("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return fv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Wv(t);Yv(r,n)>0&&(n=r)})),new Qv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),hm=function(){function e(t,n){var r=this;y(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return w(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function dm(e){return null==e}function pm(e){return 0===e&&1/e==-1/0}function vm(e){return"number"==typeof e&&Number.isInteger(e)&&!pm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function mm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=gm(t)),t=ym(e.get(n),t);return gm(t)}function ym(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function gm(e){return e+"\x01\x01"}function km(e){var t=e.length;if(mv(t>=2),2===t)return mv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Mv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&vv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:vv()}a=o+2}return new Mv(r)}hm.ct=-1;var wm=["userId","batchId"];function bm(e,t){return[e,mm(t)]}function xm(e,t,n){return[e,mm(t),n]}var _m={},Tm=["prefixPath","collectionGroup","readTime","documentId"],Em=["prefixPath","collectionGroup","documentId"],Im=["collectionGroup","readTime","prefixPath","documentId"],Sm=["canonicalId","targetId"],Cm=["targetId","path"],Nm=["path","targetId"],Am=["collectionId","parent"],Pm=["indexId","uid"],Dm=["uid","sequenceNumber"],Om=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rm=["indexId","uid","orderedDocumentKey"],Lm=["userId","collectionPath","documentId"],Fm=["userId","collectionPath","largestBatchId"],Mm=["userId","collectionGroup","largestBatchId"],jm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Um=[].concat(m(jm),["documentOverlays"]),Vm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Bm=Vm,zm=[].concat(Bm,["indexConfiguration","indexState","indexEntries"]),qm=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return w(n)}(Xv);function Gm(e,t){var n=yv(e);return nm.M(n.ht,t)}function Km(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hm(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qm=function(){function e(t,n){y(this,e),this.comparator=t,this.root=n||Jm.EMPTY}return w(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Jm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ym(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ym(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ym(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ym(this.root,e,this.comparator,!0)}}]),e}(),Ym=function(){function e(t,n,r,i){y(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return w(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Jm=function(){function e(t,n,r,i,a){y(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return w(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw vv();if(this.right.isRed())throw vv();var e=this.left.check();if(e!==this.right.check())throw vv();return e+(this.isRed()?0:1)}}]),e}();Jm.EMPTY=null,Jm.RED=!0,Jm.BLACK=!1,Jm.EMPTY=new(function(){function e(){y(this,e),this.size=0}return w(e,[{key:"key",get:function(){throw vv()}},{key:"value",get:function(){throw vv()}},{key:"color",get:function(){throw vv()}},{key:"left",get:function(){throw vv()}},{key:"right",get:function(){throw vv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Jm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Xm=function(){function e(t){y(this,e),this.comparator=t,this.data=new Qm(this.comparator)}return w(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $m(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $m(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),$m=function(){function e(t){y(this,e),this.iter=t}return w(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Zm(e){return e.hasNext()?e.getNext():void 0}var ey=function(){function e(t){y(this,e),this.fields=t,t.sort(Uv.comparator)}return w(e,[{key:"unionWith",value:function(t){var n,r=new Xm(Uv.comparator),i=A(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=A(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=A(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Dv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ty=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return w(n)}(C(Error));var ny=function(e){function t(e){y(this,t),this.binaryString=e}return w(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Pv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ty("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ny.EMPTY_BYTE_STRING=new ny("");var ry=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function iy(e){if(mv(!!e),"string"==typeof e){var t=0,n=ry.exec(e);if(mv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ay(e.seconds),nanos:ay(e.nanos)}}function ay(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function oy(e){return"string"==typeof e?ny.fromBase64String(e):ny.fromUint8Array(e)}function uy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sy(e){var t=e.mapValue.fields.__previous_value__;return uy(t)?sy(t):t}function cy(e){var t=iy(e.mapValue.fields.__local_write_time__.timestampValue);return new Rv(t.seconds,t.nanos)}var ly=w((function e(t,n,r,i,a,o,u,s,c){y(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=c})),fy=function(){function e(t,n){y(this,e),this.projectId=t,this.database=n||"(default)"}return w(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),hy={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},dy={nullValue:"NULL_VALUE"};function py(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uy(e)?4:Cy(e)?9007199254740991:10:vv()}function vy(e,t){if(e===t)return!0;var n=py(e);if(n!==py(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cy(e).isEqual(cy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=iy(e.timestampValue),r=iy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return oy(e.bytesValue).isEqual(oy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ay(e.geoPointValue.latitude)===ay(t.geoPointValue.latitude)&&ay(e.geoPointValue.longitude)===ay(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ay(e.integerValue)===ay(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ay(e.doubleValue),r=ay(t.doubleValue);return n===r?pm(n)===pm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Dv(e.arrayValue.values||[],t.arrayValue.values||[],vy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Km(n)!==Km(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vy(n[i],r[i])))return!1;return!0}(e,t);default:return vv()}}function my(e,t){return void 0!==(e.values||[]).find((function(e){return vy(e,t)}))}function yy(e,t){if(e===t)return 0;var n=py(e),r=py(t);if(n!==r)return Pv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ay(e.integerValue||e.doubleValue),r=ay(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return gy(e.timestampValue,t.timestampValue);case 4:return gy(cy(e),cy(t));case 5:return Pv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=oy(e),r=oy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Pv(n[i],r[i]);if(0!==a)return a}return Pv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Pv(ay(e.latitude),ay(t.latitude));return 0!==n?n:Pv(ay(e.longitude),ay(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=yy(n[i],r[i]);if(a)return a}return Pv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===hy.mapValue&&t===hy.mapValue)return 0;if(e===hy.mapValue)return 1;if(t===hy.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Pv(r[o],a[o]);if(0!==u)return u;var s=yy(n[r[o]],i[a[o]]);if(0!==s)return s}return Pv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw vv()}}function gy(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Pv(e,t);var n=iy(e),r=iy(t),i=Pv(n.seconds,r.seconds);return 0!==i?i:Pv(n.nanos,r.nanos)}function ky(e){return wy(e)}function wy(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=iy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?oy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Vv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=A(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=wy(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=A(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(wy(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):vv();var t,n}function by(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function xy(e){return!!e&&"integerValue"in e}function _y(e){return!!e&&"arrayValue"in e}function Ty(e){return!!e&&"nullValue"in e}function Ey(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Iy(e){return!!e&&"mapValue"in e}function Sy(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hm(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Sy(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Sy(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Cy(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ny(e){return"nullValue"in e?dy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?by(fy.empty(),Vv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:vv()}function Ay(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?by(fy.empty(),Vv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?hy:vv()}function Py(e,t){var n=yy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Dy(e,t){var n=yy(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Oy=function(){function e(t){y(this,e),this.value=t}return w(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Iy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sy(t)}},{key:"setAll",value:function(e){var t=this,n=Uv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Sy(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Iy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return vy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Iy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Hm(t,(function(t,n){return e[t]=n}));var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Sy(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ry(e){var t=[];return Hm(e.fields,(function(e,n){var r=new Uv([e]);if(Iy(n)){var i=Ry(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=A(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ey(t)}var Ly=function(){function e(t,n,r,i,a,o,u){y(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return w(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Lv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Oy.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Oy.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Lv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Lv.min(),Lv.min(),Lv.min(),Oy.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Lv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Lv.min(),Lv.min(),Oy.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Lv.min(),Lv.min(),Oy.empty(),2)}}]),e}(),Fy=w((function e(t,n){y(this,e),this.position=t,this.inclusive=n}));function My(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Vv.comparator(Vv.fromName(o.referenceValue),n.key):yy(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function jy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!vy(e.position[n],t.position[n]))return!1;return!0}var Uy=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";y(this,e),this.field=t,this.dir=n}));function Vy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var By=w((function e(){y(this,e)})),zy=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(yy(t,this.value)):null!==t&&py(this.value)===py(t)&&this.matchesComparison(yy(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new $y(e,t,r):"array-contains"===t?new ng(e,r):"in"===t?new rg(e,r):"not-in"===t?new ig(e,r):"array-contains-any"===t?new ag(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Zy(e,n):new eg(e,n)}}]),n}(By),qy=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return w(n,[{key:"matches",value:function(e){return Gy(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=A(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(By);function Gy(e){return"and"===e.op}function Ky(e){return"or"===e.op}function Hy(e){return Wy(e)&&Gy(e)}function Wy(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof qy)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Qy(e){if(e instanceof zy)return e.field.canonicalString()+e.op.toString()+ky(e.value);if(Hy(e))return e.filters.map((function(e){return Qy(e)})).join(",");var t=e.filters.map((function(e){return Qy(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function Yy(e,t){return e instanceof zy?function(e,t){return t instanceof zy&&e.op===t.op&&e.field.isEqual(t.field)&&vy(e.value,t.value)}(e,t):e instanceof qy?function(e,t){return t instanceof qy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&Yy(n,t.filters[r])}),!0)}(e,t):void vv()}function Jy(e,t){var n=e.filters.concat(t);return qy.create(n,e.op)}function Xy(e){return e instanceof zy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ky(e.value))}(e):e instanceof qy?function(e){return e.op.toString()+" {"+e.getFilters().map(Xy).join(" ,")+"}"}(e):"Filter"}var $y=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e,r,i)).key=Vv.fromName(i.referenceValue),a}return w(n,[{key:"matches",value:function(e){var t=Vv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(zy),Zy=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,"in",r)).keys=tg("in",r),i}return w(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zy),eg=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,"not-in",r)).keys=tg("not-in",r),i}return w(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(zy);function tg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Vv.fromName(e.referenceValue)}))}var ng=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return _y(t)&&my(t.arrayValue,this.value)}}]),n}(zy),rg=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"in",r)}return w(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&my(this.value.arrayValue,t)}}]),n}(zy),ig=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"not-in",r)}return w(n,[{key:"matches",value:function(e){if(my(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!my(this.value.arrayValue,t)}}]),n}(zy),ag=function(e){x(n,e);var t=I(n);function n(e,r){return y(this,n),t.call(this,e,"array-contains-any",r)}return w(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!_y(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return my(t.value.arrayValue,e)}))}}]),n}(zy),og=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;y(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function ug(e){return new og(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sg(e){var t=yv(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Qy(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),dm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return ky(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return ky(e)})).join(",")),t.dt=n}return t.dt}function cg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Vy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!Yy(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jy(e.startAt,t.startAt)&&jy(e.endAt,t.endAt)}function lg(e){return Vv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function fg(e,t){return e.filters.filter((function(e){return e instanceof zy&&e.field.isEqual(t)}))}function hg(e,t,n){var r,i=dy,a=!0,o=A(fg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=dy,c=!0;switch(u.op){case"<":case"<=":s=Ny(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=dy}Py({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Py({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function dg(e,t,n){var r,i=hy,a=!0,o=A(fg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=hy,c=!0;switch(u.op){case">=":case">":s=Ay(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=hy}Dy({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Dy({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var pg=w((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function vg(e,t,n,r,i,a,o,u){return new pg(e,t,n,r,i,a,o,u)}function mg(e){return new pg(e)}function yg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function gg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function kg(e){var t,n=A(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function wg(e){return null!==e.collectionGroup}function bg(e){var t=yv(e);if(null===t.wt){t.wt=[];var n=kg(t),r=gg(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new Uy(n)),t.wt.push(new Uy(Uv.keyField(),"asc"));else{var i,a=!1,o=A(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Uy(Uv.keyField(),s))}}}return t.wt}function xg(e){var t=yv(e);if(!t._t)if("F"===t.limitType)t._t=ug(t.path,t.collectionGroup,bg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=A(bg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Uy(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Fy(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Fy(t.startAt.position,t.startAt.inclusive):null;t._t=ug(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function _g(e,t){t.getFirstInequalityField(),kg(e);var n=e.filters.concat([t]);return new pg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Tg(e,t,n){return new pg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Eg(e,t){return cg(xg(e),xg(t))&&e.limitType===t.limitType}function Ig(e){return"".concat(sg(xg(e)),"|lt:").concat(e.limitType)}function Sg(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Xy(e)})).join(", "),"]")),dm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return ky(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return ky(e)})).join(",")),"Target(".concat(t,")")}(xg(e)),"; limitType=").concat(e.limitType,")")}function Cg(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Vv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=A(bg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=A(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=My(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,bg(e),t))&&!(e.endAt&&!function(e,t,n){var r=My(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,bg(e),t))}(e,t)}function Ng(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ag(e){return function(t,n){var r,i=!1,a=A(bg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Pg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Pg(e,t,n){var r=e.field.isKeyField()?Vv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yy(r,i):vv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return vv()}}var Dg=function(){function e(t,n){y(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return w(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Hm(this.inner,(function(t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=p(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Wm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Og=new Qm(Vv.comparator);function Rg(){return Og}var Lg=new Qm(Vv.comparator);function Fg(){for(var e=Lg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Mg(e){var t=Lg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function jg(){return Vg()}function Ug(){return Vg()}function Vg(){return new Dg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Bg=new Qm(Vv.comparator),zg=new Xm(Vv.comparator);function qg(){for(var e=zg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Gg=new Xm(Pv);function Kg(){return Gg}function Hg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pm(t)?"-0":t}}function Wg(e){return{integerValue:""+e}}function Qg(e,t){return vm(t)?Wg(t):Hg(e,t)}var Yg=w((function e(){y(this,e),this._=void 0}));function Jg(e,t,n){return e instanceof Zg?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&uy(t)&&(t=sy(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ek?tk(e,t):e instanceof nk?rk(e,t):function(e,t){var n=$g(e,t),r=ak(n)+ak(e.gt);return xy(n)&&xy(e.gt)?Wg(r):Hg(e.serializer,r)}(e,t)}function Xg(e,t,n){return e instanceof ek?tk(e,t):e instanceof nk?rk(e,t):n}function $g(e,t){return e instanceof ik?xy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Zg=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n)}(Yg),ek=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Yg);function tk(e,t){var n,r=ok(t),i=A(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return vy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nk=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).elements=e,r}return w(n)}(Yg);function rk(e,t){var n,r=ok(t),i=A(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!vy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ik=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return w(n)}(Yg);function ak(e){return ay(e.integerValue||e.doubleValue)}function ok(e){return _y(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var uk=w((function e(t,n){y(this,e),this.field=t,this.transform=n}));var sk=w((function e(t,n){y(this,e),this.version=t,this.transformResults=n})),ck=function(){function e(t,n){y(this,e),this.updateTime=t,this.exists=n}return w(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function lk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var fk=w((function e(){y(this,e)}));function hk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Tk(e.key,ck.none()):new yk(e.key,e.data,ck.none());var n,r=e.data,i=Oy.empty(),a=new Xm(Uv.comparator),o=A(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new gk(e.key,i,new ey(a.toArray()),ck.none())}function dk(e,t,n){e instanceof yk?function(e,t,n){var r=e.value.clone(),i=wk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof gk?function(e,t,n){if(lk(e.precondition,t)){var r=wk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(kk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function pk(e,t,n,r){return e instanceof yk?function(e,t,n,r){if(!lk(e.precondition,t))return n;var i=e.value.clone(),a=bk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof gk?function(e,t,n,r){if(!lk(e.precondition,t))return n;var i=bk(e.fieldTransforms,r,t),a=t.data;return a.setAll(kk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return lk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function vk(e,t){var n,r=null,i=A(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=$g(a.transform,o||null);null!=u&&(null===r&&(r=Oy.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function mk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Dv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ek&&t instanceof ek||e instanceof nk&&t instanceof nk?Dv(e.elements,t.elements,vy):e instanceof ik&&t instanceof ik?vy(e.gt,t.gt):e instanceof Zg&&t instanceof Zg}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var yk=function(e){x(n,e);var t=I(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return y(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return w(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fk),gk=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return y(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return w(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(fk);function kk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function wk(e,t,n){var r=new Map;mv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Xg(o,u,n[i]))}return r}function bk(e,t,n){var r,i=new Map,a=A(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Jg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var xk,_k,Tk=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return w(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fk),Ek=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return w(n,[{key:"getFieldMask",value:function(){return null}}]),n}(fk),Ik=function(){function e(t,n,r,i){y(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return w(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&dk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=A(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=pk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=A(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=pk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Ug();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=hk(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Lv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),qg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Dv(this.mutations,e.mutations,(function(e,t){return mk(e,t)}))&&Dv(this.baseMutations,e.baseMutations,(function(e,t){return mk(e,t)}))}}]),e}(),Sk=function(){function e(t,n,r,i){y(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return w(e,null,[{key:"from",value:function(t,n,r){mv(t.mutations.length===r.length);for(var i=Bg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Ck=function(){function e(t,n){y(this,e),this.largestBatchId=t,this.mutation=n}return w(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Nk=w((function e(t,n){y(this,e),this.count=t,this.unchangedNames=n}));function Ak(e){switch(e){default:return vv();case gv.CANCELLED:case gv.UNKNOWN:case gv.DEADLINE_EXCEEDED:case gv.RESOURCE_EXHAUSTED:case gv.INTERNAL:case gv.UNAVAILABLE:case gv.UNAUTHENTICATED:return!1;case gv.INVALID_ARGUMENT:case gv.NOT_FOUND:case gv.ALREADY_EXISTS:case gv.PERMISSION_DENIED:case gv.FAILED_PRECONDITION:case gv.ABORTED:case gv.OUT_OF_RANGE:case gv.UNIMPLEMENTED:case gv.DATA_LOSS:return!0}}function Pk(e){if(void 0===e)return hv("GRPC error has no .code"),gv.UNKNOWN;switch(e){case xk.OK:return gv.OK;case xk.CANCELLED:return gv.CANCELLED;case xk.UNKNOWN:return gv.UNKNOWN;case xk.DEADLINE_EXCEEDED:return gv.DEADLINE_EXCEEDED;case xk.RESOURCE_EXHAUSTED:return gv.RESOURCE_EXHAUSTED;case xk.INTERNAL:return gv.INTERNAL;case xk.UNAVAILABLE:return gv.UNAVAILABLE;case xk.UNAUTHENTICATED:return gv.UNAUTHENTICATED;case xk.INVALID_ARGUMENT:return gv.INVALID_ARGUMENT;case xk.NOT_FOUND:return gv.NOT_FOUND;case xk.ALREADY_EXISTS:return gv.ALREADY_EXISTS;case xk.PERMISSION_DENIED:return gv.PERMISSION_DENIED;case xk.FAILED_PRECONDITION:return gv.FAILED_PRECONDITION;case xk.ABORTED:return gv.ABORTED;case xk.OUT_OF_RANGE:return gv.OUT_OF_RANGE;case xk.UNIMPLEMENTED:return gv.UNIMPLEMENTED;case xk.DATA_LOSS:return gv.DATA_LOSS;default:return vv()}}(_k=xk||(xk={}))[_k.OK=0]="OK",_k[_k.CANCELLED=1]="CANCELLED",_k[_k.UNKNOWN=2]="UNKNOWN",_k[_k.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_k[_k.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_k[_k.NOT_FOUND=5]="NOT_FOUND",_k[_k.ALREADY_EXISTS=6]="ALREADY_EXISTS",_k[_k.PERMISSION_DENIED=7]="PERMISSION_DENIED",_k[_k.UNAUTHENTICATED=16]="UNAUTHENTICATED",_k[_k.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_k[_k.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_k[_k.ABORTED=10]="ABORTED",_k[_k.OUT_OF_RANGE=11]="OUT_OF_RANGE",_k[_k.UNIMPLEMENTED=12]="UNIMPLEMENTED",_k[_k.INTERNAL=13]="INTERNAL",_k[_k.UNAVAILABLE=14]="UNAVAILABLE",_k[_k.DATA_LOSS=15]="DATA_LOSS";var Dk=function(){function e(){y(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return w(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Ok}},{key:"getOrCreateInstance",value:function(){return null===Ok&&(Ok=new e),Ok}}]),e}(),Ok=null;function Rk(){return new TextEncoder}var Lk=new av([4294967295,4294967295],0);function Fk(e){var t=Rk().encode(e),n=new iv;return n.update(t),new Uint8Array(n.digest())}function Mk(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new av([n,r],0),new av([i,a],0)]}var jk=function(){function e(t,n,r){if(y(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uk("Invalid padding: ".concat(n));if(r<0)throw new Uk("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Uk("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Uk("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=av.fromNumber(this.It)}return w(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(av.fromNumber(n)));return 1===r.compare(Lk)&&(r=new av([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=p(Mk(Fk(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);if(!this.At(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=p(Mk(Fk(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.Et(n,r,i);this.Rt(a)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Uk=function(e){x(n,e);var t=I(n);function n(){var e;return y(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return w(n)}(C(Error)),Vk=function(){function e(t,n,r,i,a){y(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return w(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Bk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Lv.min(),i,new Qm(Pv),Rg(),qg())}}]),e}(),Bk=function(){function e(t,n,r,i,a){y(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return w(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,qg(),qg(),qg())}}]),e}(),zk=w((function e(t,n,r,i){y(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),qk=w((function e(t,n){y(this,e),this.targetId=t,this.Vt=n})),Gk=w((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ny.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;y(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Kk=function(){function e(){y(this,e),this.St=0,this.Dt=Qk(),this.Ct=ny.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return w(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=qg(),t=qg(),n=qg();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:vv()}})),new Bk(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Qk()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Hk=function(){function e(t){y(this,e),this.Gt=t,this.Qt=new Map,this.jt=Rg(),this.zt=Wk(),this.Wt=new Qm(Pv)}return w(e,[{key:"Ht",value:function(e){var t,n=A(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=A(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:vv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(lg(a))if(0===r){var o=new Vv(a.path);this.Yt(n,o,Ly.newNoDocument(o,Lv.min()))}else mv(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Dk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=oy(c).toUint8Array()}catch(e){if(e instanceof ty)return dv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new jk(a,f,d)}catch(e){return dv(e instanceof Uk?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&lg(a.target)){var o=new Vv(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Ly.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=qg();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Vk(e,n,this.Wt,this.jt,r);return this.jt=Rg(),this.zt=Wk(),this.Wt=new Qm(Pv),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Kk,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Xm(Pv),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||fv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Kk),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Wk(){return new Qm(Vv.comparator)}function Qk(){return new Qm(Vv.comparator)}var Yk={asc:"ASCENDING",desc:"DESCENDING"},Jk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xk={and:"AND",or:"OR"},$k=w((function e(t,n){y(this,e),this.databaseId=t,this.useProto3Json=n}));function Zk(e,t){return e.useProto3Json||dm(t)?t:{value:t}}function ew(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function tw(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function nw(e,t){return ew(e,t.toTimestamp())}function rw(e){return mv(!!e),Lv.fromTimestamp(function(e){var t=iy(e);return new Rv(t.seconds,t.nanos)}(e))}function iw(e,t){return function(e){return new Mv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function aw(e){var t=Mv.fromString(e);return mv(Cw(t)),t}function ow(e,t){return iw(e.databaseId,t.path)}function uw(e,t){var n=aw(t);if(n.get(1)!==e.databaseId.projectId)throw new kv(gv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kv(gv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Vv(fw(n))}function sw(e,t){return iw(e.databaseId,t)}function cw(e){var t=aw(e);return 4===t.length?Mv.emptyPath():fw(t)}function lw(e){return new Mv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function fw(e){return mv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function hw(e,t,n){return{name:ow(e,t),fields:n.value.mapValue.fields}}function dw(e,t,n){var r=uw(e,t.name),i=rw(t.updateTime),a=t.createTime?rw(t.createTime):Lv.min(),o=new Oy({mapValue:{fields:t.fields}}),u=Ly.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function pw(e,t){return"found"in t?function(e,t){mv(!!t.found),t.found.name,t.found.updateTime;var n=uw(e,t.found.name),r=rw(t.found.updateTime),i=t.found.createTime?rw(t.found.createTime):Lv.min(),a=new Oy({mapValue:{fields:t.found.fields}});return Ly.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){mv(!!t.missing),mv(!!t.readTime);var n=uw(e,t.missing),r=rw(t.readTime);return Ly.newNoDocument(n,r)}(e,t):vv()}function vw(e,t){var n;if(t instanceof yk)n={update:hw(e,t.key,t.value)};else if(t instanceof Tk)n={delete:ow(e,t.key)};else if(t instanceof gk)n={update:hw(e,t.key,t.data),updateMask:Sw(t.fieldMask)};else{if(!(t instanceof Ek))return vv();n={verify:ow(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Zg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ek)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof nk)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ik)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw vv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:nw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:vv()}(e,t.precondition)),n}function mw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ck.updateTime(rw(e.updateTime)):void 0!==e.exists?ck.exists(e.exists):ck.none()}(t.currentDocument):ck.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)mv("REQUEST_TIME"===t.setToServerValue),n=new Zg;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new ek(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new nk(i)}else"increment"in t?n=new ik(e,t.increment):vv();var a=Uv.fromServerFormat(t.fieldPath);return new uk(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=uw(e,t.update.name),a=new Oy({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ey(t.map((function(e){return Uv.fromServerFormat(e)})))}(t.updateMask);return new gk(i,a,o,n,r)}return new yk(i,a,n,r)}if(t.delete){var u=uw(e,t.delete);return new Tk(u,n)}if(t.verify){var s=uw(e,t.verify);return new Ek(s,n)}return vv()}function yw(e,t){return{documents:[sw(e,t.path)]}}function gw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=sw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=sw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Iw(qy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Tw(e.field),direction:bw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=Zk(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function kw(e){var t=cw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){mv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=ww(e);return t instanceof qy&&Hy(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Uy(Ew(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return dm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Fy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Fy(n,t)}(n.endAt)),vg(t,i,u,o,s,"F",c,l)}function ww(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Ew(e.unaryFilter.field);return zy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Ew(e.unaryFilter.field);return zy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ew(e.unaryFilter.field);return zy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ew(e.unaryFilter.field);return zy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return vv()}}(e):void 0!==e.fieldFilter?function(e){return zy.create(Ew(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return qy.create(e.compositeFilter.filters.map((function(e){return ww(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return vv()}}(e.compositeFilter.op))}(e):vv()}function bw(e){return Yk[e]}function xw(e){return Jk[e]}function _w(e){return Xk[e]}function Tw(e){return{fieldPath:e.canonicalString()}}function Ew(e){return Uv.fromServerFormat(e.fieldPath)}function Iw(e){return e instanceof zy?function(e){if("=="===e.op){if(Ey(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NAN"}};if(Ty(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ey(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NOT_NAN"}};if(Ty(e.value))return{unaryFilter:{field:Tw(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tw(e.field),op:xw(e.op),value:e.value}}}(e):e instanceof qy?function(e){var t=e.getFilters().map((function(e){return Iw(e)}));return 1===t.length?t[0]:{compositeFilter:{op:_w(e.op),filters:t}}}(e):vv()}function Sw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Cw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Nw=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Lv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Lv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ny.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;y(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return w(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Aw=w((function e(t){y(this,e),this.fe=t}));function Pw(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Dw(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:ow(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ew(e,t.version.toTimestamp()),createTime:ew(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ow(t.version)};else{if(!t.isUnknownDocument())return vv();r.unknownDocument={path:n.path.toArray(),version:Ow(t.version)}}return r}function Dw(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Ow(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Rw(e){var t=new Rv(e.seconds,e.nanoseconds);return Lv.fromTimestamp(t)}function Lw(e,t){for(var n=(t.baseMutations||[]).map((function(t){return mw(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return mw(e.fe,t)})),u=Rv.fromMillis(t.localWriteTimeMs);return new Ik(t.batchId,u,n,o)}function Fw(e){var t,n,r=Rw(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Rw(e.lastLimboFreeSnapshotVersion):Lv.min();return void 0!==e.query.documents?(mv(1===(n=e.query).documents.length),t=xg(mg(cw(n.documents[0])))):t=function(e){return xg(kw(e))}(e.query),new Nw(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,ny.fromBase64String(e.resumeToken))}function Mw(e,t){var n,r=Ow(t.snapshotVersion),i=Ow(t.lastLimboFreeSnapshotVersion);n=lg(t.target)?yw(e.fe,t.target):gw(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:sg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function jw(e){var t=kw({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Tg(t,t.limit,"L"):t}function Uw(e,t){return new Ck(t.largestBatchId,mw(e.fe,t.overlayMutation))}function Vw(e,t){var n=t.path.lastSegment();return[e,mm(t.path.popLast()),n]}function Bw(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Ow(r.readTime),documentKey:mm(r.documentKey.path),largestBatchId:r.largestBatchId}}var zw=function(){function e(){y(this,e)}return w(e,[{key:"getBundleMetadata",value:function(e,t){return qw(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Rw(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return qw(e).put({bundleId:(n=t).id,createTime:Ow(rw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Gw(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:jw(t.bundledQuery),readTime:Rw(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Gw(e).put(function(e){return{name:e.name,readTime:Ow(rw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function qw(e){return Gm(e,"bundles")}function Gw(e){return Gm(e,"namedQueries")}var Kw=function(){function e(t,n){y(this,e),this.serializer=t,this.userId=n}return w(e,[{key:"getOverlay",value:function(e,t){var n=this;return Hw(e).get(Vw(this.userId,t)).next((function(e){return e?Uw(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=jg();return em.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Ck(t,a);i.push(r.we(e,o))})),em.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(mm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Hw(e).J("collectionPathOverlayIndex",i))})),em.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=jg(),a=mm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hw(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Uw(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=jg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Hw(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Uw(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Hw(e).put(function(e,t,n){var r=p(Vw(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:vw(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Hw(e){return Gm(e,"documentOverlays")}var Ww=function(){function e(){y(this,e)}return w(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ay(e.integerValue));else if("doubleValue"in e){var n=ay(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),pm(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(oy(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Cy(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):vv()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),Vv.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Qw(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Yw(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Qw(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Ww.Ve=new Ww;var Jw=function(){function e(){y(this,e),this.buffer=new Uint8Array(1024),this.position=0}return w(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=Yw(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=Yw(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Xw=function(){function e(t){y(this,e),this.je=t}return w(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),$w=function(){function e(t){y(this,e),this.je=t}return w(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),Zw=function(){function e(){y(this,e),this.je=new Jw,this.ze=new Xw(this.je),this.We=new $w(this.je)}return w(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),eb=function(){function e(t,n,r,i){y(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return w(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function tb(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=nb(e.arrayValue,t.arrayValue))?n:0!==(n=nb(e.directionalValue,t.directionalValue))?n:Vv.comparator(e.documentKey,t.documentKey)}function nb(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var rb=function(){function e(t){y(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=A(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return w(e,[{key:"tn",value:function(e){mv(e.collectionGroup===this.collectionId);var t=zv(e);if(void 0!==t&&!this.en(t))return!1;for(var n=qv(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}},{key:"en",value:function(e){var t,n=A(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ib(e){var t,n;if(mv(e instanceof zy||e instanceof qy),e instanceof zy){if(e instanceof rg){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return zy.create(e.field,"==",t)})))||[];return qy.create(r,"or")}return e}var i=e.filters.map((function(e){return ib(e)}));return qy.create(i,e.op)}function ab(e){if(0===e.getFilters().length)return[];var t=cb(ib(e));return mv(sb(t)),ob(t)||ub(t)?[t]:t.getFilters()}function ob(e){return e instanceof zy}function ub(e){return e instanceof qy&&Hy(e)}function sb(e){return ob(e)||ub(e)||function(e){if(e instanceof qy&&Ky(e)){var t,n=A(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!ob(r)&&!ub(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function cb(e){if(mv(e instanceof zy||e instanceof qy),e instanceof zy)return e;if(1===e.filters.length)return cb(e.filters[0]);var t=e.filters.map((function(e){return cb(e)})),n=qy.create(t,e.op);return sb(n=hb(n))?n:(mv(n instanceof qy),mv(Gy(n)),mv(n.filters.length>1),n.filters.reduce((function(e,t){return lb(e,t)})))}function lb(e,t){var n;return mv(e instanceof zy||e instanceof qy),mv(t instanceof zy||t instanceof qy),n=e instanceof zy?t instanceof zy?function(e,t){return qy.create([e,t],"and")}(e,t):fb(e,t):t instanceof zy?fb(t,e):function(e,t){if(mv(e.filters.length>0&&t.filters.length>0),Gy(e)&&Gy(t))return Jy(e,t.getFilters());var n=Ky(e)?e:t,r=Ky(e)?t:e,i=n.filters.map((function(e){return lb(e,r)}));return qy.create(i,"or")}(e,t),hb(n)}function fb(e,t){if(Gy(t))return Jy(t,e.getFilters());var n=t.filters.map((function(t){return lb(e,t)}));return qy.create(n,"or")}function hb(e){if(mv(e instanceof zy||e instanceof qy),e instanceof zy)return e;var t=e.getFilters();if(1===t.length)return hb(t[0]);if(Wy(e))return e;var n=t.map((function(e){return hb(e)})),r=[];return n.forEach((function(t){t instanceof zy?r.push(t):t instanceof qy&&(t.op===e.op?r.push.apply(r,m(t.filters)):r.push(t))})),1===r.length?r[0]:qy.create(r,e.op)}var db=function(){function e(){y(this,e),this.rn=new pb}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),em.resolve()}},{key:"getCollectionParents",value:function(e,t){return em.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return em.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return em.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return em.resolve(null)}},{key:"getIndexType",value:function(e,t){return em.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return em.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return em.resolve(null)}},{key:"getMinOffset",value:function(e,t){return em.resolve(Qv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return em.resolve(Qv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return em.resolve()}},{key:"updateIndexEntries",value:function(e,t){return em.resolve()}}]),e}(),pb=function(){function e(){y(this,e),this.index={}}return w(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xm(Mv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Xm(Mv.comparator)).toArray()}}]),e}(),vb=new Uint8Array(0),mb=function(){function e(t,n){y(this,e),this.user=t,this.databaseId=n,this.on=new pb,this.un=new Dg((function(e){return sg(e)}),(function(e,t){return cg(e,t)})),this.uid=t.uid||""}return w(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:mm(i)};return yb(e).put(a)}return em.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ov(t),""],!1,!0);return yb(e).j(r).next((function(e){var r,i=A(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(km(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=kb(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=wb(e);return a.next((function(e){o.put(Bw(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=kb(e),r=wb(e),i=gb(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=gb(e),i=!0,a=new Map;return em.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=qg(),o=[];return em.forEach(a,(function(i,a){var u;fv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(sg(t)));var s=function(e,t){var n=zv(t);if(void 0===n)return null;var r,i=A(fg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=A(qv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=A(fg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=A(qv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?hg(e,o.fieldPath,e.startAt):dg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Fy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=A(qv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?dg(e,o.fieldPath,e.endAt):hg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Fy(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return em.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=Vv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return em.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:ab(qy.create(e.filters,"and")).map((function(t){return ug(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(){var s=t?u.dn(t[h/c]):vb,f=u.wn(e,s,n[h%c],r),d=u._n(e,s,i[h%c],a),p=o.map((function(t){return u.wn(e,s,t,!0)}));l.push.apply(l,m(u.createRange(f,d,p)))},h=0;h<s;++h)f();return l}},{key:"wn",value:function(e,t,n,r){var i=new eb(e,Vv.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new eb(e,Vv.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new rb(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return em.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Xm(Uv.comparator),r=!1,i=A(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=A(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=A(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new Zw,i=A(qv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);Ww.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new Zw;return Ww.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new Zw;return Ww.Ve._e(by(this.databaseId,t),n.He(function(e){var t=qv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new Zw);var i,a=0,o=A(qv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=A(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&_y(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);Ww.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=m(e),a=[],o=A(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=A(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new Zw;f.seed(l.Qe()),Ww.Ve._e(s,f.He(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof zy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=kb(e),i=wb(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return em.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Kv(t.sequenceNumber,new Qv(Rw(t.readTime),new Vv(km(t.documentKey)),t.largestBatchId)):Kv.empty(),r=e.fields.map((function(e){var t=p(e,2),n=t[0],r=t[1];return new Gv(Uv.fromServerFormat(n),r)}));return new Bv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Pv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=kb(e),a=wb(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return em.forEach(t,(function(t){return a.put(Bw(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return em.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?em.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),em.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?em.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return gb(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return gb(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=gb(e),i=new Xm(tb);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new eb(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Xm(tb),r=this.mn(t,e);if(null==r)return n;var i=zv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(_y(a)){var o,u=A(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new eb(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new eb(t.indexId,e.key,vb,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;fv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Zm(a),s=Zm(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Zm(o)):l?(i(u),u=Zm(a)):(u=Zm(a),s=Zm(o))}}(r,i,tb,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),em.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return wb(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return tb(e,t)})).filter((function(e,t,n){return!t||0!==tb(e,n[t-1])}));var r=[];r.push(e);var i,a=A(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=tb(o,e),s=tb(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,vb,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,vb,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return tb(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(bb)}},{key:"getMinOffset",value:function(e,t){var n=this;return em.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||vv()}))})).next(bb)}}]),e}();function yb(e){return Gm(e,"collectionParents")}function gb(e){return Gm(e,"indexEntries")}function kb(e){return Gm(e,"indexConfiguration")}function wb(e){return Gm(e,"indexState")}function bb(e){mv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Yv(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qv(t.readTime,t.documentKey,n)}var xb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_b=function(){function e(t,n,r){y(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return w(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Tb(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){mv(1===u)})));var c,l=[],f=A(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=xm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return em.waitFor(a).next((function(){return l}))}function Eb(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw vv();t=e.noDocument}return JSON.stringify(t).length}_b.DEFAULT_COLLECTION_PERCENTILE=10,_b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_b.DEFAULT=new _b(41943040,_b.DEFAULT_COLLECTION_PERCENTILE,_b.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_b.DISABLED=new _b(-1,0,0);var Ib=function(){function e(t,n,r,i){y(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return w(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cb(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Nb(e),o=Cb(e);return o.add({}).next((function(u){mv("number"==typeof u);var s,c=new Ik(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return vw(e.fe,t)})),i=n.mutations.map((function(t){return vw(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Xm((function(e,t){return Pv(e.canonicalString(),t.canonicalString())})),d=A(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=xm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,_m))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),em.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Cb(e).get(t).next((function(e){return e?(mv(e.userId===n.userId),Lw(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?em.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Cb(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(mv(t.batchId>=r),a=Lw(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Cb(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cb(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Lw(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=bm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Nb(e).X({range:i},(function(r,i,o){var u=p(r,3),s=u[0],c=u[1],l=u[2],f=km(c);if(s===n.userId&&t.path.isEqual(f))return Cb(e).get(l).next((function(e){if(!e)throw vv();mv(e.userId===n.userId),a.push(Lw(n.serializer,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xm(Pv),i=[];return t.forEach((function(t){var a=bm(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Nb(e).X({range:o},(function(e,i,a){var o=p(e,3),u=o[0],s=o[1],c=o[2],l=km(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),em.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=bm(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Xm(Pv);return Nb(e).X({range:o},(function(e,t,a){var o=p(e,3),s=o[0],c=o[1],l=o[2],f=km(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.Dn(e,u)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Cb(e).get(t).next((function(e){if(null===e)throw vv();mv(e.userId===n.userId),r.push(Lw(n.serializer,e))})))})),em.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Tb(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),em.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return em.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Nb(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=km(e[1]);i.push(a)}else r.done()})).next((function(){mv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Sb(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Ab(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return mv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Sb(e,t,n){var r=bm(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Nb(e).X({range:a,Y:!0},(function(e,n,r){var a=p(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Cb(e){return Gm(e,"mutations")}function Nb(e){return Gm(e,"documentMutations")}function Ab(e){return Gm(e,"mutationQueues")}var Pb=function(){function e(t){y(this,e),this.Nn=t}return w(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),Db=function(){function e(t,n){y(this,e),this.referenceDelegate=t,this.serializer=n}return w(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new Pb(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Lv.fromTimestamp(new Rv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Ob(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return mv(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Ob(e).X((function(o,u){var s=Fw(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return em.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Ob(e).X((function(e,n){var r=Fw(n);t(r)}))}},{key:"$n",value:function(e){return Rb(e).get("targetGlobalKey").next((function(e){return mv(null!==e),e}))}},{key:"On",value:function(e,t){return Rb(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return Ob(e).put(Mw(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=sg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Ob(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Fw(n);cg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Lb(e);return t.forEach((function(t){var o=mm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),em.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Lb(e);return em.forEach(t,(function(t){var a=mm(t.path);return em.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Lb(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Lb(e),i=qg();return r.X({range:n,Y:!0},(function(e,t,n){var r=km(e[1]),a=new Vv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=mm(t.path),r=IDBKeyRange.bound([n],[Ov(n)],!1,!0),i=0;return Lb(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=p(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return Ob(e).get(t).next((function(e){return e?Fw(e):null}))}}]),e}();function Ob(e){return Gm(e,"targets")}function Rb(e){return Gm(e,"targetGlobal")}function Lb(e){return Gm(e,"targetDocuments")}function Fb(e,t){var n=p(e,2),r=n[0],i=n[1],a=p(t,2),o=a[0],u=a[1],s=Pv(r,o);return 0===s?Pv(i,u):s}var Mb=function(){function e(t){y(this,e),this.Ln=t,this.buffer=new Xm(Fb),this.qn=0}return w(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Fb(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),jb=function(){function e(t,n,r){y(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return w(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;fv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!am(e.t0)){e.next=12;break}fv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,$v(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Ub=function(){function e(t,n){y(this,e),this.jn=t,this.params=n}return w(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return em.resolve(hm.ct);var r=new Mb(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(fv("LruGarbageCollector","Garbage collection skipped; disabled"),em.resolve(xb)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(fv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),xb):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(fv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),lv()<=Lt.DEBUG&&fv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),em.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function Vb(e,t){return new Ub(e,t)}var Bb=function(){function e(t,n){y(this,e),this.db=t,this.garbageCollector=Vb(this,n)}return w(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return zb(e,n)}},{key:"removeReference",value:function(e,t,n){return zb(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return zb(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Ab(e).Z((function(r){return Sb(e,r,t).next((function(e){return e&&(n=!0),em.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Lv.min()),Lb(e).delete([0,mm(o.path)])}))}));i.push(s)}})).next((function(){return em.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return zb(e,t)}},{key:"Yn",value:function(e,t){var n,r=Lb(e),i=hm.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var a=p(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==hm.ct&&t(new Vv(km(n)),i),i=s,n=u):i=hm.ct})).next((function(){i!==hm.ct&&t(new Vv(km(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function zb(e,t){return Lb(e).put(function(e,t){return{targetId:0,path:mm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var qb=function(){function e(){y(this,e),this.changes=new Dg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return w(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ly.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?em.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Gb=function(){function e(t){y(this,e),this.serializer=t}return w(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Qb(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Qb(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Dw(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Ly.newInvalidDocument(t);return Qb(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yb(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Ly.newInvalidDocument(t)};return Qb(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Yb(t))},(function(e,i){r={document:n.ts(t,i),size:Eb(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Rg();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=Rg(),i=new Qm(Vv.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,Eb(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return em.resolve();var r=new Xm(Xb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Yb(r.first()),Yb(r.last())),a=r.getIterator(),o=a.getNext();return Qb(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Vv.fromSegments([].concat(m(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Xb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G(Yb(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Dw(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qb(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Rg(),o=A(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(Vv.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Cg(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Rg(),o=Jb(t,n),u=Jb(t,Qv.max());return Qb(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(Vv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Hb(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Wb(e).get("remoteDocumentGlobalKey").next((function(e){return mv(!!e),e}))}},{key:"Zn",value:function(e,t){return Wb(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=dw(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Vv.fromSegments(t.noDocument.path),i=Rw(t.noDocument.readTime);n=Ly.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return vv();var a=Vv.fromSegments(t.unknownDocument.path),o=Rw(t.unknownDocument.version);n=Ly.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Rv(e[0],e[1]);return Lv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Lv.min()))return n}return Ly.newInvalidDocument(e)}}]),e}();function Kb(e){return new Gb(e)}var Hb=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new Dg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Xm((function(e,t){return Pv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Pw(t.os.serializer,o);i=i.add(a.path.popLast());var c=Eb(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Pw(t.os.serializer,o.convertToNoDocument(Lv.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),em.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(qb);function Wb(e){return Gm(e,"remoteDocumentGlobal")}function Qb(e){return Gm(e,"remoteDocumentsV14")}function Yb(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jb(e,t){var n=t.documentKey.path.toArray();return[e,Dw(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Xb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Pv(n[a],r[a]))return i;return(i=Pv(n.length,r.length))||((i=Pv(n[n.length-2],r[r.length-2]))||Pv(n[n.length-1],r[r.length-1]))}var $b=w((function e(t,n){y(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Zb=function(){function e(t,n,r,i){y(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return w(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&pk(r.mutation,e,ey.empty(),Rv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,qg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qg(),i=jg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Fg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=jg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,qg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Rg(),a=Vg(),o=Vg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof gk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),pk(o.mutation,t,o.mutation.getFieldMask(),Rv.now())):a.set(t.key,ey.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new $b(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Vg(),i=new Qm((function(e,t){return e-t})),a=qg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=A(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ey.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||qg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Ug();c.forEach((function(e){if(!a.has(e)){var n=hk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return em.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Vv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):wg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):em.resolve(jg()),u=-1,s=a;return o.next((function(t){return em.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?em.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,qg())})).next((function(e){return{batchId:u,changes:Mg(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Vv(t)).next((function(e){var t=Fg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Fg();return this.indexManager.getCollectionParents(e,i).next((function(o){return em.forEach(o,(function(o){var u=function(e,t){return new pg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Ly.newInvalidDocument(r)))}));var n=Fg();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&pk(a.mutation,i,ey.empty(),Rv.now()),Cg(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),ex=function(){function e(t){y(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return w(e,[{key:"getBundleMetadata",value:function(e,t){return em.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:rw(n.createTime)}),em.resolve()}},{key:"getNamedQuery",value:function(e,t){return em.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:jw(e.bundledQuery),readTime:rw(e.readTime)}}(t)),em.resolve()}}]),e}(),tx=function(){function e(){y(this,e),this.overlays=new Qm(Vv.comparator),this.ls=new Map}return w(e,[{key:"getOverlay",value:function(e,t){return em.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=jg();return em.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),em.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),em.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=jg(),i=t.length+1,a=new Vv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return em.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Qm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=jg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=jg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return em.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Ck(t,n));var a=this.ls.get(t);void 0===a&&(a=qg(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),nx=function(){function e(){y(this,e),this.fs=new Xm(rx.ds),this.ws=new Xm(rx._s)}return w(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new rx(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new rx(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new Vv(new Mv([])),r=new rx(n,e),i=new rx(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new Vv(new Mv([])),n=new rx(t,e),r=new rx(t,e+1),i=qg();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new rx(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),rx=function(){function e(t,n){y(this,e),this.key=t,this.As=n}return w(e,null,[{key:"ds",value:function(e,t){return Vv.comparator(e.key,t.key)||Pv(e.As,t.As)}},{key:"_s",value:function(e,t){return Pv(e.As,t.As)||Vv.comparator(e.key,t.key)}}]),e}(),ix=function(){function e(t,n){y(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Xm(rx.ds)}return w(e,[{key:"checkEmpty",value:function(e){return em.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ik(i,t,n,r);this.mutationQueue.push(a);var o,u=A(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new rx(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return em.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return em.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return em.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return em.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return em.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new rx(t,0),i=new rx(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),em.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xm(Pv);return t.forEach((function(e){var t=new rx(e,0),i=new rx(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),em.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Vv.isDocumentKey(i)||(i=i.child(""));var a=new rx(new Vv(i),0),o=new Xm(Pv);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),em.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;mv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return em.forEach(t.mutations,(function(i){var a=new rx(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new rx(t,0),r=this.Rs.firstAfterOrEqual(n);return em.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,em.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),ax=function(){function e(t){y(this,e),this.Ds=t,this.docs=new Qm(Vv.comparator),this.size=0}return w(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return em.resolve(n?n.document.mutableCopy():Ly.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Rg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ly.newInvalidDocument(e))})),em.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Rg(),a=t.path,o=new Vv(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Yv(Wv(l),n)<=0||(r.has(l.key)||Cg(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return em.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){vv()}},{key:"Cs",value:function(e,t){return em.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new ox(this)}},{key:"getSize",value:function(e){return em.resolve(this.size)}}]),e}(),ox=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).os=e,r}return w(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),em.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(qb),ux=function(){function e(t){y(this,e),this.persistence=t,this.xs=new Dg((function(e){return sg(e)}),cg),this.lastRemoteSnapshotVersion=Lv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new nx,this.targetCount=0,this.Ms=Pb.kn()}return w(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),em.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return em.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return em.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),em.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),em.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Pb(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,em.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),em.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,em.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),em.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return em.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return em.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),em.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),em.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),em.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return em.resolve(n)}},{key:"containsKey",value:function(e,t){return em.resolve(this.ks.containsKey(t))}}]),e}(),sx=function(){function e(t,n){var r=this;y(this,e),this.$s={},this.overlays={},this.Os=new hm(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new ux(this),this.indexManager=new db,this.remoteDocumentCache=new ax((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Aw(n),this.qs=new ex(this.serializer)}return w(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new tx,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new ix(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;fv("MemoryPersistence","Starting transaction:",e);var i=new cx(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return em.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),cx=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return w(n)}(Xv),lx=function(){function e(t){y(this,e),this.persistence=t,this.Qs=new nx,this.js=null}return w(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw vv()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),em.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),em.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),em.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return em.forEach(this.Ws,(function(r){var i=Vv.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Lv.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return em.or([function(){return em.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),fx=function(){function e(t){y(this,e),this.serializer=t}return w(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new tm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wm,{unique:!0}),e.createObjectStore("documentMutations")}(e),hx(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=em.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),hx(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wm,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return em.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Lm});t.createIndex("collectionPathOverlayIndex",Fm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Mm,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Tm});t.createIndex("documentKeyIndex",Em),t.createIndex("collectionGroupIndex",Im)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Pm}).createIndex("sequenceNumberIndex",Dm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Om}).createIndex("documentKeyIndex",Rm,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Eb(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return em.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return em.forEach(r,(function(r){mv(r.userId===n.userId);var i=Lw(t.serializer,r);return Tb(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Mv(n),o=function(e){return[0,mm(e)]}(a);r.push(t.get(o).next((function(n){return n?em.resolve():function(n){return t.put({targetId:0,path:mm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return em.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Am});var n=t.store("collectionParents"),r=new pb,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:mm(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new Mv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=p(e,3),r=(n[0],n[1]),a=(n[2],km(r));return i(a.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=Fw(r),a=Mw(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Vv(Mv.fromString(i.document.name).popFirst(5)):i.noDocument?Vv.fromSegments(i.noDocument.path):i.unknownDocument?Vv.fromSegments(i.unknownDocument.path):vv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return em.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Kb(this.serializer),a=new sx(lx.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:qg();Lw(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),em.forEach(r,(function(e,r){var o=new uv(r),u=Kw.de(n.serializer,o),s=a.getIndexManager(o),c=Ib.de(o,n.serializer,s,a.referenceDelegate);return new Zb(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new qm(t,hm.ct),e).next()}))}))}}]),e}();function hx(e){e.createObjectStore("targetDocuments",{keyPath:Cm}).createIndex("documentTargetsIndex",Nm,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Sm,{unique:!0}),e.createObjectStore("targetGlobal")}var dx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",px=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(y(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=c,this.oi=l,this.ui=f,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new kv(gv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bb(this,i),this.di=n+"main",this.serializer=new Aw(s),this.wi=new nm(this.di,this.ui,new fx(this.serializer)),this.Bs=new Db(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kb(this.serializer),this.qs=new zw,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===l&&hv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return w(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new kv(gv.FAILED_PRECONDITION,dx);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new hm(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=c(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=c(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mx(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(am(t))return fv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return fv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return vx(e).get("owner").next((function(e){return em.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return mx(e).delete(this.clientId)}},{key:"bi",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Gm(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return em.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=A(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?em.resolve(!0):vx(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new kv(gv.FAILED_PRECONDITION,dx);return!1}}return!(!t.networkEnabled||!t.inForeground)||mx(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&fv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=c(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new qm(e,hm.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mx(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return Ib.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new mb(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kw.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;fv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?zm:14===i?Bm:13===i?Vm:12===i?Um:11===i?jm:void vv();return this.wi.runTransaction(e,o,u,(function(i){return a=new qm(i,r.Os?r.Os.next():hm.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw hv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new kv(gv.FAILED_PRECONDITION,Jv);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return vx(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new kv(gv.FAILED_PRECONDITION,dx)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return vx(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=vx(e);return n.get("owner").next((function(e){return t.Ri(e)?(fv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):em.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(hv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!ht()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return fv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return hv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){hv("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return nm.D()}}]),e}();function vx(e){return Gm(e,"owner")}function mx(e){return Gm(e,"clientMetadata")}function yx(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var gx=function(){function e(t,n,r,i){y(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return w(e,null,[{key:"Li",value:function(t,n){var r,i=qg(),a=qg(),o=A(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),kx=function(){function e(){y(this,e),this.qi=!1}return w(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(yg(t))return em.resolve(null);var r=xg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Tg(t,null,"F"),r=xg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=qg.apply(void 0,m(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,Tg(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return yg(t)||r.isEqual(Lv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(lv()<=Lt.DEBUG&&fv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Sg(t)),i.Wi(e,o,t,Hv(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Xm(Ag(e));return t.forEach((function(t,r){Cg(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return lv()<=Lt.DEBUG&&fv("QueryEngine","Using full collection scan to execute query:",Sg(t)),this.Ui.getDocumentsMatchingQuery(e,t,Qv.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),wx=function(){function e(t,n,r,i){y(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Qm(Pv),this.Yi=new Dg((function(e){return sg(e)}),cg),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return w(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zb(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function bx(e,t,n,r){return new wx(e,t,n,r)}function xx(e,t){return _x.apply(this,arguments)}function _x(){return _x=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=qg(),s=A(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=A(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=A(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=A(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Tx(e,t){var n=yv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=em.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);mv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=qg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Ex(e){var t=yv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function Ix(e,t){var n=yv(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(ny.EMPTY_BYTE_STRING,Lv.min()).withLastLimboFreeSnapshotVersion(Lv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=Rg(),s=qg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Sx(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(Lv.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return em.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function Sx(e,t,n){var r=qg(),i=qg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Rg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Lv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):fv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function Cx(e,t){var n=yv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Nx(e,t){var n=yv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,em.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Nw(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function Ax(e,t,n){return Px.apply(this,arguments)}function Px(){return Px=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yv(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),am(e.t1)){e.next=12;break}throw e.t1;case 12:fv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Px.apply(this,arguments)}function Dx(e,t,n){var r=yv(e),i=Lv.min(),a=qg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=yv(e),i=r.Yi.get(n);return void 0!==i?em.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,xg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Lv.min(),n?a:qg())})).next((function(e){return Lx(r,Ng(t),e),{documents:e,ir:a}}))}))}function Ox(e,t){var n=yv(e),r=yv(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function Rx(e,t){var n=yv(e),r=n.Xi.get(t)||Lv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Hv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Lx(n,t,e),e}))}function Lx(e,t,n){var r=e.Xi.get(t)||Lv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function Fx(e,t,n,r){return Mx.apply(this,arguments)}function Mx(){return Mx=c(u().mark((function e(t,n,r,i){var a,o,s,c,l,f,h,d,p,v;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=yv(t),o=qg(),s=Rg(),c=A(r);try{for(c.s();!(l=c.n()).done;)f=l.value,h=n.rr(f.metadata.name),f.document&&(o=o.add(h)),(d=n.ur(f)).setReadTime(n.cr(f.metadata.readTime)),s=s.insert(h,d)}catch(u){c.e(u)}finally{c.f()}return p=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,Nx(a,function(e){return xg(mg(Mv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return v=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Sx(e,p,s).next((function(t){return p.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,v.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,v.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),Mx.apply(this,arguments)}function jx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=c(u().mark((function e(t,n){var r,i,a,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:qg(),e.next=3,Nx(t,xg(jw(n.bundledQuery)));case 3:return i=e.sent,a=yv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=rw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(ny.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Bx(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function zx(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var qx=function(){function e(t,n,r,i){y(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return w(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new kv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(hv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Gx=function(){function e(t,n,r){y(this,e),this.targetId=t,this.state=n,this.error=r}return w(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new kv(i.error.code,i.error.message))),a?new e(t,i.state,r):(hv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Kx=function(){function e(t,n){y(this,e),this.clientId=t,this.activeTargetIds=n}return w(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Kg(),o=0;i&&o<r.activeTargetIds.length;++o)i=vm(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(hv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Hx=function(){function e(t,n){y(this,e),this.clientId=t,this.onlineState=n}return w(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(hv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Wx=function(){function e(){y(this,e),this.activeTargetIds=Kg()}return w(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Qx=function(){function e(t,n,r,i,a){y(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Qm(Pv),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=Vx(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Wx),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return w(e,[{key:"start",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a,o,s,c,l,f,h,d=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=A(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Vx(this.persistenceKey,i)))&&(o=Kx.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(s=this.storage.getItem(this.vr))&&(c=this.br(s))&&this.Vr(c),l=A(this.yr);try{for(l.s();!(f=l.n()).done;)h=f.value,this.mr(h)}catch(u){l.e(u)}finally{l.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(zx(this.persistenceKey,e));if(n){var r=Gx.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(zx(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return fv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){fv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){fv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(fv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void hv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(c(u().mark((function e(){var r,i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(s=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(s));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}c=function(e){var t=hm.ct;if(null!=e)try{var n=JSON.parse(e);mv("number"==typeof n),t=n}catch(e){hv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),c!==hm.ct&&t.sequenceNumberHandler(c),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return l=t.Gr(n.newValue),e.next=41,Promise.all(l.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new qx(this.currentUser,e,t,n),i=Bx(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=Bx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=zx(this.persistenceKey,e),i=new Gx(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return Kx.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return qx.ar(new uv(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return Gx.ar(r,t)}},{key:"br",value:function(e){return Hx.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:fv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Kg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Yx=function(){function e(){y(this,e),this.Hr=new Wx,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return w(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Wx,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Jx=function(){function e(){y(this,e)}return w(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Xx=function(){function e(){var t=this;y(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return w(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){fv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=A(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){fv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=A(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),$x=null;function Zx(){return null===$x?$x=268435456+Math.round(2147483648*Math.random()):$x++,"0x"+$x.toString(16)}var e_={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},t_=function(){function e(t){y(this,e),this.ro=t.ro,this.oo=t.oo}return w(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),n_="WebChannelConnection",r_=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return w(n,[{key:"Ao",value:function(e,t,n,r){var i=Zx();return new Promise((function(a,o){var u=new rv;u.setWithCredentials(!0),u.listenOnce($p.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Xp.NO_ERROR:var t=u.getResponseJson();fv(n_,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Xp.TIMEOUT:fv(n_,"RPC '".concat(e,"' ").concat(i," timed out")),o(new kv(gv.DEADLINE_EXCEEDED,"Request time out"));break;case Xp.HTTP_ERROR:var n=u.getStatus();if(fv(n_,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(gv).indexOf(t)>=0?t:gv.UNKNOWN}(s.status);o(new kv(c,s.message))}else o(new kv(gv.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new kv(gv.UNAVAILABLE,"Connection failed."));break;default:vv()}}finally{fv(n_,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);fv(n_,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=Zx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Yp(),o=Jp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new tv({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");fv(n_,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new t_({ro:function(t){h?fv(n_,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(fv(n_,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),fv(n_,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,nv.EventType.OPEN,(function(){h||fv(n_,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,nv.EventType.CLOSE,(function(){h||(h=!0,fv(n_,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,nv.EventType.ERROR,(function(t){h||(h=!0,dv(n_,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new kv(gv.UNAVAILABLE,"The operation could not be completed")))})),p(l,nv.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];mv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){fv(n_,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=xk[e];if(void 0!==t)return Pk(t)}(u),c=o.message;void 0===s&&(s=gv.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new kv(s,c)),l.close()}else fv(n_,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,Zp.STAT_EVENT,(function(t){t.stat===ev.PROXY?fv(n_,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ev.NOPROXY&&fv(n_,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){y(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return w(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=Zx(),o=this.To(e,t);fv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return fv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw dv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+sv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=e_[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function i_(){return"undefined"!=typeof window?window:null}function a_(){return"undefined"!=typeof document?document:null}function o_(e){return new $k(e,!0)}var u_=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;y(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return w(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&fv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),s_=function(){function e(t,n,r,i,a,o,u,s){y(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new u_(t,n)}return w(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===gv.RESOURCE_EXHAUSTED?(hv(n.toString()),hv("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===gv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=p(t,2),i=r[0],a=r[1];e.Fo===n&&e.Zo(i,a)}),(function(n){t((function(){var t=new kv(gv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return fv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(fv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),c_=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return y(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return w(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:vv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(mv(void 0===t||"string"==typeof t),ny.fromBase64String(t||"")):(mv(void 0===t||t instanceof Uint8Array),ny.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?gv.UNKNOWN:Pk(e.code);return new kv(t,e.message||"")}(o);n=new Gk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=uw(e,s.document.name),l=rw(s.document.updateTime),f=s.document.createTime?rw(s.document.createTime):Lv.min(),h=new Oy({mapValue:{fields:s.document.fields}}),d=Ly.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new zk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=uw(e,m.document),g=m.readTime?rw(m.readTime):Lv.min(),k=Ly.newNoDocument(y,g),w=m.removedTargetIds||[];n=new zk([],w,k.key,k)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var x=uw(e,b.document),_=b.removedTargetIds||[];n=new zk([],_,x,null)}else{if(!("filter"in t))return vv();t.filter;var T=t.filter;T.targetId;var E=T.count,I=void 0===E?0:E,S=T.unchangedNames,C=new Nk(I,S),N=T.targetId;n=new qk(N,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Lv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Lv.min():t.readTime?rw(t.readTime):Lv.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=lw(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=lg(r)?{documents:yw(e,r)}:{query:gw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=tw(e,t.resumeToken);var i=Zk(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Lv.min())>0){n.readTime=ew(e,t.snapshotVersion.toTimestamp());var a=Zk(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=lw(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(s_),l_=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return y(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return w(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,ur(_(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(mv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(mv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?rw(e.updateTime):rw(t);return n.isEqual(Lv.min())&&(n=rw(t)),new sk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=rw(e.commitTime);return this.listener.cu(n,t)}return mv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=lw(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return vw(t.serializer,e)}))};this.Wo(n)}}]),n}(s_),f_=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return w(n,[{key:"fu",value:function(){if(this.lu)throw new kv(gv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=p(i,2),o=a[0],u=a[1];return r.connection.Io(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new kv(gv.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=p(a,2),u=o[0],s=o[1];return i.connection.vo(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===gv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new kv(gv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return w((function e(){y(this,e)}))}());var h_=function(){function e(t,n){y(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return w(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(hv(t),this.mu=!1):fv("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),d_=w((function e(t,n,r,i,a){var o=this;y(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=T_(o),!e.t0){e.next=5;break}return fv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yv(t)).vu.add(4),e.next=4,m_(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,p_(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new h_(r,i)}));function p_(e){return v_.apply(this,arguments)}function v_(){return(v_=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T_(t)){e.next=18;break}n=A(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function m_(e){return y_.apply(this,arguments)}function y_(){return(y_=c(u().mark((function e(t){var n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=A(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function g_(e,t){var n=yv(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),__(n)?x_(n):Z_(n).Ko()&&w_(n,t))}function k_(e,t){var n=yv(e),r=Z_(n);n.Au.delete(t),r.Ko()&&b_(n,t),0===n.Au.size&&(r.Ko()?r.jo():T_(n)&&n.bu.set("Unknown"))}function w_(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Lv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Z_(e).su(t)}function b_(e,t){e.Vu.qt(t),Z_(e).iu(t)}function x_(e){e.Vu=new Hk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),Z_(e).start(),e.bu.gu()}function __(e){return T_(e)&&!Z_(e).Uo()&&e.Au.size>0}function T_(e){return 0===yv(e).vu.size}function E_(e){e.Vu=void 0}function I_(e){return S_.apply(this,arguments)}function S_(){return(S_=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){w_(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C_(e,t){return N_.apply(this,arguments)}function N_(){return(N_=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E_(t),__(t)?(t.bu.Iu(n),x_(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A_(e,t,n){return P_.apply(this,arguments)}function P_(){return P_=c(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Gk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=A(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),fv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,D_(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof zk?t.Vu.Ht(n):n instanceof qk?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Lv.min())){e.next=29;break}return e.prev=14,e.next=17,Ex(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(ny.EMPTY_BYTE_STRING,r.snapshotVersion)),b_(e,t);var i=new Nw(r.target,t,n,r.sequenceNumber);w_(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),fv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,D_(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),P_.apply(this,arguments)}function D_(e,t,n){return O_.apply(this,arguments)}function O_(){return(O_=c(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(am(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,m_(t);case 5:t.bu.set("Offline"),r||(r=function(){return Ex(t.localStore)}),t.asyncQueue.enqueueRetryable(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,p_(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R_(e,t){return t().catch((function(n){return D_(e,n,t)}))}function L_(e){return F_.apply(this,arguments)}function F_(){return(F_=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=yv(t),r=eT(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!M_(n)){e.next=19;break}return e.prev=3,e.next=6,Cx(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,j_(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,D_(n,e.t0);case 17:e.next=2;break;case 19:U_(n)&&V_(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function M_(e){return T_(e)&&e.Eu.length<10}function j_(e,t){e.Eu.push(t);var n=eT(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function U_(e){return T_(e)&&!eT(e).Uo()&&e.Eu.length>0}function V_(e){eT(e).start()}function B_(e){return z_.apply(this,arguments)}function z_(){return(z_=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:eT(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q_(e){return G_.apply(this,arguments)}function G_(){return(G_=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=eT(t),r=A(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K_(e,t,n){return H_.apply(this,arguments)}function H_(){return H_=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=Sk.from(i,n,r),e.next=3,R_(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,L_(t);case 5:case"end":return e.stop()}}),e)}))),H_.apply(this,arguments)}function W_(e,t){return Q_.apply(this,arguments)}function Q_(){return Q_=c(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&eT(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ak(i=n.code)||i===gv.ABORTED){e.next=7;break}return r=t.Eu.shift(),eT(t).Qo(),e.next=5,R_(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,L_(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:U_(t)&&V_(t);case 5:case"end":return e.stop()}}),e)}))),Q_.apply(this,arguments)}function Y_(e,t){return J_.apply(this,arguments)}function J_(){return(J_=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=yv(t)).asyncQueue.verifyOperationInProgress(),fv("RemoteStore","RemoteStore received new credentials"),i=T_(r),r.vu.add(3),e.next=6,m_(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,p_(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X_(e,t){return $_.apply(this,arguments)}function $_(){return($_=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yv(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,p_(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,m_(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z_(e){return e.Su||(e.Su=function(e,t,n){var r=yv(e);return r.fu(),new c_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:I_.bind(null,e),ao:C_.bind(null,e),nu:A_.bind(null,e)}),e.Ru.push(function(){var t=c(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),__(e)?x_(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:E_(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function eT(e){return e.Du||(e.Du=function(e,t,n){var r=yv(e);return r.fu(),new l_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:B_.bind(null,e),ao:W_.bind(null,e),au:q_.bind(null,e),cu:K_.bind(null,e)}),e.Ru.push(function(){var t=c(u().mark((function t(n){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,L_(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(fv("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var tT=function(){function e(t,n,r,i,a){y(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wv,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return w(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kv(gv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function nT(e,t){if(hv("AsyncQueue","".concat(t,": ").concat(e)),am(e))return new kv(gv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var rT=function(){function e(t){y(this,e),this.comparator=t?function(e,n){return t(e,n)||Vv.comparator(e.key,n.key)}:function(e,t){return Vv.comparator(e.key,t.key)},this.keyedMap=Fg(),this.sortedSet=new Qm(this.comparator)}return w(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),iT=function(){function e(){y(this,e),this.Cu=new Qm(Vv.comparator)}return w(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):vv():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),aT=function(){function e(t,n,r,i,a,o,u,s,c){y(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=c}return w(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,rT.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),oT=w((function e(){y(this,e),this.Nu=void 0,this.listeners=[]})),uT=w((function e(){y(this,e),this.queries=new Dg((function(e){return Ig(e)}),Eg),this.onlineState="Unknown",this.ku=new Set}));function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=c(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new oT),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=nT(e.t0,"Initialization of query '".concat(Sg(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&pT(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),cT.apply(this,arguments)}function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=c(u().mark((function e(t,n){var r,i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e,t){var n,r=yv(e),i=!1,a=A(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=A(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&pT(r)}function dT(e,t,n){var r=yv(e),i=r.queries.get(t);if(i){var a,o=A(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function pT(e){e.ku.forEach((function(e){e.next()}))}var vT=function(){function e(t,n,r){y(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return w(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=A(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new aT(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=aT.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),mT=function(){function e(t,n){y(this,e),this.Gu=t,this.byteLength=n}return w(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),yT=function(){function e(t){y(this,e),this.serializer=t}return w(e,[{key:"rr",value:function(e){return uw(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?dw(this.serializer,e.document,!1):Ly.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return rw(e)}}]),e}(),gT=function(){function e(t,n,r){y(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kT(t)}return w(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=Mv.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new yT(this.serializer),i=A(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=A(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||qg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=c(u().mark((function e(){var t,n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fx(this.localStore,new yT(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=A(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,jx(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function kT(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var wT=w((function e(t){y(this,e),this.key=t})),bT=w((function e(t){y(this,e),this.key=t})),xT=function(){function e(t,n){y(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=qg(),this.mutatedKeys=qg(),this.tc=Ag(t),this.ec=new rT(this.tc)}return w(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new iT,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Cg(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vv()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new aT(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new iT,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=qg(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new bT(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new wT(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=qg();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return aT.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),_T=w((function e(t,n,r){y(this,e),this.query=t,this.targetId=n,this.view=r})),TT=w((function e(t){y(this,e),this.key=t,this.fc=!1})),ET=function(){function e(t,n,r,i,a,o){y(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Dg((function(e){return Ig(e)}),Eg),this._c=new Map,this.mc=new Set,this.gc=new Qm(Vv.comparator),this.yc=new Map,this.Ic=new nx,this.Tc={},this.Ec=new Map,this.Ac=Pb.Mn(),this.onlineState="Unknown",this.vc=void 0}return w(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function IT(e,t){return ST.apply(this,arguments)}function ST(){return ST=c(u().mark((function e(t,n){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kE(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,Nx(r.localStore,xg(n));case 8:return s=e.sent,c=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=13,CT(r,n,i,"current"===c,s.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&g_(r.remoteStore,s);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),ST.apply(this,arguments)}function CT(e,t,n,r,i){return NT.apply(this,arguments)}function NT(){return NT=c(u().mark((function e(t,n,r,i,a){var o,s,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=c(u().mark((function e(t,n,r,i){var a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,Dx(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(YT(t,n.targetId,s.cc),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Dx(t.localStore,n,!0);case 3:return o=e.sent,s=new xT(n,o.ir),l=s.sc(o.documents),f=Bk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=s.applyChanges(l,t.isPrimaryClient,f),YT(t,r,h.cc),d=new _T(n,r,s),e.abrupt("return",(t.wc.set(n,d),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),NT.apply(this,arguments)}function AT(e,t){return PT.apply(this,arguments)}function PT(){return PT=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=yv(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Eg(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ax(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),k_(r.remoteStore,i.targetId),WT(r,i.targetId)})).catch($v);case 9:e.next=14;break;case 11:return WT(r,i.targetId),e.next=14,Ax(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function DT(e,t,n){return OT.apply(this,arguments)}function OT(){return OT=c(u().mark((function e(t,n,r){var i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wE(t),e.prev=1,e.next=4,function(e,t){var n,r,i=yv(e),a=Rv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),qg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Rg(),s=qg();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=A(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=vk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new gk(c.key,l,Ry(l.value.mapValue),ck.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Mg(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Qm(Pv)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,$T(i,a.changes);case 9:return e.next=11,L_(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=nT(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),OT.apply(this,arguments)}function RT(e,t){return LT.apply(this,arguments)}function LT(){return(LT=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),e.prev=1,e.next=4,Ix(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(mv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?mv(n.fc):e.removedDocuments.size>0&&(mv(n.fc),n.fc=!1))})),e.next=8,$T(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,$v(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function FT(e,t,n){var r=yv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=yv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=A(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&pT(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function MT(e,t,n){return jT.apply(this,arguments)}function jT(){return jT=c(u().mark((function e(t,n,r){var i,a,o,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=yv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Qm(Vv.comparator)).insert(o,Ly.newNoDocument(o,Lv.min())),c=qg().add(o),l=new Vk(Lv.min(),new Map,new Qm(Pv),s,c),e.next=9,RT(i,l);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),XT(i),e.next=16;break;case 14:return e.next=16,Ax(i.localStore,n,!1).then((function(){return WT(i,n,r)})).catch($v);case 16:case"end":return e.stop()}}),e)}))),jT.apply(this,arguments)}function UT(e,t){return VT.apply(this,arguments)}function VT(){return(VT=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),i=n.batch.batchId,e.prev=1,e.next=4,Tx(r.localStore,n);case 4:return a=e.sent,HT(r,i,null),KT(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,$T(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$v(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function BT(e,t,n){return zT.apply(this,arguments)}function zT(){return(zT=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=yv(t),e.prev=1,e.next=4,function(e,t){var n=yv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return mv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,HT(i,n,r),KT(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,$T(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,$v(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function qT(e,t){return GT.apply(this,arguments)}function GT(){return(GT=c(u().mark((function e(t,n){var r,i,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T_((r=yv(t)).remoteStore)||fv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=yv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=nT(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function KT(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function HT(e,t,n){var r=yv(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function WT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=A(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||QT(e,t)}))}function QT(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(k_(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),XT(e))}function YT(e,t,n){var r,i=A(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof wT?(e.Ic.addReference(a.key,t),JT(e,a)):a instanceof bT?(fv("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||QT(e,a.key)):vv()}}catch(o){i.e(o)}finally{i.f()}}function JT(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(fv("SyncEngine","New document in limbo: "+n),e.mc.add(r),XT(e))}function XT(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new Vv(Mv.fromString(t)),r=e.Ac.next();e.yc.set(r,new TT(n)),e.gc=e.gc.insert(n,r),g_(e.remoteStore,new Nw(xg(mg(n.path)),r,"TargetPurposeLimboResolution",hm.ct))}}function $T(e,t,n){return ZT.apply(this,arguments)}function ZT(){return ZT=c(u().mark((function e(t,n,r){var i,a,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=yv(t),a=[],o=[],s=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){s.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=gx.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.dc.nu(a),e.next=9,function(){var e=c(u().mark((function e(t,n){var r,i,a,o,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return em.forEach(n,(function(t){return em.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return em.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),am(e.t0)){e.next=10;break}throw e.t0;case 10:fv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=A(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(c=r.Ji.get(s),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),r.Ji=r.Ji.insert(s,f))}catch(u){i.e(u)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ZT.apply(this,arguments)}function eE(e,t){return tE.apply(this,arguments)}function tE(){return(tE=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=yv(t)).currentUser.isEqual(n)){e.next=11;break}return fv("SyncEngine","User change. New user:",n.toKey()),e.next=5,xx(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new kv(gv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,$T(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nE(e,t){var n=yv(e),r=n.yc.get(t);if(r&&r.fc)return qg().add(r.key);var i=qg(),a=n._c.get(t);if(!a)return i;var o,u=A(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function rE(e,t){return iE.apply(this,arguments)}function iE(){return iE=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),e.next=3,Dx(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&YT(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)}))),iE.apply(this,arguments)}function aE(e,t){return oE.apply(this,arguments)}function oE(){return(oE=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),e.abrupt("return",Rx(r.localStore,n).then((function(e){return $T(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uE(e,t,n,r){return sE.apply(this,arguments)}function sE(){return sE=c(u().mark((function e(t,n,r,i){var a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=yv(t),e.next=3,function(e,t){var n=yv(e),r=yv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):em.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,L_(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(HT(a,n,i||null),KT(a,n),function(e,t){yv(yv(e).mutationQueue).Cn(t)}(a.localStore,n)):vv();case 11:return e.next=13,$T(a,o);case 13:e.next=16;break;case 15:fv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),sE.apply(this,arguments)}function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=c(u().mark((function e(t,n){var r,i,a,o,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(kE(r=yv(t)),wE(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,fE(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,X_(r.remoteStore,!0);case 9:o=A(a);try{for(o.s();!(s=o.n()).done;)c=s.value,g_(r.remoteStore,c)}catch(u){o.e(u)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return l=[],f=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?l.push(t):f=f.then((function(){return WT(r,t),Ax(r.localStore,t,!0)})),k_(r.remoteStore,t)})),e.next=19,f;case 19:return e.next=21,fE(r,l);case 21:return function(e){var t=yv(e);t.yc.forEach((function(e,n){k_(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Qm(Vv.comparator)}(r),r.vc=!1,e.next=25,X_(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t,n){return hE.apply(this,arguments)}function hE(){return hE=c(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d,p,v,m,y,g;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=yv(t),a=[],o=[],s=A(n),e.prev=2,s.s();case 4:if((c=s.n()).done){e.next=45;break}if(l=c.value,f=void 0,!(h=i._c.get(l))||0===h.length){e.next=34;break}return e.next=11,Nx(i.localStore,xg(h[0]));case 11:f=e.sent,d=A(h),e.prev=13,d.s();case 15:if((p=d.n()).done){e.next=24;break}return v=p.value,m=i.wc.get(v),e.next=20,rE(i,m);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Ox(i.localStore,l);case 36:return g=e.sent,e.next=39,Nx(i.localStore,g);case 39:return f=e.sent,e.next=42,CT(i,dE(g),l,!1,f.resumeToken);case 42:a.push(f);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),hE.apply(this,arguments)}function dE(e){return vg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pE(e){var t=yv(e);return yv(yv(t.localStore).persistence).$i()}function vE(e,t,n,r){return mE.apply(this,arguments)}function mE(){return mE=c(u().mark((function e(t,n,r,i){var a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=yv(t)).vc){e.next=3;break}return e.abrupt("return",void fv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,Rx(a.localStore,Ng(o[0]));case 10:return s=e.sent,c=Vk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,ny.EMPTY_BYTE_STRING),e.next=14,$T(a,s,c);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ax(a.localStore,n,!0);case 17:return WT(a,n,i),e.abrupt("break",20);case 19:vv();case 20:case"end":return e.stop()}}),e)}))),mE.apply(this,arguments)}function yE(e,t,n){return gE.apply(this,arguments)}function gE(){return(gE=c(u().mark((function e(t,n,r){var i,a,o,s,c,l,f,h,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=kE(t)).vc){e.next=45;break}a=A(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(s=o.value,!i._c.has(s)){e.next=10;break}return fv("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,Ox(i.localStore,s);case 12:return c=e.sent,e.next=15,Nx(i.localStore,c);case 15:return l=e.sent,e.next=18,CT(i,dE(c),l.targetId,!1,l.resumeToken);case 18:g_(i.remoteStore,l);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:f=A(r),e.prev=30,d=u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,Ax(i.localStore,t,!1).then((function(){k_(i.remoteStore,t),WT(i,t)})).catch($v);case 5:case"end":return e.stop()}}),e)})),f.s();case 33:if((h=f.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),f.e(e.t2);case 42:return e.prev=42,f.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function kE(e){var t=yv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=RT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=MT.bind(null,t),t.dc.nu=hT.bind(null,t.eventManager),t.dc.Pc=dT.bind(null,t.eventManager),t}function wE(e){var t=yv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UT.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BT.bind(null,t),t}function bE(e,t,n){var r=yv(e);(function(){var e=c(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=yv(e),r=rw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(kT(i)),a=new gT(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(s=e.sent)&&r._updateProgress(s),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return c=e.sent,e.next=31,$T(t,c.Ju,void 0);case 31:return e.next=33,function(e,t){var n=yv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(c.progress),e.abrupt("return",Promise.resolve(c.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(dv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var xE=function(){function e(){y(this,e),this.synchronizeTabs=!1}return w(e,[{key:"initialize",value:function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=o_(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return bx(this.persistence,new kx,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new sx(lx.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Yx}},{key:"terminate",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_E=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return w(n,[{key:"initialize",value:function(){var e=c(u().mark((function e(t){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(_(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,wE(this.Vc.syncEngine);case 6:return e.next=8,L_(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return bx(this.persistence,new kx,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new jb(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new fm(t,this.persistence);return new lm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?_b.withCacheSize(this.cacheSizeBytes):_b.DEFAULT;return new px(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,i_(),a_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new Yx}}]),n}(xE),TE=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return w(n,[{key:"initialize",value:function(){var e=c(u().mark((function e(t){var r,i=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ur(_(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof Qx,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:uE.bind(null,r),zr:vE.bind(null,r),Wr:yE.bind(null,r),$i:pE.bind(null,r),Qr:aE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=i_();if(!Qx.D(t))throw new kv(gv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=yx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Qx(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(_E),EE=function(){function e(){y(this,e)}return w(e,[{key:"initialize",value:function(){var e=c(u().mark((function e(t,n){var r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return FT(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=eE.bind(null,this.syncEngine),e.next=12,X_(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new uT}},{key:"createDatastore",value:function(e){var t,n=o_(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new r_(t));return function(e,t,n,r){return new f_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return FT(o.syncEngine,e,0)},a=Xx.D()?new Xx:new Jx,new d_(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new ET(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yv(t),fv("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,m_(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function IE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return c(u().mark((function r(){var i;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var SE=function(){function e(t){y(this,e),this.observer=t,this.muted=!1}return w(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):hv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),CE=function(){function e(t,n){var r=this;y(this,e),this.Cc=t,this.serializer=n,this.metadata=new wv,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return w(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=c(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new mT(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),NE=function(){function e(t){y(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return w(e,[{key:"lookup",value:function(){var e=c(u().mark((function e(t){var n,r=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new kv(gv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=c(u().mark((function e(t,n){var r,i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),i=lw(r.serializer)+"/documents",a={documents:n.map((function(e){return ow(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,s=new Map,o.forEach((function(e){var t=pw(r.serializer,e);s.set(t.key.toString(),t)})),c=[],e.abrupt("return",(n.forEach((function(e){var t=s.get(e.toString());mv(!!t),c.push(t)})),c));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Tk(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=c(u().mark((function e(){var t,n=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Vv.fromPath(t);n.mutations.push(new Ek(r,n.precondition(r)))})),e.next=7,function(){var e=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yv(t),i=lw(r.serializer)+"/documents",a={writes:n.map((function(e){return vw(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vv();t=Lv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new kv(gv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Lv.min())?ck.exists(!1):ck.updateTime(t):ck.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Lv.min()))throw new kv(gv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ck.updateTime(t)}return ck.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),AE=function(){function e(t,n,r,i,a){y(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new u_(this.asyncQueue,"transaction_retry")}return w(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(c(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new NE(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!dm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ak(t)}return!1}}]),e}(),PE=function(){function e(t,n,r,i){var a=this;y(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=uv.UNAUTHENTICATED,this.clientId=Av.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return fv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return fv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return w(e,[{key:"getConfiguration",value:function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new kv(gv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new wv;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(c(u().mark((function n(){var r;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=nT(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function DE(e,t){return OE.apply(this,arguments)}function OE(){return OE=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),fv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,xx(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function RE(e,t){return LE.apply(this,arguments)}function LE(){return(LE=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ME(t);case 3:return r=e.sent,fv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Y_(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Y_(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function FE(e){return"FirebaseError"===e.name?e.code===gv.FAILED_PRECONDITION||e.code===gv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ME(e){return jE.apply(this,arguments)}function jE(){return(jE=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return fv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,DE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),FE(n=e.t0)){e.next=13;break}throw n;case 13:return dv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,DE(t,new xE);case 16:e.next=21;break;case 18:return fv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,DE(t,new xE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function UE(e){return VE.apply(this,arguments)}function VE(){return(VE=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return fv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,RE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return fv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,RE(t,new EE);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BE(e){return ME(e).then((function(e){return e.persistence}))}function zE(e){return ME(e).then((function(e){return e.localStore}))}function qE(e){return UE(e).then((function(e){return e.remoteStore}))}function GE(e){return UE(e).then((function(e){return e.syncEngine}))}function KE(e){return UE(e).then((function(e){return e.datastore}))}function HE(e){return WE.apply(this,arguments)}function WE(){return(WE=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,UE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=IT.bind(null,n.syncEngine),r.onUnlisten=AT.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new SE({next:function(a){t.enqueueAndForget((function(){return lT(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new kv(gv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new kv(gv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new vT(mg(n.path),a,{includeMetadataChanges:!0,Ku:!0});return sT(e,o)},i.next=3,HE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function YE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function i(){return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new SE({next:function(n){t.enqueueAndForget((function(){return lT(e,o)})),n.fromCache&&"server"===r.source?i.reject(new kv(gv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new vT(n,a,{includeMetadataChanges:!0,Ku:!0});return sT(e,o)},i.next=3,HE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function JE(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var XE=new Map;function $E(e,t,n){if(!n)throw new kv(gv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ZE(e,t,n,r){if(!0===t&&!0===r)throw new kv(gv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function eI(e){if(!Vv.isDocumentKey(e))throw new kv(gv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function tI(e){if(Vv.isDocumentKey(e))throw new kv(gv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function nI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":vv()}function rI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kv(gv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=nI(e);throw new kv(gv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function iI(e,t){if(t<=0)throw new kv(gv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var aI=function(){function e(t){var n,r;if(y(this,e),void 0===t.host){if(void 0!==t.ssl)throw new kv(gv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new kv(gv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}ZE("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new kv(gv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new kv(gv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new kv(gv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return w(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),oI=function(){function e(t,n,r,i){y(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aI({}),this._settingsFrozen=!1}return w(e,[{key:"app",get:function(){if(!this._app)throw new kv(gv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new kv(gv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new xv;switch(e.type){case"firstParty":return new Iv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new kv(gv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=XE.get(e);t&&(fv("ComponentProvider","Removing Datastore"),XE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function uI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=rI(e,oI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&dv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=uv.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[it(JSON.stringify({alg:"none",type:"JWT"})),it(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new kv(gv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new uv(c)}e._authCredentials=new _v(new bv(u,s))}}var sI=function(){function e(t,n,r){y(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return w(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new lI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),cI=function(){function e(t,n,r){y(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return w(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),lI=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this,e,r,mg(i)))._path=i,a.type="collection",a}return w(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new sI(this.firestore,null,new Vv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(cI);function fI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=At(e),$E("collection","path",t),e instanceof oI){var a=Mv.fromString.apply(Mv,[t].concat(r));return tI(a),new lI(e,null,a)}if(!(e instanceof sI||e instanceof lI))throw new kv(gv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return tI(o),new lI(e.firestore,null,o)}function hI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=At(e),1===arguments.length&&(t=Av.A()),$E("doc","path",t),e instanceof oI){var a=Mv.fromString.apply(Mv,[t].concat(r));return eI(a),new sI(e,null,new Vv(a))}if(!(e instanceof sI||e instanceof lI))throw new kv(gv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Mv.fromString.apply(Mv,[t].concat(r)));return eI(o),new sI(e.firestore,e instanceof lI?e.converter:null,new Vv(o))}function dI(e,t){return e=At(e),t=At(t),(e instanceof sI||e instanceof lI)&&(t instanceof sI||t instanceof lI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function pI(e,t){return e=At(e),t=At(t),e instanceof cI&&t instanceof cI&&e.firestore===t.firestore&&Eg(e._query,t._query)&&e.converter===t.converter}var vI=function(){function e(){var t=this;y(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new u_(this,"async_queue_retry"),this.Xc=function(){var e=a_();e&&fv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=a_();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return w(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=a_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new wv;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=c(u().mark((function e(){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),am(e.t0)){e.next=12;break}throw e.t0;case 12:fv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw hv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=tT.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&vv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=A(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=A(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function mI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=A(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var yI=function(){function e(){y(this,e),this._progressObserver={},this._taskCompletionResolver=new wv,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return w(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),gI=function(e){x(n,e);var t=I(n);function n(e,r,i,a){var o;return y(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new vI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return w(n,[{key:"_terminate",value:function(){return this._firestoreClient||wI(this),this._firestoreClient.terminate()}}]),n}(oI);function kI(e){return e._firestoreClient||wI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function wI(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new ly(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,JE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new PE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function bI(e,t,n){var r=new wv;return e.asyncQueue.enqueue(c(u().mark((function i(){var a;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,DE(e,n);case 3:return i.next=5,RE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),FE(a=i.t0)){i.next=13;break}throw a;case 13:dv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function xI(e){return function(e){return e.asyncQueue.enqueue(c(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BE(e);case 2:return n=t.sent,t.next=5,qE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=yv(e);return t.vu.delete(0),p_(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(kI(e=rI(e,gI)))}function _I(e){return function(e){return e.asyncQueue.enqueue(c(u().mark((function t(){var n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,BE(e);case 2:return n=t.sent,t.next=5,qE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=yv(t)).vu.add(0),e.next=4,m_(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(kI(e=rI(e,gI)))}function TI(e,t){var n=kI(e=rI(e,gI)),r=new yI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new CE(e,t)}(function(e,t){if(e instanceof Uint8Array)return IE(e,t);if(e instanceof ArrayBuffer)return IE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Rk().encode(e):e),t)}(n,o_(t));e.asyncQueue.enqueueAndForget(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=bE,t.next=3,GE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function EI(e,t){return function(e,t){return e.asyncQueue.enqueue(c(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=yv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,zE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(kI(e=rI(e,gI)),t).then((function(t){return t?new cI(e,null,t.query):null}))}function II(e){if(e._initialized||e._terminated)throw new kv(gv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var SI=function(){function e(t){y(this,e),this._byteString=t}return w(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ny.fromBase64String(t))}catch(t){throw new kv(gv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ny.fromUint8Array(t))}}]),e}(),CI=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new kv(gv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Uv(n)}return w(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var NI=w((function e(t){y(this,e),this._methodName=t})),AI=function(){function e(t,n){if(y(this,e),!isFinite(t)||t<-90||t>90)throw new kv(gv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new kv(gv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return w(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Pv(this._lat,e._lat)||Pv(this._long,e._long)}}]),e}(),PI=/^__.*__$/,DI=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new gk(e,this.data,this.fieldMask,t,this.fieldTransforms):new yk(e,this.data,t,this.fieldTransforms)}}]),e}(),OI=function(){function e(t,n,r){y(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return w(e,[{key:"toMutation",value:function(e,t){return new gk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function RI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vv()}}var LI=function(){function e(t,n,r,i,a,o){y(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return w(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return tS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(RI(this.ca)&&PI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),FI=function(){function e(t,n,r){y(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||o_(t)}return w(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new LI({ca:e,methodName:t,ga:n,path:Uv.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function MI(e){var t=e._freezeSettings(),n=o_(e._databaseId);return new FI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);XI("Data must be an object, but it was:",o,r);var u,s,c=YI(r,o);if(a.merge)u=new ey(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=A(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=$I(t,l.value,n);if(!o.contains(d))throw new kv(gv.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));nS(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new ey(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new DI(new Oy(c),u,s)}var UI=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NI);function VI(e,t,n){return new LI({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var BI=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"_toFieldTransform",value:function(e){return new uk(e.path,new Zg)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(NI),zI=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).pa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=VI(this,e,!0),n=this.pa.map((function(e){return QI(e,t)})),r=new ek(n);return new uk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI),qI=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).pa=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=VI(this,e,!0),n=this.pa.map((function(e){return QI(e,t)})),r=new nk(n);return new uk(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI),GI=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e)).Ia=r,i}return w(n,[{key:"_toFieldTransform",value:function(e){var t=new ik(e.serializer,Qg(e.serializer,this.Ia));return new uk(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(NI);function KI(e,t,n,r){var i=e.ya(1,t,n);XI("Data must be an object, but it was:",i,r);var a=[],o=Oy.empty();Hm(r,(function(e,r){var u=eS(t,e,n);r=At(r);var s=i.da(u);if(r instanceof UI)a.push(u);else{var c=QI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ey(a);return new OI(o,u,i.fieldTransforms)}function HI(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[$I(t,r,n)],s=[i];if(a.length%2!=0)throw new kv(gv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push($I(t,a[c])),s.push(a[c+1]);for(var l=[],f=Oy.empty(),h=u.length-1;h>=0;--h)if(!nS(l,u[h])){var d=u[h],p=s[h];p=At(p);var v=o.da(d);if(p instanceof UI)l.push(d);else{var m=QI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ey(l);return new OI(f,y,o.fieldTransforms)}function WI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QI(n,e.ya(r?4:3,t))}function QI(e,t){if(JI(e=At(e)))return XI("Unsupported field value:",t,e),YI(e,t);if(e instanceof NI)return function(e,t){if(!RI(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=A(e);try{for(a.s();!(n=a.n()).done;){var o=QI(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=At(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Rv.fromDate(e);return{timestampValue:ew(t.serializer,n)}}if(e instanceof Rv){var r=new Rv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ew(t.serializer,r)}}if(e instanceof AI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof SI)return{bytesValue:tw(t.serializer,e._byteString)};if(e instanceof sI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:iw(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(nI(e)))}(e,t)}function YI(e,t){var n={};return Wm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hm(e,(function(e,r){var i=QI(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function JI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Rv||e instanceof AI||e instanceof SI||e instanceof sI||e instanceof NI)}function XI(e,t,n){if(!JI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=nI(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function $I(e,t,n){if((t=At(t))instanceof CI)return t._internalPath;if("string"==typeof t)return eS(e,t);throw tS("Field path arguments must be of type string or ",e,!1,void 0,n)}var ZI=new RegExp("[~\\*/\\[\\]]");function eS(e,t,n){if(t.search(ZI)>=0)throw tS("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return S(CI,m(t.split(".")))._internalPath}catch(r){throw tS("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tS(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new kv(gv.INVALID_ARGUMENT,u+e+s)}function nS(e,t){return e.some((function(e){return e.isEqual(t)}))}var rS=function(){function e(t,n,r,i,a){y(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return w(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new sI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new iS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(aS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),iS=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){return ur(_(n.prototype),"data",this).call(this)}}]),n}(rS);function aS(e,t){return"string"==typeof t?eS(e,t):t instanceof CI?t._internalPath:t._delegate._internalPath}function oS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new kv(gv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var uS=w((function e(){y(this,e)})),sS=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n)}(uS);function cS(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof uS&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof fS})).length,n=e.filter((function(e){return e instanceof lS})).length;if(t>1||t>0&&n>0)throw new kv(gv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=A(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var lS=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return w(n,[{key:"_apply",value:function(e){var t=this._parse(e);return _S(e._query,t),new cI(e.firestore,e.converter,_g(e._query,t))}},{key:"_parse",value:function(e){var t=MI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new kv(gv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){xS(o,a);var s,c=[],l=A(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(bS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=bS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||xS(o,a),u=WI(n,"where",o,"in"===a||"not-in"===a);return zy.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sS);var fS=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return w(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:qy.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=A(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;_S(r,a),r=_g(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new cI(e.firestore,e.converter,_g(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(uS);var hS=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return w(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new kv(gv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kv(gv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Uy(t,n);return function(e,t){if(null===gg(e)){var n=kg(e);null!==n&&TS(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new cI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new pg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sS);var dS=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return w(n,[{key:"_apply",value:function(e){return new cI(e.firestore,e.converter,Tg(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sS);var pS=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return w(n,[{key:"_apply",value:function(e){var t=wS(e,this.type,this._docOrFields,this._inclusive);return new cI(e.firestore,e.converter,function(e,t){return new pg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sS);function vS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pS._create("startAt",t,!0)}function mS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pS._create("startAfter",t,!1)}var yS=function(e){x(n,e);var t=I(n);function n(e,r,i){var a;return y(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return w(n,[{key:"_apply",value:function(e){var t=wS(e,this.type,this._docOrFields,this._inclusive);return new cI(e.firestore,e.converter,function(e,t){return new pg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(sS);function gS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yS._create("endBefore",t,!1)}function kS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return yS._create("endAt",t,!0)}function wS(e,t,n,r){if(n[0]=At(n[0]),n[0]instanceof rS)return function(e,t,n,r,i){if(!r)throw new kv(gv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=A(bg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(by(t,r.key));else{var c=r.data.field(s.field);if(uy(c))throw new kv(gv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new kv(gv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Fy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=MI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new kv(gv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new kv(gv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!wg(e)&&-1!==c.indexOf("/"))throw new kv(gv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Mv.fromString(c));if(!Vv.isDocumentKey(l))throw new kv(gv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Vv(l);u.push(by(t,f))}else{var h=WI(n,r,c);u.push(h)}}return new Fy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function bS(e,t,n){if("string"==typeof(n=At(n))){if(""===n)throw new kv(gv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wg(t)&&-1!==n.indexOf("/"))throw new kv(gv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Mv.fromString(n));if(!Vv.isDocumentKey(r))throw new kv(gv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return by(e,new Vv(r))}if(n instanceof sI)return by(e,n._key);throw new kv(gv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(nI(n),"."))}function xS(e,t){if(!Array.isArray(e)||0===e.length)throw new kv(gv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function _S(e,t){if(t.isInequality()){var n=kg(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new kv(gv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=gg(e);null!==i&&TS(e,r,i)}var a=function(e,t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i,a=A(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new kv(gv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new kv(gv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function TS(e,t,n){if(!n.isEqual(t))throw new kv(gv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var ES=function(){function e(){y(this,e)}return w(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(py(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ay(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Hm(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new AI(ay(e.latitude),ay(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=sy(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=iy(e);return new Rv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Mv.fromString(e);mv(Cw(n));var r=new fy(n.get(1),n.get(3)),i=new Vv(n.popFirst(5));return r.isEqual(t)||hv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function IS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var SS=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new SI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sI(this.firestore,null,t)}}]),n}(ES);var CS=function(){function e(t,n){y(this,e),this.hasPendingWrites=t,this.fromCache=n}return w(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),NS=function(e){x(n,e);var t=I(n);function n(e,r,i,a,o,u){var s;return y(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return w(n,[{key:"exists",value:function(){return ur(_(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new AS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(aS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rS),AS=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ur(_(n.prototype),"data",this).call(this,e)}}]),n}(NS),PS=function(){function e(t,n,r,i){y(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new CS(i.hasPendingWrites,i.fromCache),this.query=r}return w(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new AS(n._firestore,n._userDataWriter,r.key,r,new CS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kv(gv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new AS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new AS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new CS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:DS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function DS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vv()}}function OS(e,t){return e instanceof NS&&t instanceof NS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof PS&&t instanceof PS&&e._firestore===t._firestore&&pI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var RS=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new SI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new sI(this.firestore,null,t)}}]),n}(ES);function LS(e){e=rI(e,sI);var t=rI(e.firestore,gI),n=kI(t),r=new RS(t);return function(e,t){var n=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=yv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new kv(gv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=nT(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new NS(t,r,e._key,n,new CS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function FS(e){e=rI(e,cI);var t=rI(e.firestore,gI),n=kI(t),r=new RS(t);return function(e,t){var n=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=c(u().mark((function e(t,n,r){var i,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Dx(t,n,!0);case 3:i=e.sent,a=new xT(n,i.ir),o=a.sc(i.documents),s=a.applyChanges(o,!1),r.resolve(s.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),c=nT(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(c);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,zE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new PS(t,r,e,n)}))}function MS(e,t,n){e=rI(e,sI);var r=rI(e.firestore,gI),i=IS(e.converter,t,n);return BS(r,[jI(MI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ck.none())])}function jS(e,t,n){e=rI(e,sI);for(var r=rI(e.firestore,gI),i=MI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return BS(r,[("string"==typeof(t=At(t))||t instanceof CI?HI(i,"updateDoc",e._key,t,n,o):KI(i,"updateDoc",e._key,t)).toMutation(e._key,ck.exists(!0))])}function US(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=At(e);var s={includeMetadataChanges:!1},l=0;"object"!=typeof n[l]||mI(n[l])||(s=n[l],l++);var f,h,d,p={includeMetadataChanges:s.includeMetadataChanges};if(mI(n[l])){var v=n[l];n[l]=null===(i=v.next)||void 0===i?void 0:i.bind(v),n[l+1]=null===(a=v.error)||void 0===a?void 0:a.bind(v),n[l+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof sI)h=rI(e.firestore,gI),d=mg(e._key.path),f={next:function(t){n[l]&&n[l](zS(h,e,t))},error:n[l+1],complete:n[l+2]};else{var m=rI(e,cI);h=rI(m.firestore,gI),d=m._query;var y=new RS(h);f={next:function(e){n[l]&&n[l](new PS(h,y,m,e))},error:n[l+1],complete:n[l+2]},oS(e._query)}return function(e,t,n,r){var i=new SE(r),a=new vT(t,i,n);return e.asyncQueue.enqueueAndForget(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sT,t.next=3,HE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lT,t.next=3,HE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kI(h),d,p,f)}function VS(e,t){return function(e,t){var n=new SE(t);return e.asyncQueue.enqueueAndForget(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yv(e).ku.add(t),t.next()},t.next=3,HE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(c(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){yv(e).ku.delete(t)},t.next=3,HE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(kI(e=rI(e,gI)),mI(t)?t:{next:t})}function BS(e,t){return function(e,t){var n=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function r(){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=DT,r.next=3,GE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(kI(e),t)}function zS(e,t,n){var r=n.docs.get(t._key),i=new RS(e);return new NS(e,i,t._key,r,new CS(n.hasPendingWrites,n.fromCache),t.converter)}var qS={maxAttempts:5},GS=function(){function e(t,n){y(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=MI(t)}return w(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=KS(e,this._firestore),i=IS(r.converter,t,n),a=jI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ck.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=KS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=At(t))||t instanceof CI?HI(this._dataReader,"WriteBatch.update",i._key,t,n,o):KI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ck.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=KS(e,this._firestore);return this._mutations=this._mutations.concat(new Tk(t._key,ck.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new kv(gv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function KS(e,t){if((e=At(e)).firestore!==t)throw new kv(gv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var HS=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r))._firestore=e,i}return w(n,[{key:"get",value:function(e){var t=this,r=KS(e,this._firestore),i=new RS(this._firestore);return ur(_(n.prototype),"get",this).call(this,e).then((function(e){return new NS(t._firestore,i,r._key,e._document,new CS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){y(this,e),this._firestore=t,this._transaction=n,this._dataReader=MI(t)}return w(e,[{key:"get",value:function(e){var t=this,n=KS(e,this._firestore),r=new SS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return vv();var i=e[0];if(i.isFoundDocument())return new rS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new rS(t._firestore,r,n._key,null,n.converter);throw vv()}))}},{key:"set",value:function(e,t,n){var r=KS(e,this._firestore),i=IS(r.converter,t,n),a=jI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=KS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=At(t))||t instanceof CI?HI(this._dataReader,"Transaction.update",i._key,t,n,o):KI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=KS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function WS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new zI("arrayUnion",t)}function QS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){sv=e}(Cn),bn(new Pt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new gI(new Tv(e.getProvider("auth-internal")),new Cv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kv(gv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Rn(ov,"3.13.0",e),Rn(ov,"3.13.0","esm2017")}();function YS(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new kv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function JS(){if("undefined"===typeof Uint8Array)throw new kv("unimplemented","Uint8Arrays are not available in this environment.")}function XS(){if("undefined"==typeof atob)throw new kv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var $S=function(){function e(t){y(this,e),this._delegate=t}return w(e,[{key:"toBase64",value:function(){return XS(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return JS(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return XS(),new e(SI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return JS(),new e(SI.fromUint8Array(t))}}]),e}();function ZS(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=A(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var eC=function(){function e(){y(this,e)}return w(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){II(e=rI(e,gI));var n=kI(e);if(n._uninitializedComponentsProvider)throw new kv(gv.FAILED_PRECONDITION,"SDK cache is already specified.");dv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new EE;return bI(n,i,new _E(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){II(e=rI(e,gI));var t=kI(e);if(t._uninitializedComponentsProvider)throw new kv(gv.FAILED_PRECONDITION,"SDK cache is already specified.");dv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new EE;return bI(t,r,new TE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new kv(gv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new wv;return e._queue.enqueueAndForgetEvenWhileRestricted(c(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(nm.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,nm.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(yx(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),tC=function(){function e(t,n,r){var i=this;y(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof fy||(this._appCompat=t)}return w(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||dv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};uI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return xI(this._delegate)}},{key:"disableNetwork",value:function(){return _I(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ZE("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=qT,n.next=3,GE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(kI(rI(this._delegate,gI)))}},{key:"onSnapshotsInSync",value:function(e){return VS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new kv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new vC(this,fI(this._delegate,e))}catch(t){throw uC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new oC(this,hI(this._delegate,e))}catch(t){throw uC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new hC(this,function(e,t){if(e=rI(e,oI),$E("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new kv(gv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new cI(e,null,function(e){return new pg(Mv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw uC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=rI(e,gI);var r=Object.assign(Object.assign({},qS),n);return function(e){if(e.maxAttempts<1)throw new kv(gv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new wv;return e.asyncQueue.enqueueAndForget(c(u().mark((function i(){var a;return u().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,KE(e);case 2:a=i.sent,new AE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(kI(e),(function(n){return t(new HS(e,n))}),r)}(this._delegate,(function(n){return e(new rC(t,n))}))}},{key:"batch",value:function(){var e=this;return kI(this._delegate),new iC(new GS(this._delegate,(function(t){return BS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return TI(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return EI(this._delegate,e).then((function(e){return e?new hC(t,e):null}))}}]),e}(),nC=function(e){x(n,e);var t=I(n);function n(e){var r;return y(this,n),(r=t.call(this)).firestore=e,r}return w(n,[{key:"convertBytes",value:function(e){return new $S(new SI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return oC.forKey(t,this.firestore,null)}}]),n}(ES);var rC=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new nC(t)}return w(e,[{key:"get",value:function(e){var t=this,n=mC(e);return this._delegate.get(n).then((function(e){return new lC(t._firestore,new NS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=mC(e);return n?(YS("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=mC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mC(e);return this._delegate.delete(t),this}}]),e}(),iC=function(){function e(t){y(this,e),this._delegate=t}return w(e,[{key:"set",value:function(e,t,n){var r=mC(e);return n?(YS("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=mC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=mC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),aC=function(){function e(t,n,r){y(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return w(e,[{key:"fromFirestore",value:function(e,t){var n=new AS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new fC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new nC(t),n),i.set(n,a)),a}}]),e}();aC.INSTANCES=new WeakMap;var oC=function(){function e(t,n){y(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nC(t)}return w(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new vC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new vC(this.firestore,fI(this._delegate,e))}catch(t){throw uC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=At(e))instanceof sI&&dI(this._delegate,e)}},{key:"set",value:function(e,t){t=YS("DocumentReference.set",t);try{return t?MS(this._delegate,e,t):MS(this._delegate,e)}catch(n){throw uC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?jS(this._delegate,e):jS.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw uC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return BS(rI((e=this._delegate).firestore,gI),[new Tk(e._key,ck.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sC(n),a=cC(n,(function(t){return new lC(e.firestore,new NS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return US(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?LS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rI(e,sI);var t=rI(e.firestore,gI);return QE(kI(t),e._key,{source:"server"}).then((function(n){return zS(t,e,n)}))}(this._delegate):function(e){e=rI(e,sI);var t=rI(e.firestore,gI);return QE(kI(t),e._key).then((function(n){return zS(t,e,n)}))}(this._delegate)).then((function(e){return new lC(t.firestore,new NS(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new kv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new sI(n._delegate,r,new Vv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new sI(n._delegate,r,t))}}]),e}();function uC(e,t,n){return e.message=e.message.replace(t,n),e}function sC(e){var t,n=A(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!ZS(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function cC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ZS(e[0])?e[0]:ZS(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lC=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"ref",get:function(){return new oC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return OS(this._delegate,e._delegate)}}]),e}(),fC=function(e){x(n,e);var t=I(n);function n(){return y(this,n),t.apply(this,arguments)}return w(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||vv(),t}}]),n}(lC),hC=function(){function e(t,n){y(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new nC(t)}return w(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,cS(this._delegate,function(e,t,n){var r=t,i=aS("where",e);return lS._create(i,r,n)}(t,n,r)))}catch(i){throw uC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,cS(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=aS("orderBy",e);return hS._create(n,t)}(t,n)))}catch(r){throw uC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,cS(this._delegate,(iI("limit",n=t),dS._create("limit",n,"F"))))}catch(r){throw uC(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,cS(this._delegate,(iI("limitToLast",n=t),dS._create("limitToLast",n,"L"))))}catch(r){throw uC(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,cS(this._delegate,vS.apply(void 0,arguments)))}catch(t){throw uC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,cS(this._delegate,mS.apply(void 0,arguments)))}catch(t){throw uC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,cS(this._delegate,gS.apply(void 0,arguments)))}catch(t){throw uC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,cS(this._delegate,kS.apply(void 0,arguments)))}catch(t){throw uC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return pI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?FS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=rI(e,cI);var t=rI(e.firestore,gI),n=kI(t),r=new RS(t);return YE(n,e._query,{source:"server"}).then((function(n){return new PS(t,r,e,n)}))}(this._delegate):function(e){e=rI(e,cI);var t=rI(e.firestore,gI),n=kI(t),r=new RS(t);return oS(e._query),YE(n,e._query).then((function(n){return new PS(t,r,e,n)}))}(this._delegate)).then((function(e){return new pC(t.firestore,new PS(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=sC(n),a=cC(n,(function(t){return new pC(e.firestore,new PS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return US(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(aC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),dC=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new fC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),pC=function(){function e(t,n){y(this,e),this._firestore=t,this._delegate=n}return w(e,[{key:"query",get:function(){return new hC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new fC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new dC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new fC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return OS(this._delegate,e._delegate)}}]),e}(),vC=function(e){x(n,e);var t=I(n);function n(e,r){var i;return y(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return w(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new oC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new oC(this.firestore,void 0===e?hI(this._delegate):hI(this._delegate,e))}catch(t){throw uC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=rI(e.firestore,gI),r=hI(e),i=IS(e.converter,t);return BS(n,[jI(MI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ck.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new oC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return dI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(aC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(hC);function mC(e){return rI(e,sI)}var yC=function(){function e(){y(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=S(CI,n)}return w(e,[{key:"isEqual",value:function(e){return(e=At(e))instanceof CI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Uv.keyField().canonicalString())}}]),e}(),gC=function(){function e(t){y(this,e),this._delegate=t}return w(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new BI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new UI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=WS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new GI("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),kC={Firestore:tC,GeoPoint:AI,Timestamp:Rv,Blob:$S,Transaction:rC,WriteBatch:iC,DocumentReference:oC,DocumentSnapshot:lC,Query:hC,QueryDocumentSnapshot:fC,QuerySnapshot:pC,CollectionReference:vC,FieldPath:yC,FieldValue:gC,setLogLevel:function(e){var t;t=e,cv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Pt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},kC)))}(e,(function(e,t){return new tC(e,t,new eC)})),e.registerVersion("@firebase/firestore-compat","0.3.12")}(or);var wC=or.initializeApp({apiKey:"AIzaSyC-x5jy2CdTsxlN_4Hmaw0azX5OwrYJdls",authDomain:"tweetingant.firebaseapp.com",projectId:"tweetingant",storageBucket:"tweetingant.appspot.com",messagingSenderId:"43484561065",appId:"1:43484561065:web:5d75e9599b39bbf60eb3b8"}),bC=wC.auth(),xC=n(184),_C=r.createContext({user:null,loading:!0});function TC(){return(0,r.useContext)(_C)}function EC(e){var t=e.children,n=p((0,r.useState)(),2),i=n[0],a=n[1],o=p((0,r.useState)(!0),2),u=o[0],s=o[1];(0,r.useEffect)((function(){return bC.onAuthStateChanged((function(e){a(e),s(!1)}))}),[]);var c={currentUser:i,signUp:function(e,t){return bC.createUserWithEmailAndPassword(e,t)},logIn:function(e,t){return bC.signInWithEmailAndPassword(e,t)},logOut:function(){return bC.signOut()},resetPassword:function(e){return bC.sendPasswordResetEmail(e)}};return(0,xC.jsx)(_C.Provider,{value:c,children:!u&&t})}function IC(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function SC(e,t){if(null==e)return{};var n,r,i=IC(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var CC=n(694),NC=n.n(CC),AC=["xxl","xl","lg","md","sm","xs"],PC=r.createContext({prefixes:{},breakpoints:AC,minBreakpoint:"xs"});PC.Consumer,PC.Provider;function DC(e,t){var n=(0,r.useContext)(PC).prefixes;return e||n[t]||t}var OC=/-(.)/g;var RC=["className","bsPrefix","as"],LC=function(e){return e[0].toUpperCase()+(t=e,t.replace(OC,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function FC(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?LC(e):n,a=t.Component,o=t.defaultProps,u=r.forwardRef((function(t,n){var r=t.className,i=t.bsPrefix,u=t.as,s=void 0===u?a||"div":u,c=SC(t,RC),l=Gt(Gt({},o),c),f=DC(i,e);return(0,xC.jsx)(s,Gt({ref:n,className:NC()(r,f)},l))}));return u.displayName=i,u}var MC=function(e){return r.forwardRef((function(t,n){return(0,xC.jsx)("div",Gt(Gt({},t),{},{ref:n,className:NC()(t.className,e)}))}))},jC=["bsPrefix","className","variant","as"],UC=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,a=e.as,o=void 0===a?"img":a,u=SC(e,jC),s=DC(n,"card-img");return(0,xC.jsx)(o,Gt({ref:t,className:NC()(i?"".concat(s,"-").concat(i):s,r)},u))}));UC.displayName="CardImg";var VC=UC,BC=r.createContext(null);BC.displayName="CardHeaderContext";var zC=BC,qC=["bsPrefix","className","as"],GC=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.as,o=void 0===a?"div":a,u=SC(e,qC),s=DC(n,"card-header"),c=(0,r.useMemo)((function(){return{cardHeaderBsPrefix:s}}),[s]);return(0,xC.jsx)(zC.Provider,{value:c,children:(0,xC.jsx)(o,Gt(Gt({ref:t},u),{},{className:NC()(i,s)}))})}));GC.displayName="CardHeader";var KC=GC,HC=["bsPrefix","className","bg","text","border","body","children","as"],WC=MC("h5"),QC=MC("h6"),YC=FC("card-body"),JC=FC("card-title",{Component:WC}),XC=FC("card-subtitle",{Component:QC}),$C=FC("card-link",{Component:"a"}),ZC=FC("card-text",{Component:"p"}),eN=FC("card-footer"),tN=FC("card-img-overlay"),nN=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,a=e.text,o=e.border,u=e.body,s=void 0!==u&&u,c=e.children,l=e.as,f=void 0===l?"div":l,h=SC(e,HC),d=DC(n,"card");return(0,xC.jsx)(f,Gt(Gt({ref:t},h),{},{className:NC()(r,d,i&&"bg-".concat(i),a&&"text-".concat(a),o&&"border-".concat(o)),children:s?(0,xC.jsx)(YC,{children:c}):c}))}));nN.displayName="Card";var rN=Object.assign(nN,{Img:VC,Title:JC,Subtitle:XC,Body:YC,Link:$C,Text:ZC,Header:KC,Footer:eN,ImgOverlay:tN});function iN(){return iN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iN.apply(this,arguments)}n(176);function aN(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function oN(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function uN(e,t){return Object.keys(t).reduce((function(n,i){var a,o=n,u=o[aN(i)],s=o[i],c=IC(o,[aN(i),i].map(oN)),l=t[i],f=function(e,t,n){var i=(0,r.useRef)(void 0!==e),a=(0,r.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=i.current;return i.current=s,!s&&c&&o!==t&&u(t),[s?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}(s,u,e[l]),h=f[0],d=f[1];return iN({},c,((a={})[i]=h,a[l]=d,a))}),e)}function sN(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function cN(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function lN(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}sN.__suppressDeprecationWarning=!0,cN.__suppressDeprecationWarning=!0,lN.__suppressDeprecationWarning=!0;var fN=function(e){var t=(0,r.useRef)(e);return(0,r.useEffect)((function(){t.current=e}),[e]),t};function hN(e){var t=fN(e);return(0,r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}"undefined"!==typeof n.g&&n.g.navigator&&n.g.navigator.product,new WeakMap;var dN=["as","disabled"];function pN(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.role,u=e.onClick,s=e.tabIndex,c=void 0===s?0:s,l=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var f={tagName:t};if("button"===t)return[{type:l||"button",disabled:n},f];var h=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==u||u(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:c,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:h,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),h(e))}},f]}var vN=r.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,dN),a=p(pN(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],u=a[1].tagName;return(0,xC.jsx)(u,Object.assign({},i,o,{ref:t}))}));vN.displayName="Button";var mN=["onKeyDown"];var yN=r.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,mN),a=p(pN(Object.assign({tagName:"a"},i)),1)[0],o=hN((function(e){a.onKeyDown(e),null==r||r(e)}));return(n=i.href)&&"#"!==n.trim()&&"button"!==i.role?(0,xC.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,xC.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));yN.displayName="Anchor";var gN=yN;var kN=n(164),wN=!1,bN=r.createContext(null),xN="unmounted",_N="exited",TN="entering",EN="entered",IN="exiting",SN=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=_N,r.appearStatus=TN):i=EN:i=t.unmountOnExit||t.mountOnEnter?xN:_N,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===xN?{status:_N}:null};var a=i.prototype;return a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==TN&&n!==EN&&(t=TN):n!==TN&&n!==EN||(t=IN)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===TN){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:kN.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===_N&&this.setState({status:xN})},a.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[kN.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||wN?this.safeSetState({status:EN},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:TN},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:EN},(function(){t.props.onEntered(a,o)}))}))})))},a.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:kN.findDOMNode(this);t&&!wN?(this.props.onExit(r),this.safeSetState({status:IN},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:_N},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:_N},(function(){e.props.onExited(r)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:kN.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===xN)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,IC(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(bN.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function CN(){}SN.contextType=bN,SN.propTypes={},SN.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:CN,onEntering:CN,onEntered:CN,onExit:CN,onExiting:CN,onExited:CN},SN.UNMOUNTED=xN,SN.EXITED=_N,SN.ENTERING=TN,SN.ENTERED=EN,SN.EXITING=IN;var NN=SN;function AN(e){var t=function(e){return e&&e.ownerDocument||document}(e);return t&&t.defaultView||window}var PN=/([A-Z])/g;var DN=/^ms-/;function ON(e){return function(e){return e.replace(PN,"-$1").toLowerCase()}(e).replace(DN,"-ms-")}var RN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var LN=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(ON(t))||function(e,t){return AN(e).getComputedStyle(e,t)}(e).getPropertyValue(ON(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!RN.test(e))}(i)?n+=ON(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(ON(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},FN=!("undefined"===typeof window||!window.document||!window.document.createElement),MN=!1,jN=!1;try{var UN={get passive(){return MN=!0},get once(){return jN=MN=!0}};FN&&(window.addEventListener("test",UN,UN),window.removeEventListener("test",UN,!0))}catch(jR){}var VN=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!jN){var i=r.once,a=r.capture,o=n;!jN&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,MN?r:a)}e.addEventListener(t,n,r)};var BN=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var zN=function(e,t,n,r){return VN(e,t,n,r),function(){BN(e,t,n,r)}};function qN(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=zN(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function GN(e,t,n,r){null==n&&(n=function(e){var t=LN(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=qN(e,n,r),a=zN(e,"transitionend",t);return function(){i(),a()}}function KN(e,t){var n=LN(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function HN(e,t){var n=KN(e,"transitionDuration"),r=KN(e,"transitionDelay"),i=GN(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}var WN=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var QN=function(e,t){return(0,r.useMemo)((function(){return function(e,t){var n=WN(e),r=WN(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])};var YN,JN=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],XN=r.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,a=e.onEntered,o=e.onExit,u=e.onExiting,s=e.onExited,c=e.addEndListener,l=e.children,f=e.childRef,h=SC(e,JN),d=(0,r.useRef)(null),p=QN(d,f),v=function(e){var t;p((t=e)&&"setState"in t?kN.findDOMNode(t):null!=t?t:null)},m=function(e){return function(t){e&&d.current&&e(d.current,t)}},y=(0,r.useCallback)(m(n),[n]),g=(0,r.useCallback)(m(i),[i]),k=(0,r.useCallback)(m(a),[a]),w=(0,r.useCallback)(m(o),[o]),b=(0,r.useCallback)(m(u),[u]),x=(0,r.useCallback)(m(s),[s]),_=(0,r.useCallback)(m(c),[c]);return(0,xC.jsx)(NN,Gt(Gt({ref:t},h),{},{onEnter:y,onEntered:k,onEntering:g,onExit:w,onExited:x,onExiting:b,addEndListener:_,nodeRef:d,children:"function"===typeof l?function(e,t){return l(e,Gt(Gt({},t),{},{ref:v}))}:r.cloneElement(l,{ref:v})}))})),$N=XN,ZN=["className","children","transitionClasses","onEnter"],eA=(et(YN={},TN,"show"),et(YN,EN,"show"),YN),tA=r.forwardRef((function(e,t){var n=e.className,i=e.children,a=e.transitionClasses,o=void 0===a?{}:a,u=e.onEnter,s=Gt({in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},SC(e,ZN)),c=(0,r.useCallback)((function(e,t){!function(e){e.offsetHeight}(e),null==u||u(e,t)}),[u]);return(0,xC.jsx)($N,Gt(Gt({ref:t,addEndListener:HN},s),{},{onEnter:c,childRef:i.ref,children:function(e,t){return r.cloneElement(i,Gt(Gt({},t),{},{className:NC()("fade",n,i.props.className,eA[e],o[e])}))}}))}));tA.displayName="Fade";var nA=tA,rA=n(7),iA=n.n(rA),aA=["className","variant","aria-label"],oA={"aria-label":iA().string,onClick:iA().func,variant:iA().oneOf(["white"])},uA=r.forwardRef((function(e,t){var n=e.className,r=e.variant,i=e["aria-label"],a=void 0===i?"Close":i,o=SC(e,aA);return(0,xC.jsx)("button",Gt({ref:t,type:"button",className:NC()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":a},o))}));uA.displayName="CloseButton",uA.propTypes=oA;var sA=uA,cA=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],lA=MC("h4");lA.displayName="DivStyledAsH4";var fA=FC("alert-heading",{Component:lA}),hA=FC("alert-link",{Component:gN}),dA=r.forwardRef((function(e,t){var n=uN(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,a=void 0===i||i,o=n.closeLabel,u=void 0===o?"Close alert":o,s=n.closeVariant,c=n.className,l=n.children,f=n.variant,h=void 0===f?"primary":f,d=n.onClose,p=n.dismissible,v=n.transition,m=void 0===v?nA:v,y=SC(n,cA),g=DC(r,"alert"),k=hN((function(e){d&&d(!1,e)})),w=!0===m?nA:m,b=(0,xC.jsxs)("div",Gt(Gt({role:"alert"},w?void 0:y),{},{ref:t,className:NC()(c,g,h&&"".concat(g,"-").concat(h),p&&"".concat(g,"-dismissible")),children:[p&&(0,xC.jsx)(sA,{onClick:k,"aria-label":u,variant:s}),l]}));return w?(0,xC.jsx)(w,Gt(Gt({unmountOnExit:!0},y),{},{ref:void 0,in:a,children:b})):a?b:null}));dA.displayName="Alert";var pA=Object.assign(dA,{Link:hA,Heading:fA}),vA=["as","className","type","tooltip"],mA={type:iA().string,tooltip:iA().bool,as:iA().elementType},yA=r.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,a=e.type,o=void 0===a?"valid":a,u=e.tooltip,s=void 0!==u&&u,c=SC(e,vA);return(0,xC.jsx)(r,Gt(Gt({},c),{},{ref:t,className:NC()(i,"".concat(o,"-").concat(s?"tooltip":"feedback"))}))}));yA.displayName="Feedback",yA.propTypes=mA;var gA=yA,kA=r.createContext({}),wA=["id","bsPrefix","className","type","isValid","isInvalid","as"],bA=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.className,o=e.type,u=void 0===o?"checkbox":o,s=e.isValid,c=void 0!==s&&s,l=e.isInvalid,f=void 0!==l&&l,h=e.as,d=void 0===h?"input":h,p=SC(e,wA),v=(0,r.useContext)(kA).controlId;return i=DC(i,"form-check-input"),(0,xC.jsx)(d,Gt(Gt({},p),{},{ref:t,type:u,id:n||v,className:NC()(a,i,c&&"is-valid",f&&"is-invalid")}))}));bA.displayName="FormCheckInput";var xA=bA,_A=["bsPrefix","className","htmlFor"],TA=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.htmlFor,o=SC(e,_A),u=(0,r.useContext)(kA).controlId;return n=DC(n,"form-check-label"),(0,xC.jsx)("label",Gt(Gt({},o),{},{ref:t,htmlFor:a||u,className:NC()(i,n)}))}));TA.displayName="FormCheckLabel";var EA=TA;var IA=["id","bsPrefix","bsSwitchPrefix","inline","reverse","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],SA=r.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,a=e.bsSwitchPrefix,o=e.inline,u=void 0!==o&&o,s=e.reverse,c=void 0!==s&&s,l=e.disabled,f=void 0!==l&&l,h=e.isValid,d=void 0!==h&&h,p=e.isInvalid,v=void 0!==p&&p,m=e.feedbackTooltip,y=void 0!==m&&m,g=e.feedback,k=e.feedbackType,w=e.className,b=e.style,x=e.title,_=void 0===x?"":x,T=e.type,E=void 0===T?"checkbox":T,I=e.label,S=e.children,C=e.as,N=void 0===C?"input":C,A=SC(e,IA);i=DC(i,"form-check"),a=DC(a,"form-switch");var P=(0,r.useContext)(kA).controlId,D=(0,r.useMemo)((function(){return{controlId:n||P}}),[P,n]),O=!S&&null!=I&&!1!==I||function(e,t){return r.Children.toArray(e).some((function(e){return r.isValidElement(e)&&e.type===t}))}(S,EA),R=(0,xC.jsx)(xA,Gt(Gt({},A),{},{type:"switch"===E?"checkbox":E,ref:t,isValid:d,isInvalid:v,disabled:f,as:N}));return(0,xC.jsx)(kA.Provider,{value:D,children:(0,xC.jsx)("div",{style:b,className:NC()(w,O&&i,u&&"".concat(i,"-inline"),c&&"".concat(i,"-reverse"),"switch"===E&&a),children:S||(0,xC.jsxs)(xC.Fragment,{children:[R,O&&(0,xC.jsx)(EA,{title:_,children:I}),g&&(0,xC.jsx)(gA,{type:k,tooltip:y,children:g})]})})})}));SA.displayName="FormCheck";var CA=Object.assign(SA,{Input:xA,Label:EA}),NA=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),AA=r.forwardRef((function(e,t){var n,i,a=e.bsPrefix,o=e.type,u=e.size,s=e.htmlSize,c=e.id,l=e.className,f=e.isValid,h=void 0!==f&&f,d=e.isInvalid,p=void 0!==d&&d,v=e.plaintext,m=e.readOnly,y=e.as,g=void 0===y?"input":y,k=SC(e,NA),w=(0,r.useContext)(kA).controlId;(a=DC(a,"form-control"),v)?n=et({},"".concat(a,"-plaintext"),!0):(et(i={},a,!0),et(i,"".concat(a,"-").concat(u),u),n=i);return(0,xC.jsx)(g,Gt(Gt({},k),{},{type:o,size:s,ref:t,readOnly:m,id:c||w,className:NC()(l,n,h&&"is-valid",p&&"is-invalid","color"===o&&"".concat(a,"-color"))}))}));AA.displayName="FormControl";var PA=Object.assign(AA,{Feedback:gA}),DA=FC("form-floating"),OA=["controlId","as"],RA=r.forwardRef((function(e,t){var n=e.controlId,i=e.as,a=void 0===i?"div":i,o=SC(e,OA),u=(0,r.useMemo)((function(){return{controlId:n}}),[n]);return(0,xC.jsx)(kA.Provider,{value:u,children:(0,xC.jsx)(a,Gt(Gt({},o),{},{ref:t}))})}));RA.displayName="FormGroup";var LA=RA,FA=["as","bsPrefix","className"],MA=["className"];function jA(e){var t=e.as,n=e.bsPrefix,i=e.className,a=SC(e,FA);n=DC(n,"col");var o=(0,r.useContext)(PC).breakpoints,u=(0,r.useContext)(PC).minBreakpoint,s=[],c=[];return o.forEach((function(e){var t,r,i,o=a[e];delete a[e],"object"===typeof o&&null!=o?(t=o.span,r=o.offset,i=o.order):t=o;var l=e!==u?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(l):"".concat(n).concat(l,"-").concat(t)),null!=i&&c.push("order".concat(l,"-").concat(i)),null!=r&&c.push("offset".concat(l,"-").concat(r))})),[Gt(Gt({},a),{},{className:NC().apply(void 0,[i].concat(s,c))}),{as:t,bsPrefix:n,spans:s}]}var UA=r.forwardRef((function(e,t){var n=p(jA(e),2),r=n[0],i=r.className,a=SC(r,MA),o=n[1],u=o.as,s=void 0===u?"div":u,c=o.bsPrefix,l=o.spans;return(0,xC.jsx)(s,Gt(Gt({},a),{},{ref:t,className:NC()(i,!l.length&&c)}))}));UA.displayName="Col";var VA=UA,BA=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],zA=r.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,a=e.bsPrefix,o=e.column,u=void 0!==o&&o,s=e.visuallyHidden,c=void 0!==s&&s,l=e.className,f=e.htmlFor,h=SC(e,BA),d=(0,r.useContext)(kA).controlId;a=DC(a,"form-label");var p="col-form-label";"string"===typeof u&&(p="".concat(p," ").concat(p,"-").concat(u));var v=NC()(l,a,c&&"visually-hidden",u&&p);return f=f||d,u?(0,xC.jsx)(VA,Gt({ref:t,as:"label",className:v,htmlFor:f},h)):(0,xC.jsx)(i,Gt({ref:t,className:v,htmlFor:f},h))}));zA.displayName="FormLabel";var qA=zA,GA=["bsPrefix","className","id"],KA=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,a=e.id,o=SC(e,GA),u=(0,r.useContext)(kA).controlId;return n=DC(n,"form-range"),(0,xC.jsx)("input",Gt(Gt({},o),{},{type:"range",ref:t,className:NC()(i,n),id:a||u}))}));KA.displayName="FormRange";var HA=KA,WA=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],QA=r.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,a=e.htmlSize,o=e.className,u=e.isValid,s=void 0!==u&&u,c=e.isInvalid,l=void 0!==c&&c,f=e.id,h=SC(e,WA),d=(0,r.useContext)(kA).controlId;return n=DC(n,"form-select"),(0,xC.jsx)("select",Gt(Gt({},h),{},{size:a,ref:t,className:NC()(o,n,i&&"".concat(n,"-").concat(i),s&&"is-valid",l&&"is-invalid"),id:f||d}))}));QA.displayName="FormSelect";var YA=QA,JA=["bsPrefix","className","as","muted"],XA=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,a=void 0===i?"small":i,o=e.muted,u=SC(e,JA);return n=DC(n,"form-text"),(0,xC.jsx)(a,Gt(Gt({},u),{},{ref:t,className:NC()(r,n,o&&"text-muted")}))}));XA.displayName="FormText";var $A=XA,ZA=r.forwardRef((function(e,t){return(0,xC.jsx)(CA,Gt(Gt({},e),{},{ref:t,type:"switch"}))}));ZA.displayName="Switch";var eP=Object.assign(ZA,{Input:CA.Input,Label:CA.Label}),tP=["bsPrefix","className","children","controlId","label"],nP=r.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,a=e.controlId,o=e.label,u=SC(e,tP);return n=DC(n,"form-floating"),(0,xC.jsxs)(LA,Gt(Gt({ref:t,className:NC()(r,n),controlId:a},u),{},{children:[i,(0,xC.jsx)("label",{htmlFor:a,children:o})]}))}));nP.displayName="FloatingLabel";var rP=nP,iP=["className","validated","as"],aP={_ref:iA().any,validated:iA().bool,as:iA().elementType},oP=r.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,a=void 0===i?"form":i,o=SC(e,iP);return(0,xC.jsx)(a,Gt(Gt({},o),{},{ref:t,className:NC()(n,r&&"was-validated")}))}));oP.displayName="Form",oP.propTypes=aP;var uP=Object.assign(oP,{Group:LA,Control:PA,Floating:DA,Check:CA,Switch:eP,Label:qA,Text:$A,Range:HA,Select:YA,FloatingLabel:rP}),sP=["as","bsPrefix","variant","size","active","disabled","className"],cP=r.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,a=void 0===i?"primary":i,o=e.size,u=e.active,s=void 0!==u&&u,c=e.disabled,l=void 0!==c&&c,f=e.className,h=SC(e,sP),d=DC(r,"btn"),v=p(pN(Gt({tagName:n,disabled:l},h)),2),m=v[0],y=v[1].tagName;return(0,xC.jsx)(y,Gt(Gt(Gt({},m),h),{},{ref:t,disabled:l,className:NC()(f,d,s&&"active",a&&"".concat(d,"-").concat(a),o&&"".concat(d,"-").concat(o),h.href&&l&&"disabled")}))}));cP.displayName="Button";var lP=cP;function fP(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=TC().logIn,i=p((0,r.useState)(""),2),a=i[0],o=i[1],s=p((0,r.useState)(!1),2),l=s[0],f=s[1],h=Te();function d(){return(d=c(u().mark((function r(i){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i.preventDefault(),r.prev=1,o(""),f(!0),r.next=6,n(e.current.value,t.current.value);case 6:h("/",{replace:!0}),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(1),o("Incorrect email or password");case 12:f(!1);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})))).apply(this,arguments)}return(0,xC.jsxs)("div",{className:"login-container",children:[(0,xC.jsx)(rN,{id:"card",children:(0,xC.jsxs)(rN.Body,{children:[(0,xC.jsx)("h2",{className:"text-center mb-4",children:" Log in"}),a&&(0,xC.jsx)(pA,{variant:"danger",children:a}),(0,xC.jsxs)(uP,{onSubmit:function(e){return d.apply(this,arguments)},children:[(0,xC.jsxs)(uP.Group,{id:"email",children:[(0,xC.jsx)(uP.Label,{children:"Email"}),(0,xC.jsx)(uP.Control,{type:"email",ref:e,required:!0})]}),(0,xC.jsxs)(uP.Group,{id:"password",children:[(0,xC.jsx)(uP.Label,{children:"Password"}),(0,xC.jsx)(uP.Control,{type:"password",ref:t,required:!0})]}),(0,xC.jsx)(lP,{disabled:l,id:"login-button",className:"mt-4 w-100",type:"submit",children:"Log In"})]}),(0,xC.jsx)("div",{className:"w-100 text-center mt-3",children:(0,xC.jsx)(Xe,{to:"/forgot-password",children:"Forgot password?"})})]})}),(0,xC.jsxs)("div",{className:"w-100 text-center mt-2 pb-1",children:["Need an account? ",(0,xC.jsx)(Xe,{to:"/signup",children:"Sign Up"})]})]})}function hP(){var e=(0,r.useRef)(),t=(0,r.useRef)(),n=(0,r.useRef)(),i=TC().signUp,a=p((0,r.useState)(""),2),o=a[0],s=a[1],l=p((0,r.useState)(!1),2),f=l[0],h=l[1],d=Te();function v(){return(v=c(u().mark((function r(a){return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a.preventDefault(),t.current.value===n.current.value){r.next=3;break}return r.abrupt("return",s("Passwords do not match"));case 3:return r.prev=3,s(""),h(!0),r.next=8,i(e.current.value,t.current.value);case 8:d("/",{replace:!0}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(3),s("Failed to create an account");case 14:h(!1);case 15:case"end":return r.stop()}}),r,null,[[3,11]])})))).apply(this,arguments)}return(0,xC.jsxs)("div",{className:"login-container",children:[(0,xC.jsx)(rN,{id:"card",children:(0,xC.jsxs)(rN.Body,{children:[(0,xC.jsx)("h2",{className:"text-center mb-4",children:" Sign Up"}),o&&(0,xC.jsx)(pA,{variant:"danger",children:o}),(0,xC.jsxs)(uP,{onSubmit:function(e){return v.apply(this,arguments)},children:[(0,xC.jsxs)(uP.Group,{id:"email",children:[(0,xC.jsx)(uP.Label,{children:"Email"}),(0,xC.jsx)(uP.Control,{type:"email",ref:e,required:!0})]}),(0,xC.jsxs)(uP.Group,{id:"password",children:[(0,xC.jsx)(uP.Label,{children:"Password"}),(0,xC.jsx)(uP.Control,{type:"password",ref:t,required:!0})]}),(0,xC.jsxs)(uP.Group,{id:"password-confirm",children:[(0,xC.jsx)(uP.Label,{children:"Password Confirmation"}),(0,xC.jsx)(uP.Control,{type:"password",ref:n,required:!0})]}),(0,xC.jsx)(lP,{id:"sign-up-button",disabled:f,className:"mt-4 w-100",type:"submit",children:"Sign Up"})]})]})}),(0,xC.jsxs)("div",{className:"w-100 text-center mt-2 pb-1",children:["Already have an account? ",(0,xC.jsx)(Xe,{to:"/login",children:"Login"})]})]})}function dP(){var e=(0,r.useRef)(),t=TC().resetPassword,n=p((0,r.useState)(""),2),i=n[0],a=n[1],o=p((0,r.useState)(""),2),s=o[0],l=o[1],f=p((0,r.useState)(!1),2),h=f[0],d=f[1];function v(){return(v=c(u().mark((function n(r){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),console.log("hello"),n.prev=2,l(""),a(""),d(!0),n.next=8,t(e.current.value);case 8:l("Check your inbox for further instructions"),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(2),a("Failed to reset password");case 14:d(!1);case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))).apply(this,arguments)}return(0,xC.jsxs)("div",{className:"login-container",children:[(0,xC.jsx)(rN,{id:"card",children:(0,xC.jsxs)(rN.Body,{children:[(0,xC.jsx)("h2",{className:"text-center mb-4",children:" Password Reset "}),i&&(0,xC.jsx)(pA,{variant:"danger",children:i}),s&&(0,xC.jsx)(pA,{variant:"success",children:s}),(0,xC.jsxs)(uP,{onSubmit:function(e){return v.apply(this,arguments)},children:[(0,xC.jsxs)(uP.Group,{id:"email",children:[(0,xC.jsx)(uP.Label,{children:"Email"}),(0,xC.jsx)(uP.Control,{type:"email",ref:e,required:!0})]}),(0,xC.jsx)(lP,{id:"reset-password-button",disabled:h,className:"mt-4 w-100",type:"submit",children:"Reset password"})]}),(0,xC.jsx)("div",{className:"w-100 text-center mt-3",children:(0,xC.jsx)(Xe,{to:"/login",children:"Log in"})})]})}),(0,xC.jsxs)("div",{className:"w-100 text-center mt-2 pb-1",children:["Need an account? ",(0,xC.jsx)(Xe,{to:"/signup",children:"Sign Up"})]})]})}function pP(e){var t=e.children;return TC().currentUser?t:(0,xC.jsx)(je,{to:"/login"})}var vP=function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t,n);case 3:if((r=e.sent).ok){e.next=6;break}throw new Error("Please reload the app");case 6:return e.next=8,r.json();case 8:return i=e.sent,e.abrupt("return",i);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n){return e.apply(this,arguments)}}(),mP=vP,yP=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/login_Data_From_Email",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:return r=e.sent,e.abrupt("return",r.payload);case 8:throw e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),gP=yP,kP=function(){var e=c(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/getIntensivityByEmail",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return e.abrupt("return",r.payload);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),wP=kP,bP=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/getTimeToTweetsByEmail",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return i=r.payload.reduce((function(e,t){return e[t.loginnametwitter]?e[t.loginnametwitter].push({hours:t.hours,minutes:t.minutes}):e[t.loginnametwitter]=[{hours:t.hours,minutes:t.minutes}],e}),{}),a=Object.keys(i).map((function(e){return{loginnametwitter:e,tweetsTime:i[e]}})),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),xP=bP,_P=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/getTimeToLikesByEmail",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return i=r.payload.reduce((function(e,t){return e[t.loginnametwitter]?e[t.loginnametwitter].push({hours:t.hours,minutes:t.minutes}):e[t.loginnametwitter]=[{hours:t.hours,minutes:t.minutes}],e}),{}),a=Object.keys(i).map((function(e){return{loginnametwitter:e,likesTime:i[e]}})),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),TP=_P,EP=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/getTimeToRetweetsByEmail",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return i=r.payload.reduce((function(e,t){return e[t.loginnametwitter]?e[t.loginnametwitter].push({hours:t.hours,minutes:t.minutes}):e[t.loginnametwitter]=[{hours:t.hours,minutes:t.minutes}],e}),{}),a=Object.keys(i).map((function(e){return{loginnametwitter:e,retweetsTime:i[e]}})),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),IP=EP,SP=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/getTimeToCommentsByEmail",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return i=r.payload.reduce((function(e,t){return e[t.loginnametwitter]?e[t.loginnametwitter].push({hours:t.hours,minutes:t.minutes}):e[t.loginnametwitter]=[{hours:t.hours,minutes:t.minutes}],e}),{}),a=Object.keys(i).map((function(e){return{loginnametwitter:e,commentsTime:i[e]}})),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),CP=SP,NP=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/user_Name_Used_For_Tweets_By_Email",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return i=r.payload.reduce((function(e,t){return e[t.loginnametwitter]?e[t.loginnametwitter].push(t.usercontent):e[t.loginnametwitter]=[t.usercontent],e}),{}),a=Object.keys(i).map((function(e){return{loginnametwitter:e,usercontent:i[e]}})),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),AP=NP,PP=function(){var e=c(u().mark((function e(t){var n,r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/user_Content_By_Email",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(n)});case 4:if(null!==(r=e.sent)&&void 0!==r&&r.payload){e.next=7;break}throw new Error("Response not exist");case 7:return i=r.payload.reduce((function(e,t){return e[t.loginnametwitter]?e[t.loginnametwitter].push(t.usercontent):e[t.loginnametwitter]=[t.usercontent],e}),{}),a=Object.keys(i).map((function(e){return{loginnametwitter:e,usercontent:i[e]}})),e.abrupt("return",a);case 12:throw e.prev=12,e.t0=e.catch(1),console.error(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),DP=PP,OP=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP("https://tweetingantdb.onrender.com/database/insert_User_Name_Used_For_Tweets",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),RP=OP,LP=function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,userNameUsedForTweets:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/delete_User_Name_Used_For_Tweets_Specific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:if(null!==(i=e.sent)&&void 0!==i&&i.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),FP=LP,MP=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP("https://tweetingantdb.onrender.com/database/insert_User_Content",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),jP=MP,UP=function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,userContent:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/delete_User_Content_Specific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:if(null!==(i=e.sent)&&void 0!==i&&i.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",i);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),VP=UP,BP=function(){var e=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={loginNameTwitter:t,hours:n,minutes:r},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/deleteTimeToTweetsSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(i)});case 4:if(null!==(a=e.sent)&&void 0!==a&&a.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),zP=BP,qP=function(){var e=c(u().mark((function e(t,n,r,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={loginNameTwitter:t,hours:n,minutes:r,updatedHours:i,updatedMinutes:a},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateTimeToTweetsSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(o)});case 4:if(null!==(s=e.sent)&&void 0!==s&&s.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),GP=qP,KP=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,intensivity:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateTweetsIntensivity",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),HP=KP,WP=function(){var e=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={loginNameTwitter:t,hours:n,minutes:r},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/deleteTimeToLikesSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(i)});case 4:if(null!==(a=e.sent)&&void 0!==a&&a.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),QP=WP,YP=function(){var e=c(u().mark((function e(t,n,r,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={loginNameTwitter:t,hours:n,minutes:r,updatedHours:i,updatedMinutes:a},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateTimeToLikesSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(o)});case 4:if(null!==(s=e.sent)&&void 0!==s&&s.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),JP=YP,XP=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,intensivity:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateLikesIntensivity",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),$P=XP,ZP=function(){var e=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={loginNameTwitter:t,hours:n,minutes:r},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/deleteTimeToRetweetsSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(i)});case 4:if(null!==(a=e.sent)&&void 0!==a&&a.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),eD=ZP,tD=function(){var e=c(u().mark((function e(t,n,r,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={loginNameTwitter:t,hours:n,minutes:r,updatedHours:i,updatedMinutes:a},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateTimeToRetweetsSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(o)});case 4:if(null!==(s=e.sent)&&void 0!==s&&s.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),nD=tD,rD=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,intensivity:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateRetweetsIntensivity",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),iD=rD,aD=function(){var e=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={loginNameTwitter:t,hours:n,minutes:r},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/deleteTimeToCommentsSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(i)});case 4:if(null!==(a=e.sent)&&void 0!==a&&a.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),oD=aD,uD=function(){var e=c(u().mark((function e(t,n,r,i,a){var o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={loginNameTwitter:t,hours:n,minutes:r,updatedHours:i,updatedMinutes:a},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateTimeToCommentsSpecific",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(o)});case 4:if(null!==(s=e.sent)&&void 0!==s&&s.payload){e.next=7;break}throw new Error("No response from API");case 7:return e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n,r,i,a){return e.apply(this,arguments)}}(),sD=uD,cD=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,intensivity:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updateCommentsIntensivity",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),lD=cD,fD=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,isAutomated:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/UpdateIsAutomated",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),hD=fD,dD=function(){var e=c(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,personality:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/updatePersonality",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}(),pD=dD,vD=function(){function e(t,n,r,i,a,o,u,s,c,l,f,h,d,p,v){y(this,e),this.id=void 0,this.email=void 0,this.loginNameTwitter=void 0,this.isAutomated=void 0,this.personality=void 0,this.tweetsIntensivity=void 0,this.timesToTweet=void 0,this.likesIntensivity=void 0,this.timesToLike=void 0,this.retweetsIntensivity=void 0,this.timesToRetweet=void 0,this.commentsIntensivity=void 0,this.timesToComment=void 0,this.usernameForTweets=void 0,this.usernameForContent=void 0,this.id=t,this.email=n,this.loginNameTwitter=r,this.isAutomated=i,this.personality=a,this.tweetsIntensivity=o,this.timesToTweet=u,this.likesIntensivity=s,this.timesToLike=c,this.retweetsIntensivity=l,this.timesToRetweet=f,this.commentsIntensivity=h,this.timesToComment=d,this.usernameForTweets=p,this.usernameForContent=v}return w(e,[{key:"addUsernameForTweets",value:function(e){var t=e.formData;if(t){var n,r=t.map((function(e){return e.usernameusedfortweets}));(n=this.usernameForTweets).unshift.apply(n,m(r))}RP(t)}},{key:"removeUsernameFromTweets",value:function(e){this.usernameForTweets=this.usernameForTweets.filter((function(t){return t!==e})),FP(this.loginNameTwitter,e)}},{key:"addUserContent",value:function(e){var t=e.formData;if(t){var n,r=t.map((function(e){return e.usernameusedfortweets}));(n=this.usernameForContent).unshift.apply(n,m(r))}jP(t)}},{key:"removeUserContent",value:function(e){this.usernameForContent=this.usernameForContent.filter((function(t){return t!==e})),VP(this.loginNameTwitter,e)}},{key:"removeTimesToTweet",value:function(e,t){var n=this.timesToTweet.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==n&&this.timesToTweet.splice(n,1),zP(this.loginNameTwitter,e,t)}},{key:"updateTimesToTweet",value:function(e,t,n,r){var i=this.timesToTweet.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==i&&(this.timesToTweet[i]={hours:n,minutes:r}),GP(this.loginNameTwitter,e,t,n,r)}},{key:"updateTimesToTweetIntensivity",value:function(e){this.tweetsIntensivity=e,HP(this.loginNameTwitter,e)}},{key:"removeTimesToLike",value:function(e,t){var n=this.timesToLike.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==n&&this.timesToLike.splice(n,1),QP(this.loginNameTwitter,e,t)}},{key:"updateTimesToLike",value:function(e,t,n,r){var i=this.timesToLike.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==i&&(this.timesToLike[i]={hours:n,minutes:r}),JP(this.loginNameTwitter,e,t,n,r)}},{key:"updateTimesToLikeIntensivity",value:function(e){this.tweetsIntensivity=e,$P(this.loginNameTwitter,e)}},{key:"removeTimesToRetweet",value:function(e,t){var n=this.timesToRetweet.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==n&&this.timesToRetweet.splice(n,1),eD(this.loginNameTwitter,e,t)}},{key:"updateTimesToRetweet",value:function(e,t,n,r){var i=this.timesToRetweet.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==i&&(this.timesToRetweet[i]={hours:n,minutes:r}),nD(this.loginNameTwitter,e,t,n,r)}},{key:"updateTimesToRetweetIntensivity",value:function(e){this.tweetsIntensivity=e,iD(this.loginNameTwitter,e)}},{key:"removeTimesToComment",value:function(e,t){var n=this.timesToComment.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==n&&this.timesToComment.splice(n,1),oD(this.loginNameTwitter,e,t)}},{key:"updateTimesToComment",value:function(e,t,n,r){var i=this.timesToComment.findIndex((function(n){return n.hours===e&&n.minutes===t}));-1!==i&&(this.timesToComment[i]={hours:n,minutes:r}),sD(this.loginNameTwitter,e,t,n,r)}},{key:"updateTimesToCommentIntensivity",value:function(e){this.tweetsIntensivity=e,lD(this.loginNameTwitter,e)}},{key:"updateIsAutometed",value:function(e){this.isAutomated=e,hD(this.loginNameTwitter,e)}},{key:"updatePersonality",value:function(e){this.personality=e,pD(this.loginNameTwitter,e)}}]),e}(),mD=vD,yD=function(){var e=c(u().mark((function e(t){var n,r,i,a,o,s,c,l,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,gP(t);case 3:return r=e.sent,e.next=6,wP(t);case 6:return i=e.sent,e.next=9,xP(t);case 9:return a=e.sent,e.next=12,TP(t);case 12:return o=e.sent,e.next=15,IP(t);case 15:return s=e.sent,e.next=18,CP(t);case 18:return c=e.sent,e.next=21,AP(t);case 21:return l=e.sent,e.next=24,DP(t);case 24:return f=e.sent,null===r||void 0===r||r.forEach((function(e){var t,r,u,h,d,p,v,m,y,g,k=new mD(e.id,e.email,e.loginnametwitter,e.isautomated,e.personality,(null===(t=i.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===t?void 0:t.tweetsintensivity)||5,(null===(r=a.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===r?void 0:r.tweetsTime)||[],(null===(u=i.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===u?void 0:u.likesintensivity)||5,(null===(h=o.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===h?void 0:h.likesTime)||[],(null===(d=i.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===d?void 0:d.retweetsintensivity)||5,(null===(p=s.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===p?void 0:p.retweetsTime)||[],(null===(v=i.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===v?void 0:v.commentsintensivity)||5,(null===(m=c.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===m?void 0:m.commentsTime)||[],(null===(y=l.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===y?void 0:y.usercontent)||[],(null===(g=f.find((function(t){return t.loginnametwitter===e.loginnametwitter})))||void 0===g?void 0:g.usercontent)||[]);n.push(k)})),console.log(n),e.abrupt("return",n);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gD=yD;function kD(){return kD=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kD.apply(this,arguments)}var wD,bD="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,xD={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},_D=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],TD=function(e,t,n,r,i){var a=i.offsetX,o=i.offsetY,u=r?8:0,s=n.split(" "),c=e.top+e.height/2,l=e.left+e.width/2,f=t.height,h=t.width,d=c-f/2,p=l-h/2,v="",m="0%",y="0%";switch(s[0]){case"top":d-=f/2+e.height/2+u,v="rotate(180deg)  translateX(50%)",m="100%",y="50%";break;case"bottom":d+=f/2+e.height/2+u,v="rotate(0deg) translateY(-100%) translateX(-50%)",y="50%";break;case"left":p-=h/2+e.width/2+u,v=" rotate(90deg)  translateY(50%) translateX(-25%)",y="100%",m="50%";break;case"right":p+=h/2+e.width/2+u,v="rotate(-90deg)  translateY(-150%) translateX(25%)",m="50%"}switch(s[1]){case"top":d=e.top,m=e.height/2+"px";break;case"bottom":d=e.top-f+e.height,m=f-e.height/2+"px";break;case"left":p=e.left,y=e.width/2+"px";break;case"right":p=e.left-h+e.width,y=h-e.width/2+"px"}return{top:d="top"===s[0]?d-o:d+o,left:p="left"===s[0]?p-a:p+a,transform:v,arrowLeft:y,arrowTop:m}},ED=function(e,t,n,r,i,a){var o=i.offsetX,u=i.offsetY,s={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},c=0,l=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"===typeof e){var n=document.querySelector(e);null!==n&&(t=n.getBoundingClientRect())}return t}(a),f=Array.isArray(n)?n:[n];for((a||Array.isArray(n))&&(f=[].concat(f,_D));c<f.length;){var h={top:(s=TD(e,t,f[c],r,{offsetX:o,offsetY:u})).top,left:s.left,width:t.width,height:t.height};if(!(h.top<=l.top||h.left<=l.left||h.top+h.height>=l.top+l.height||h.left+h.width>=l.left+l.width))break;c++}return s},ID=0,SD=(0,r.forwardRef)((function(e,t){var n=e.trigger,i=void 0===n?null:n,a=e.onOpen,o=void 0===a?function(){}:a,u=e.onClose,s=void 0===u?function(){}:u,c=e.defaultOpen,l=void 0!==c&&c,f=e.open,h=void 0===f?void 0:f,d=e.disabled,p=void 0!==d&&d,v=e.nested,m=void 0!==v&&v,y=e.closeOnDocumentClick,g=void 0===y||y,k=e.repositionOnResize,w=void 0===k||k,b=e.closeOnEscape,x=void 0===b||b,_=e.on,T=void 0===_?["click"]:_,E=e.contentStyle,I=void 0===E?{}:E,S=e.arrowStyle,C=void 0===S?{}:S,N=e.overlayStyle,A=void 0===N?{}:N,P=e.className,D=void 0===P?"":P,O=e.position,R=void 0===O?"bottom center":O,L=e.modal,F=void 0!==L&&L,M=e.lockScroll,j=void 0!==M&&M,U=e.arrow,V=void 0===U||U,B=e.offsetX,z=void 0===B?0:B,q=e.offsetY,G=void 0===q?0:q,K=e.mouseEnterDelay,H=void 0===K?100:K,W=e.mouseLeaveDelay,Q=void 0===W?100:W,Y=e.keepTooltipInside,J=void 0!==Y&&Y,X=e.children,$=(0,r.useState)(h||l),Z=$[0],ee=$[1],te=(0,r.useRef)(null),ne=(0,r.useRef)(null),re=(0,r.useRef)(null),ie=(0,r.useRef)(null),ae=(0,r.useRef)("popup-"+ ++ID),oe=!!F||!i,ue=(0,r.useRef)(0);bD((function(){return Z?(ie.current=document.activeElement,ke(),me(),pe()):ve(),function(){clearTimeout(ue.current)}}),[Z]),(0,r.useEffect)((function(){"boolean"===typeof h&&(h?se():ce())}),[h,p]);var se=function(e){Z||p||(ee(!0),setTimeout((function(){return o(e)}),0))},ce=function(e){var t;Z&&!p&&(ee(!1),oe&&(null===(t=ie.current)||void 0===t||t.focus()),setTimeout((function(){return s(e)}),0))},le=function(e){null===e||void 0===e||e.stopPropagation(),Z?ce(e):se(e)},fe=function(e){clearTimeout(ue.current),ue.current=setTimeout((function(){return se(e)}),H)},he=function(e){null===e||void 0===e||e.preventDefault(),le()},de=function(e){clearTimeout(ue.current),ue.current=setTimeout((function(){return ce(e)}),Q)},pe=function(){oe&&j&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},ve=function(){oe&&j&&(document.getElementsByTagName("body")[0].style.overflow="auto")},me=function(){var e,t=null===ne||void 0===ne||null===(e=ne.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),n=Array.prototype.slice.call(t)[0];null===n||void 0===n||n.focus()};(0,r.useImperativeHandle)(t,(function(){return{open:function(){se()},close:function(){ce()},toggle:function(){le()}}}));var ye,ge,ke=function(){if(!oe&&Z&&(null===te||void 0===te?void 0:te.current)&&(null===te||void 0===te?void 0:te.current)&&(null===ne||void 0===ne?void 0:ne.current)){var e,t,n=te.current.getBoundingClientRect(),r=ne.current.getBoundingClientRect(),i=ED(n,r,R,V,{offsetX:z,offsetY:G},J);if(ne.current.style.top=i.top+window.scrollY+"px",ne.current.style.left=i.left+window.scrollX+"px",V&&re.current)re.current.style.transform=i.transform,re.current.style.setProperty("-ms-transform",i.transform),re.current.style.setProperty("-webkit-transform",i.transform),re.current.style.top=(null===(e=C.top)||void 0===e?void 0:e.toString())||i.arrowTop,re.current.style.left=(null===(t=C.left)||void 0===t?void 0:t.toString())||i.arrowLeft}};ye=ce,void 0===(ge=x)&&(ge=!0),(0,r.useEffect)((function(){if(ge){var e=function(e){"Escape"===e.key&&ye(e)};return document.addEventListener("keyup",e),function(){ge&&document.removeEventListener("keyup",e)}}}),[ye,ge]),function(e,t){void 0===t&&(t=!0),(0,r.useEffect)((function(){if(t){var n=function(t){if(9===t.keyCode){var n,r=null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(r);if(1===i.length)return void t.preventDefault();var a=i[0],o=i[i.length-1];t.shiftKey&&document.activeElement===a?(t.preventDefault(),o.focus()):document.activeElement===o&&(t.preventDefault(),a.focus())}};return document.addEventListener("keydown",n),function(){t&&document.removeEventListener("keydown",n)}}}),[e,t])}(ne,Z&&oe),function(e,t){void 0===t&&(t=!0),(0,r.useEffect)((function(){if(t){var n=function(){e()};return window.addEventListener("resize",n),function(){t&&window.removeEventListener("resize",n)}}}),[e,t])}(ke,w),function(e,t,n){void 0===n&&(n=!0),(0,r.useEffect)((function(){if(n){var r=function(n){var r=Array.isArray(e)?e:[e],i=!1;r.forEach((function(e){e.current&&!e.current.contains(n.target)||(i=!0)})),n.stopPropagation(),i||t(n)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),function(){n&&(document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r))}}}),[e,t,n])}(i?[ne,te]:[ne],ce,g&&!m);var we=function(){return r.createElement("div",Object.assign({},function(){var e=oe?xD.popupContent.modal:xD.popupContent.tooltip,t={className:"popup-content "+(""!==D?D.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:kD({},e,I,{pointerEvents:"auto"}),ref:ne,onClick:function(e){e.stopPropagation()}};return!F&&T.indexOf("hover")>=0&&(t.onMouseEnter=fe,t.onMouseLeave=de),t}(),{key:"C",role:oe?"dialog":"tooltip",id:ae.current}),V&&!oe&&r.createElement("div",{ref:re,style:xD.popupArrow},r.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==D?D.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:kD({position:"absolute"},C)},r.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),X&&"function"===typeof X?X(ce,Z):X)},be=!(T.indexOf("hover")>=0),xe=oe?xD.overlay.modal:xD.overlay.tooltip,_e=[be&&r.createElement("div",{key:"O","data-testid":"overlay","data-popup":oe?"modal":"tooltip",className:"popup-overlay "+(""!==D?D.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:kD({},xe,A,{pointerEvents:g&&m||oe?"auto":"none"}),onClick:g&&m?ce:void 0,tabIndex:-1},oe&&we()),!oe&&we()];return r.createElement(r.Fragment,null,function(){for(var e={key:"T",ref:te,"aria-describedby":ae.current},t=Array.isArray(T)?T:[T],n=0,a=t.length;n<a;n++)switch(t[n]){case"click":e.onClick=le;break;case"right-click":e.onContextMenu=he;break;case"hover":e.onMouseEnter=fe,e.onMouseLeave=de;break;case"focus":e.onFocus=fe,e.onBlur=de}if("function"===typeof i){var o=i(Z);return!!i&&r.cloneElement(o,e)}return!!i&&r.cloneElement(i,e)}(),Z&&kN.createPortal(_e,function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e}()))})),CD=SD,ND=new Uint8Array(16);function AD(){if(!wD&&!(wD="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wD(ND)}var PD=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var DD=function(e){return"string"===typeof e&&PD.test(e)},OD=[],RD=0;RD<256;++RD)OD.push((RD+256).toString(16).substr(1));var LD=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(OD[e[t+0]]+OD[e[t+1]]+OD[e[t+2]]+OD[e[t+3]]+"-"+OD[e[t+4]]+OD[e[t+5]]+"-"+OD[e[t+6]]+OD[e[t+7]]+"-"+OD[e[t+8]]+OD[e[t+9]]+"-"+OD[e[t+10]]+OD[e[t+11]]+OD[e[t+12]]+OD[e[t+13]]+OD[e[t+14]]+OD[e[t+15]]).toLowerCase();if(!DD(n))throw TypeError("Stringified UUID is invalid");return n};var FD=function(e,t,n){var r=(e=e||{}).random||(e.rng||AD)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return LD(r)};var MD=function(e){var t=e.loginNameTwitter,n=e.purpose,i=e.hours,a=e.minutes,o=e.twitterAccounts,s=e.setTwitterAccounts,l=p((0,r.useState)(!1),2),f=l[0],h=l[1],d=p((0,r.useState)({}),2),v=d[0],y=d[1],g=p((0,r.useState)(i),2),k=g[0],w=g[1],b=p((0,r.useState)(a),2),x=b[0],_=b[1],T=o.find((function(e){return e.loginNameTwitter===t})),E=function(){var e=c(u().mark((function e(t,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=n,e.next="tweet"===e.t0?4:"like"===e.t0?6:"retweet"===e.t0?8:"comment"===e.t0?10:12;break;case 4:return T&&"function"===typeof T.removeTimesToTweet&&T.removeTimesToTweet(t,r),e.abrupt("break",13);case 6:return T&&"function"===typeof T.removeTimesToLike&&T.removeTimesToLike(t,r),e.abrupt("break",13);case 8:return T&&"function"===typeof T.removeTimesToRetweet&&T.removeTimesToRetweet(t,r),e.abrupt("break",13);case 10:return T&&"function"===typeof T.removeTimesToComment&&T.removeTimesToComment(t,r),e.abrupt("break",13);case 12:return e.abrupt("break",13);case 13:s(m(o)),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),console.error(e.t1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=c(u().mark((function e(t,r,i,a){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=n,e.next="tweet"===e.t0?4:"like"===e.t0?6:"retweet"===e.t0?8:"comment"===e.t0?10:12;break;case 4:return T&&"function"===typeof T.updateTimesToTweet&&T.updateTimesToTweet(t,r,i,a),e.abrupt("break",13);case 6:return T&&"function"===typeof T.updateTimesToLike&&T.updateTimesToLike(t,r,i,a),e.abrupt("break",13);case 8:return T&&"function"===typeof T.updateTimesToRetweet&&T.updateTimesToRetweet(t,r,i,a),e.abrupt("break",13);case 10:return T&&"function"===typeof T.updateTimesToComment&&T.updateTimesToComment(t,r,i,a),e.abrupt("break",13);case 12:return e.abrupt("break",13);case 13:e.next=18;break;case 15:e.prev=15,e.t1=e.catch(0),console.error(e.t1);case 18:h(!f),s(m(o));case 20:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r,i){return e.apply(this,arguments)}}();return(0,xC.jsx)("li",{children:f?(0,xC.jsxs)("div",{className:"setting-li-editing",children:[(0,xC.jsx)("input",{type:"number",name:"hours",value:v.hours||"",defaultValue:i,onChange:function(e){var t=Number(e.target.value);t>=0&&t<=23?(w(t),y(Gt(Gt({},v),{},{hours:t}))):alert("Please enter a valid time in the format HH:MM")},autoFocus:!0,min:"0",max:"23"}),(0,xC.jsx)("input",{type:"number",name:"minutes",value:v.minutes||"",defaultValue:a,onChange:function(e){var t=Number(e.target.value);t>=0&&t<=59?(_(t),y(Gt(Gt({},v),{},{minutes:t}))):alert("Please enter a valid time in the format HH:MM")},autoFocus:!0,min:"0",max:"59"}),(0,xC.jsx)("button",{className:"setting-edit-input-button",onClick:function(){I(i,a,k,x)},children:"\u2705"})]}):(0,xC.jsxs)("div",{className:"setting-li-element",children:[(0,xC.jsxs)("p",{children:[i,":",a]}),(0,xC.jsx)("button",{className:"button-li",onClick:function(){!function(e,t){y({hours:e,minutes:t}),h(!f)}(i,a)},children:"\u270d\ufe0f"}),(0,xC.jsx)("button",{className:"button-li",onClick:function(){E(i,a)},children:"\u274c"})]})},FD())};var jD=function(e){var t=e.loginNameTwitter,n=e.purpose,r=e.howMany,i=e.twitterAccounts,a=e.setTwitterAccounts,o=i.find((function(e){return e.loginNameTwitter===t})),s=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,e.t0=n,e.next="tweet"===e.t0?4:"like"===e.t0?6:"retweet"===e.t0?8:"comment"===e.t0?10:12;break;case 4:return o&&"function"===typeof o.updateTimesToTweetIntensivity&&o.updateTimesToTweetIntensivity(t),e.abrupt("break",13);case 6:return o&&"function"===typeof o.updateTimesToLikeIntensivity&&o.updateTimesToLikeIntensivity(t),e.abrupt("break",13);case 8:return o&&"function"===typeof o.updateTimesToRetweetIntensivity&&o.updateTimesToRetweetIntensivity(t),e.abrupt("break",13);case 10:return o&&"function"===typeof o.updateTimesToCommentIntensivity&&o.updateTimesToCommentIntensivity(t),e.abrupt("break",13);case 12:return e.abrupt("break",13);case 13:a(m(i)),e.next=19;break;case 16:e.prev=16,e.t1=e.catch(0),console.error(e.t1);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,xC.jsxs)("div",{className:"SettingCard-container",children:[(0,xC.jsxs)("select",{name:"intensivity_setter",id:"",onChange:function(e){return s(Number(e.target.value))},defaultValue:function(){try{switch(n){case"tweet":return null===o||void 0===o?void 0:o.tweetsIntensivity;case"like":return null===o||void 0===o?void 0:o.likesIntensivity;case"retweet":return null===o||void 0===o?void 0:o.retweetsIntensivity;case"comment":return null===o||void 0===o?void 0:o.commentsIntensivity}}catch(e){console.error(e)}}(),children:[(0,xC.jsxs)("option",{value:1,children:[n," intensivity low"]}),(0,xC.jsxs)("option",{value:5,children:[n," intensivity medium"]}),(0,xC.jsxs)("option",{value:10,children:[n," intensivity high"]}),(0,xC.jsxs)("option",{value:0,children:[n," OFF"]})]}),(0,xC.jsxs)("p",{children:["I am gonna ",e.purpose," at:"]}),(0,xC.jsx)("ul",{children:r.length>0&&r.map((function(e){return(0,xC.jsx)(MD,{loginNameTwitter:t,purpose:n,hours:e.hours,minutes:e.minutes,twitterAccounts:i,setTwitterAccounts:a},FD())}))})]})},UD=function(){var e=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,username:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/check_User_Name_Used_For_Tweets",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:if(null!==(i=e.sent)&&void 0!==i&&i.payload){e.next=7;break}throw new Error("No response from API");case 7:return a=i.payload[0].exists,e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),VD=UD,BD=function(){var e=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,username:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/check_User_Content",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:if(null!==(i=e.sent)&&void 0!==i&&i.payload){e.next=7;break}throw new Error("No response from API");case 7:return a=i.payload[0].exists,e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),zD=BD;var qD=function(e){var t=e.loginNameTwitter,n=e.purpose,i=e.funcionallity,a=e.twitterAccounts,o=e.setTwitterAccounts,s=p((0,r.useState)([]),2),l=s[0],f=s[1],h=p((0,r.useState)(""),2),d=h[0],v=h[1],y=p((0,r.useState)(!1),2),g=y[0],k=y[1],w=TC().currentUser,b=a.find((function(e){return e.loginNameTwitter===t})),x=function(){var e=c(u().mark((function e(){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==d){e.next=2;break}return e.abrupt("return");case 2:e.t0=i,e.next="UserNameUsedForTweets"===e.t0?5:"UserContent"===e.t0?9:13;break;case 5:return e.next=7,VD(t,d);case 7:return n=e.sent,e.abrupt("break",14);case 9:return e.next=11,zD(t,d);case 11:return n=e.sent,e.abrupt("break",14);case 13:console.error("No functionallity passed");case 14:if(!n){e.next=17;break}return k(!0),e.abrupt("return");case 17:f([].concat(m(l),[{email:w.email,loginnametwitter:t,usernameusedfortweets:d}])),v(""),k(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=c(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(l.length<1)||d){e.next=3;break}return e.abrupt("return");case 3:r={formData:m(l)},d&&r.formData.push({email:w.email,loginnametwitter:t,usernameusedfortweets:d}),e.prev=5,e.t0=i,e.next="UserNameUsedForTweets"===e.t0?9:"UserContent"===e.t0?11:13;break;case 9:return b&&"function"===typeof b.addUsernameForTweets&&(b.addUsernameForTweets(r),o(m(a))),e.abrupt("break",14);case 11:return b&&"function"===typeof b.addUserContent&&b.addUserContent(r),e.abrupt("break",14);case 13:console.error("No functionallity passed");case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(5),console.error(e.t1);case 19:o(m(a)),f([]),v(""),k(!1);case 23:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t){return e.apply(this,arguments)}}();return(0,xC.jsxs)("div",{className:"FormUserContent-container",children:[(0,xC.jsxs)("p",{children:["Add Twitter Username to ",n," from"]}),(0,xC.jsxs)("form",{children:[(0,xC.jsx)("input",{type:"text",placeholder:"Twitter Username",value:d,onChange:function(e){return v(e.target.value)}}),(0,xC.jsx)("button",{type:"button",onClick:function(){return x()},children:"Add next"}),(0,xC.jsx)("button",{onClick:function(e){return _(e)},children:"Submit"})]}),g&&(0,xC.jsx)("p",{children:"Twitter Username already added."}),(0,xC.jsx)("div",{className:"FormUserContent-elements-container",children:l.length>0&&l.map((function(e,t){return(0,xC.jsxs)("div",{className:"FormUserContent-element",children:[(0,xC.jsx)("p",{children:e.usernameusedfortweets}),(0,xC.jsx)("button",{className:"button-FormUserContent-element",onClick:function(){return function(e){var t=m(l);t.splice(e,1),f(t)}(t)},children:"X"})]},FD())}))})]})};var GD=function(e){var t=e.username,n=e.purpose,r=e.loginNameTwitter,i=e.twitterAccounts,a=e.setTwitterAccounts,o=function(){var e=c(u().mark((function e(t,r){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=i.find((function(e){return e.loginNameTwitter===t})),e.t0=n,e.next="rephrasing tweets"===e.t0?4:"like/comment/retweet"===e.t0?6:8;break;case 4:return o&&"function"===typeof o.removeUsernameFromTweets&&o.removeUsernameFromTweets(r),e.abrupt("break",9);case 6:return o&&"function"===typeof o.removeUserContent&&o.removeUserContent(r),e.abrupt("break",9);case 8:console.error("No functionality passed");case 9:a(m(i));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,xC.jsxs)("li",{children:[t,(0,xC.jsx)("button",{className:"button-li",onClick:function(){o(r,t)},children:"\u274c"})]},FD())};var KD=function(e){var t=e.loginNameTwitter,n=e.purpose,r=e.names,i=e.twitterAccounts,a=e.setTwitterAccounts;return(0,xC.jsxs)("div",{className:"List-name-container",children:[(0,xC.jsxs)("p",{children:["List of Twitter accounts used for ",n," from:"]}),(0,xC.jsx)("ul",{children:r.map((function(e){return(0,xC.jsx)(GD,{purpose:n,username:e,loginNameTwitter:t,twitterAccounts:i,setTwitterAccounts:a},FD())}))})]})};var HD=function(e){var t=e.loginNameTwitter,n=e.twitterAccounts,r=e.setTwitterAccounts,i=e.personalityList,a=n.find((function(e){return e.loginNameTwitter===t})),o=function(){return(null===a||void 0===a?void 0:a.personality)||""};return(0,xC.jsxs)("div",{className:"Personality-container",children:[(0,xC.jsx)("p",{children:"Your accont personality"}),(0,xC.jsx)("select",{name:"personality_setter",id:"",onChange:function(e){return t=String(e.target.value),void(a&&"function"===typeof a.updatePersonality&&(a.updatePersonality(t),r(m(n)),o()));var t},value:o(),children:i.map((function(e){return(0,xC.jsx)("option",{value:e,children:e},FD())}))})]})};var WD=function(e){var t=e.loginNameTwitter,n=e.email,i=e.isAutomated,a=e.timesToTweet,o=e.timesToLike,s=e.timesToRetweet,l=e.timesToComment,f=e.usernameForTweets,h=e.usernameForContent,d=e.twitterAccounts,p=e.setTwitterAccounts,v=e.personalityList,y=(0,r.useRef)(),g=d.find((function(e){return e.loginNameTwitter===t})),k=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation();try{g&&"function"===typeof g.updateIsAutometed&&(g.updateIsAutometed(!i),p(m(d)))}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,xC.jsxs)("div",{className:"Card-container",children:[(0,xC.jsx)("p",{children:t}),(0,xC.jsx)("button",{type:"button",onClick:function(){return y.current.open()},children:"open"}),(0,xC.jsxs)("div",{className:"Card-automation-container",children:[(0,xC.jsx)("p",{children:i?"AUTOMATED":"NOTAUTOMATED"}),(0,xC.jsx)("button",{className:"Card-automation-button",onClick:k,children:i?"TURN OFF":"TURN ON"})]}),(0,xC.jsxs)("p",{children:["Personality: ",(0,xC.jsx)("br",{}),null===g||void 0===g?void 0:g.personality]}),(0,xC.jsx)(CD,{ref:y,children:(0,xC.jsxs)("div",{className:"Card-popup-container",children:[(0,xC.jsxs)("div",{className:"Card-popup-container-header",children:[(0,xC.jsx)("h1",{children:t}),(0,xC.jsx)("p",{children:n}),(0,xC.jsx)("div",{className:"Card-popup-automation-container"})]}),(0,xC.jsxs)("div",{className:"Card-settings-container",children:[(0,xC.jsx)(jD,{loginNameTwitter:t,purpose:"tweet",howMany:a,twitterAccounts:d,setTwitterAccounts:p}),(0,xC.jsx)(jD,{loginNameTwitter:t,purpose:"like",howMany:o,twitterAccounts:d,setTwitterAccounts:p}),(0,xC.jsx)(jD,{loginNameTwitter:t,purpose:"retweet",howMany:s,twitterAccounts:d,setTwitterAccounts:p}),(0,xC.jsx)(jD,{loginNameTwitter:t,purpose:"comment",howMany:l,twitterAccounts:d,setTwitterAccounts:p})]}),(0,xC.jsxs)("div",{className:"Card-forms-container",children:[(0,xC.jsx)(HD,{loginNameTwitter:t,twitterAccounts:d,setTwitterAccounts:p,personalityList:v}),(0,xC.jsxs)("div",{className:"Form-and-list-container",children:[(0,xC.jsx)(qD,{purpose:"rephrase tweets",loginNameTwitter:t,funcionallity:"UserNameUsedForTweets",twitterAccounts:d,setTwitterAccounts:p}),(0,xC.jsx)(KD,{names:f,loginNameTwitter:t,purpose:"rephrasing tweets",twitterAccounts:d,setTwitterAccounts:p})]}),(0,xC.jsxs)("div",{className:"Form-and-list-container",children:[(0,xC.jsx)(qD,{purpose:"like/comment/retweet",loginNameTwitter:t,funcionallity:"UserContent",twitterAccounts:d,setTwitterAccounts:p}),(0,xC.jsx)(KD,{names:h,loginNameTwitter:t,purpose:"like/comment/retweet",twitterAccounts:d,setTwitterAccounts:p})]})]}),(0,xC.jsx)("button",{type:"button",className:"Card closeButton",onClick:function(){return y.current.close()},children:"close"})]})})]})},QD=function(){var e=c(u().mark((function e(t,n){var r,i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={loginNameTwitter:t,passwordTwitter:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/check_Login_Data",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:if(null!==(i=e.sent)&&void 0!==i&&i.payload){e.next=7;break}throw new Error("No response from API");case 7:return a=i.payload[0].exists,e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),YD=QD,JD=function(){var e=c(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={email:t,loginNameTwitter:n,passwordTwitter:r},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/database/insert_login_Data",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(i)});case 4:e.next=10;break;case 6:throw e.prev=6,e.t0=e.catch(1),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n,r){return e.apply(this,arguments)}}(),XD=JD,$D=["name"],ZD=["_f"],eO=["_f"],tO=function(e){return"checkbox"===e.type},nO=function(e){return e instanceof Date},rO=function(e){return null==e},iO=function(e){return"object"===typeof e},aO=function(e){return!rO(e)&&!Array.isArray(e)&&iO(e)&&!nO(e)},oO=function(e){return aO(e)&&e.target?tO(e.target)?e.target.checked:e.target.value:e},uO=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},sO=function(e){var t=e.constructor&&e.constructor.prototype;return aO(t)&&t.hasOwnProperty("isPrototypeOf")},cO="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function lO(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(cO&&(e instanceof Blob||e instanceof FileList)||!n&&!aO(e))return e;if(t=n?[]:{},n||sO(e))for(var r in e)e.hasOwnProperty(r)&&(t[r]=lO(e[r]));else t=e}return t}var fO=function(e){return Array.isArray(e)?e.filter(Boolean):[]},hO=function(e){return void 0===e},dO=function(e,t,n){if(!t||!aO(e))return n;var r=fO(t.split(/[,[\].]+?/)).reduce((function(e,t){return rO(e)?e:e[t]}),e);return hO(r)||r===e?hO(e[t])?n:e[t]:r},pO={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},vO={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},mO="max",yO="min",gO="maxLength",kO="minLength",wO="pattern",bO="required",xO="validate",_O=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},a=function(a){Object.defineProperty(i,a,{get:function(){var i=a;return t._proxyFormState[i]!==vO.all&&(t._proxyFormState[i]=!r||vO.all),n&&(n[i]=!0),e[i]}})};for(var o in e)a(o);return i}),TO=function(e){return aO(e)&&!Object.keys(e).length},EO=function(e,t,n,r){n(e);e.name;var i=SC(e,$D);return TO(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||vO.all)}))},IO=function(e){return Array.isArray(e)?e:[e]};function SO(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var CO=function(e){return"string"===typeof e},NO=function(e,t,n,r,i){return CO(e)?(r&&t.watch.add(e),dO(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),dO(n,e)})):(r&&(t.watchAll=!0),n)};var AO=function(e){return/^\w*$/.test(e)},PO=function(e){return fO(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function DO(e,t,n){for(var r=-1,i=AO(t)?[t]:PO(t),a=i.length,o=a-1;++r<a;){var u=i[r],s=n;if(r!==o){var c=e[u];s=aO(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var OO=function(e,t,n,r,i){return t?Gt(Gt({},n[e]),{},{types:Gt(Gt({},n[e]&&n[e].types?n[e].types:{}),{},et({},r,i||!0))}):{}},RO=function e(t,n,r){var i,a=A(r||Object.keys(t));try{for(a.s();!(i=a.n()).done;){var o=i.value,u=dO(t,o);if(u){var s=u._f,c=SC(u,ZD);if(s&&n(s.name)){if(s.ref.focus){s.ref.focus();break}if(s.refs&&s.refs[0].focus){s.refs[0].focus();break}}else aO(c)&&e(c,n)}}}catch(l){a.e(l)}finally{a.f()}},LO=function(e){return{isOnSubmit:!e||e===vO.onSubmit,isOnBlur:e===vO.onBlur,isOnChange:e===vO.onChange,isOnAll:e===vO.all,isOnTouch:e===vO.onTouched}},FO=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||m(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},MO=function(e,t,n){var r=fO(dO(e,n));return DO(r,"root",t[n]),DO(e,n,r),e},jO=function(e){return"boolean"===typeof e},UO=function(e){return"file"===e.type},VO=function(e){return"function"===typeof e},BO=function(e){if(!cO)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zO=function(e){return CO(e)},qO=function(e){return"radio"===e.type},GO=function(e){return e instanceof RegExp},KO={value:!1,isValid:!1},HO={value:!0,isValid:!0},WO=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!hO(e[0].attributes.value)?hO(e[0].value)||""===e[0].value?HO:{value:e[0].value,isValid:!0}:HO:KO}return KO},QO={isValid:!1,value:null},YO=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),QO):QO};function JO(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(zO(e)||Array.isArray(e)&&e.every(zO)||jO(e)&&!e)return{type:n,message:zO(e)?e:"",ref:t}}var XO=function(e){return aO(e)&&!GO(e)?e:{value:e,message:""}},$O=function(){var e=c(u().mark((function e(t,n,r,i,a){var o,s,c,l,f,h,d,p,v,m,y,g,k,w,b,x,_,T,E,I,S,C,N,A,P,D,O,R,L,F,M,j,U,V,B,z,q,G,K,H,W,Q,Y,J,X,$,Z,ee;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,s=o.ref,c=o.refs,l=o.required,f=o.maxLength,h=o.minLength,d=o.min,p=o.max,v=o.pattern,m=o.validate,y=o.name,g=o.valueAsNumber,k=o.mount,w=o.disabled,b=dO(n,y),k&&!w){e.next=4;break}return e.abrupt("return",{});case 4:if(x=c?c[0]:s,_=function(e){i&&x.reportValidity&&(x.setCustomValidity(jO(e)?"":e||""),x.reportValidity())},T={},E=qO(s),I=tO(s),S=E||I,C=(g||UO(s))&&hO(s.value)&&hO(b)||BO(s)&&""===s.value||""===b||Array.isArray(b)&&!b.length,N=OO.bind(null,y,r,T),A=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:gO,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:kO,a=e?t:n;T[y]=Gt({type:e?r:i,message:a,ref:s},N(e?r:i,a))},!(a?!Array.isArray(b)||!b.length:l&&(!S&&(C||rO(b))||jO(b)&&!b||I&&!WO(c).isValid||E&&!YO(c).isValid))){e.next=20;break}if(P=zO(l)?{value:!!l,message:l}:XO(l),D=P.value,O=P.message,!D){e.next=20;break}if(T[y]=Gt({type:bO,message:O,ref:x},N(bO,O)),r){e.next=20;break}return _(O),e.abrupt("return",T);case 20:if(C||rO(d)&&rO(p)){e.next=29;break}if(F=XO(p),M=XO(d),rO(b)||isNaN(b)?(U=s.valueAsDate||new Date(b),V=function(e){return new Date((new Date).toDateString()+" "+e)},B="time"==s.type,z="week"==s.type,CO(F.value)&&b&&(R=B?V(b)>V(F.value):z?b>F.value:U>new Date(F.value)),CO(M.value)&&b&&(L=B?V(b)<V(M.value):z?b<M.value:U<new Date(M.value))):(j=s.valueAsNumber||(b?+b:b),rO(F.value)||(R=j>F.value),rO(M.value)||(L=j<M.value)),!R&&!L){e.next=29;break}if(A(!!R,F.message,M.message,mO,yO),r){e.next=29;break}return _(T[y].message),e.abrupt("return",T);case 29:if(!f&&!h||C||!(CO(b)||a&&Array.isArray(b))){e.next=39;break}if(q=XO(f),G=XO(h),K=!rO(q.value)&&b.length>+q.value,H=!rO(G.value)&&b.length<+G.value,!K&&!H){e.next=39;break}if(A(K,q.message,G.message),r){e.next=39;break}return _(T[y].message),e.abrupt("return",T);case 39:if(!v||C||!CO(b)){e.next=46;break}if(W=XO(v),Q=W.value,Y=W.message,!GO(Q)||b.match(Q)){e.next=46;break}if(T[y]=Gt({type:wO,message:Y,ref:s},N(wO,Y)),r){e.next=46;break}return _(Y),e.abrupt("return",T);case 46:if(!m){e.next=80;break}if(!VO(m)){e.next=59;break}return e.next=50,m(b,n);case 50:if(J=e.sent,!(X=JO(J,x))){e.next=57;break}if(T[y]=Gt(Gt({},X),N(xO,X.message)),r){e.next=57;break}return _(X.message),e.abrupt("return",T);case 57:e.next=80;break;case 59:if(!aO(m)){e.next=80;break}$={},e.t0=u().keys(m);case 62:if((e.t1=e.t0()).done){e.next=76;break}if(Z=e.t1.value,TO($)||r){e.next=66;break}return e.abrupt("break",76);case 66:return e.t2=JO,e.next=69,m[Z](b,n);case 69:e.t3=e.sent,e.t4=x,e.t5=Z,(ee=(0,e.t2)(e.t3,e.t4,e.t5))&&($=Gt(Gt({},ee),N(Z,ee.message)),_(ee.message),r&&(T[y]=$)),e.next=62;break;case 76:if(TO($)){e.next=80;break}if(T[y]=Gt({ref:x},$),r){e.next=80;break}return e.abrupt("return",T);case 80:return _(!0),e.abrupt("return",T);case 82:case"end":return e.stop()}}),e)})));return function(t,n,r,i,a){return e.apply(this,arguments)}}();function ZO(e,t){var n=Array.isArray(t)?t:AO(t)?[t]:PO(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=hO(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,a=n[i];return r&&delete r[a],0!==i&&(aO(r)&&TO(r)||Array.isArray(r)&&function(e){for(var t in e)if(e.hasOwnProperty(t)&&!hO(e[t]))return!1;return!0}(r))&&ZO(e,n.slice(0,-1)),e}function eR(){var e=[];return{get observers(){return e},next:function(t){var n,r=A(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.next&&i.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var tR=function(e){return rO(e)||!iO(e)};function nR(e,t){if(tR(e)||tR(t))return e===t;if(nO(e)&&nO(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,a=n;i<a.length;i++){var o=a[i],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(nO(u)&&nO(s)||aO(u)&&aO(s)||Array.isArray(u)&&Array.isArray(s)?!nR(u,s):u!==s)return!1}}return!0}var rR=function(e){return"select-multiple"===e.type},iR=function(e){return qO(e)||tO(e)},aR=function(e){return BO(e)&&e.isConnected},oR=function(e){for(var t in e)if(VO(e[t]))return!0;return!1};function uR(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(aO(e)||n)for(var r in e)Array.isArray(e[r])||aO(e[r])&&!oR(e[r])?(t[r]=Array.isArray(e[r])?[]:{},uR(e[r],t[r])):rO(e[r])||(t[r]=!0);return t}function sR(e,t,n){var r=Array.isArray(e);if(aO(e)||r)for(var i in e)Array.isArray(e[i])||aO(e[i])&&!oR(e[i])?hO(t)||tR(n[i])?n[i]=Array.isArray(e[i])?uR(e[i],[]):Gt({},uR(e[i])):sR(e[i],rO(t)?{}:t[i],n[i]):n[i]=!nR(e[i],t[i]);return n}var cR=function(e,t){return sR(e,t,uR(t))},lR=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return hO(e)?e:n?""===e?NaN:e?+e:e:r&&CO(e)?new Date(e):i?i(e):e};function fR(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return UO(t)?t.files:qO(t)?YO(e.refs).value:rR(t)?m(t.selectedOptions).map((function(e){return e.value})):tO(t)?WO(e.refs).value:lR(hO(t.value)?e.ref.value:t.value,e)}var hR=function(e,t,n,r){var i,a={},o=A(e);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=dO(t,u);s&&DO(a,u,s._f)}}catch(c){o.e(c)}finally{o.f()}return{criteriaMode:n,names:m(e),fields:a,shouldUseNativeValidation:r}},dR=function(e){return hO(e)?e:GO(e)?e.source:aO(e)?GO(e.value)?e.value.source:e.value:e},pR=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function vR(e,t,n){var r=dO(e,n);if(r||AO(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var a=i.join("."),o=dO(t,a),u=dO(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(u&&u.type)return{name:a,error:u};i.pop()}return{name:n}}var mR=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},yR=function(e,t){return!fO(dO(e,t)).length&&ZO(e,t)},gR={mode:vO.onSubmit,reValidateMode:vO.onChange,shouldFocusError:!0};function kR(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=Gt(Gt({},gR),t),i={submitCount:0,isDirty:!1,isLoading:VO(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},a={},o=(aO(r.defaultValues)||aO(r.values))&&lO(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:lO(o),l={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},h=0,d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={values:eR(),array:eR(),state:eR()},v=t.resetOptions&&t.resetOptions.keepDirtyValues,y=LO(r.mode),g=LO(r.reValidateMode),k=r.criteriaMode===vO.all,w=function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.isValid&&!t){e.next=14;break}if(!r.resolver){e.next=9;break}return e.t1=TO,e.next=5,E();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,S(a,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==i.isValid&&p.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e){return d.isValidating&&p.state.next({isValidating:e})},x=function(e,t,n,r){var i=dO(a,e);if(i){var u=dO(s,e,hO(n)?dO(o,e):n);hO(u)||r&&r.defaultChecked||t?DO(s,e,t?u:fR(i._f)):P(e,u),l.mount&&w()}},_=function(e,t,n,r,a){var u=!1,s=!1,c={name:e};if(!n||r){d.isDirty&&(s=i.isDirty,i.isDirty=c.isDirty=C(),u=s!==c.isDirty);var l=nR(dO(o,e),t);s=dO(i.dirtyFields,e),l?ZO(i.dirtyFields,e):DO(i.dirtyFields,e,!0),c.dirtyFields=i.dirtyFields,u=u||d.dirtyFields&&s!==!l}if(n){var f=dO(i.touchedFields,e);f||(DO(i.touchedFields,e,n),c.touchedFields=i.touchedFields,u=u||d.touchedFields&&f!==n)}return u&&a&&p.state.next(c),u?c:{}},T=function(n,r,a,o){var u=dO(i.errors,n),s=d.isValid&&jO(r)&&i.isValid!==r;if(t.delayError&&a?(e=function(e){return function(t){clearTimeout(h),h=setTimeout(e,t)}}((function(){return function(e,t){DO(i.errors,e,t),p.state.next({errors:i.errors})}(n,a)})),e(t.delayError)):(clearTimeout(h),e=null,a?DO(i.errors,n,a):ZO(i.errors,n)),(a?!nR(u,a):u)||!TO(o)||s){var c=Gt(Gt(Gt({},o),s&&jO(r)?{isValid:r}:{}),{},{errors:i.errors,name:n});i=Gt(Gt({},i),c),p.state.next(c)}b(!1)},E=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.resolver(s,r.context,hR(t||f.mount,a,r.criteriaMode,r.shouldUseNativeValidation)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=c(u().mark((function e(t){var n,r,a,o,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:if(n=e.sent,r=n.errors,t){a=A(t);try{for(a.s();!(o=a.n()).done;)s=o.value,(c=dO(r,s))?DO(i.errors,s,c):ZO(i.errors,s)}catch(u){a.e(u)}finally{a.f()}}else i.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=c(u().mark((function e(t,n){var a,o,c,l,h,d,p,v=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=v.length>2&&void 0!==v[2]?v[2]:{valid:!0},e.t0=u().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(c=t[o])){e.next=21;break}if(l=c._f,h=SC(c,eO),!l){e.next=17;break}return d=f.array.has(l.name),e.next=11,$O(c,s,k,r.shouldUseNativeValidation&&!n,d);case 11:if(!(p=e.sent)[l.name]){e.next=16;break}if(a.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(dO(p,l.name)?d?MO(i.errors,p,l.name):DO(i.errors,l.name,p[l.name]):ZO(i.errors,l.name));case 17:if(e.t2=h,!e.t2){e.next=21;break}return e.next=21,S(h,n,a);case 21:e.next=2;break;case 23:return e.abrupt("return",a.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e,t){return e&&t&&DO(s,e,t),!nR(F(),o)},N=function(e,t,n){return NO(e,f,Gt({},l.mount?s:hO(t)?o:CO(e)?et({},e,t):t),n,t)},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=dO(a,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&DO(s,e,lR(t,o)),i=BO(o.ref)&&rO(t)?"":t,rR(o.ref)?m(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?tO(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):UO(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||p.values.next({name:e,values:Gt({},s)})))}(n.shouldDirty||n.shouldTouch)&&_(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&L(e)},D=function e(t,n,r){for(var i in n){var o=n[i],u="".concat(t,".").concat(i),s=dO(a,u);!f.array.has(t)&&tR(o)&&(!s||s._f)||nO(o)?P(u,o,r):e(u,o,r)}},O=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=dO(a,e),c=f.array.has(e),h=lO(t);DO(s,e,h),c?(p.array.next({name:e,values:Gt({},s)}),(d.isDirty||d.dirtyFields)&&r.shouldDirty&&p.state.next({name:e,dirtyFields:cR(o,s),isDirty:C(e,h)})):!u||u._f||rO(h)?P(e,h,r):D(e,h,r),FO(e,f)&&p.state.next(Gt({},i)),p.values.next({name:e,values:Gt({},s)}),!l.mount&&n()},R=function(){var t=c(u().mark((function t(n){var o,c,l,h,v,m,x,I,C,N,A,P,D,O,R,F,M;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target,c=o.name,l=!0,h=dO(a,c),v=function(){return o.type?fR(h._f):oO(n)},!h){t.next=47;break}if(I=v(),C=n.type===pO.BLUR||n.type===pO.FOCUS_OUT,N=!pR(h._f)&&!r.resolver&&!dO(i.errors,c)&&!h._f.deps||mR(C,dO(i.touchedFields,c),i.isSubmitted,g,y),A=FO(c,f,C),DO(s,c,I),C?(h._f.onBlur&&h._f.onBlur(n),e&&e(0)):h._f.onChange&&h._f.onChange(n),P=_(c,I,C,!1),D=!TO(P)||A,!C&&p.values.next({name:c,type:n.type,values:Gt({},s)}),!N){t.next=18;break}return d.isValid&&w(),t.abrupt("return",D&&p.state.next(Gt({name:c},A?{}:P)));case 18:if(!C&&A&&p.state.next(Gt({},i)),b(!0),!r.resolver){t.next=32;break}return t.next=23,E([c]);case 23:O=t.sent,R=O.errors,F=vR(i.errors,a,c),M=vR(R,a,F.name||c),m=M.error,c=M.name,x=TO(R),t.next=46;break;case 32:return t.next=34,$O(h,s,k,r.shouldUseNativeValidation);case 34:if(t.t0=c,m=t.sent[t.t0],!(l=isNaN(I)||I===dO(s,c,I))){t.next=46;break}if(!m){t.next=42;break}x=!1,t.next=46;break;case 42:if(!d.isValid){t.next=46;break}return t.next=45,S(a,!0);case 45:x=t.sent;case 46:l&&(h._f.deps&&L(h._f.deps),T(c,x,m,P));case 47:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),L=function(){var e=c(u().mark((function e(t){var n,o,s,l,h,v=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=v.length>1&&void 0!==v[1]?v[1]:{},l=IO(t),b(!0),!r.resolver){e.next=11;break}return e.next=6,I(hO(t)?t:l);case 6:h=e.sent,o=TO(h),s=t?!l.some((function(e){return dO(h,e)})):o,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(l.map(function(){var e=c(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=dO(a,t),e.next=3,S(n&&n._f?et({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||i.isValid)&&w(),e.next=21;break;case 18:return e.next=20,S(a);case 20:s=o=e.sent;case 21:return p.state.next(Gt(Gt(Gt({},!CO(t)||d.isValid&&o!==i.isValid?{}:{name:t}),r.resolver||!t?{isValid:o}:{}),{},{errors:i.errors,isValidating:!1})),n.shouldFocus&&!s&&RO(a,(function(e){return e&&dO(i.errors,e)}),t?l:f.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){var t=Gt(Gt({},o),l.mount?s:{});return hO(e)?t:CO(e)?dO(t,e):e.map((function(e){return dO(t,e)}))},M=function(e,t){return{invalid:!!dO((t||i).errors,e),isDirty:!!dO((t||i).dirtyFields,e),isTouched:!!dO((t||i).touchedFields,e),error:dO((t||i).errors,e)}},j=function(e,t,n){var r=(dO(a,e,{_f:{}})._f||{}).ref;DO(i.errors,e,Gt(Gt({},t),{},{ref:r})),p.state.next({name:e,errors:i.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},U=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=A(e?IO(e):f.mount);try{for(u.s();!(t=u.n()).done;){var c=t.value;f.mount.delete(c),f.array.delete(c),n.keepValue||(ZO(a,c),ZO(s,c)),!n.keepError&&ZO(i.errors,c),!n.keepDirty&&ZO(i.dirtyFields,c),!n.keepTouched&&ZO(i.touchedFields,c),!r.shouldUnregister&&!n.keepDefaultValue&&ZO(o,c)}}catch(l){u.e(l)}finally{u.f()}p.values.next({values:Gt({},s)}),p.state.next(Gt(Gt({},i),n.keepDirty?{isDirty:C()}:{})),!n.keepIsValid&&w()},V=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=dO(a,t),u=jO(n.disabled);return DO(a,t,Gt(Gt({},i||{}),{},{_f:Gt(Gt({},i&&i._f?i._f:{ref:{name:t}}),{},{name:t,mount:!0},n)})),f.mount.add(t),i?u&&DO(s,t,n.disabled?void 0:dO(s,t,fR(i._f))):x(t,!0,n.value),Gt(Gt(Gt({},u?{disabled:n.disabled}:{}),r.progressive?{required:!!n.required,min:dR(n.min),max:dR(n.max),minLength:dR(n.minLength),maxLength:dR(n.maxLength),pattern:dR(n.pattern)}:{}),{},{name:t,onChange:R,onBlur:R,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(u){if(u){e(t,n),i=dO(a,t);var s=hO(u.value)&&u.querySelectorAll&&u.querySelectorAll("input,select,textarea")[0]||u,c=iR(s),h=i._f.refs||[];if(c?h.find((function(e){return e===s})):s===i._f.ref)return;DO(a,t,{_f:Gt(Gt({},i._f),c?{refs:[].concat(m(h.filter(aR)),[s],m(Array.isArray(dO(o,t))?[{}]:[])),ref:{type:s.type,name:t}}:{ref:s})}),x(t,!1,void 0,s)}else(i=dO(a,t,{}))._f&&(i._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!uO(f.array,t)||!l.action)&&f.unMount.add(t)}))})},B=function(){return r.shouldFocusError&&RO(a,(function(e){return e&&dO(i.errors,e)}),f.mount)},z=function(e,t){return function(){var n=c(u().mark((function n(o){var c,l,f,h;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),c=lO(s),p.state.next({isSubmitting:!0}),!r.resolver){n.next=13;break}return n.next=6,E();case 6:l=n.sent,f=l.errors,h=l.values,i.errors=f,c=h,n.next=15;break;case 13:return n.next=15,S(a);case 15:if(ZO(i.errors,"root"),!TO(i.errors)){n.next=22;break}return p.state.next({errors:{}}),n.next=20,e(c,o);case 20:n.next=27;break;case 22:if(!t){n.next=25;break}return n.next=25,t(Gt({},i.errors),o);case 25:B(),setTimeout(B);case 27:p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:TO(i.errors),submitCount:i.submitCount+1,errors:i.errors});case 28:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},q=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=e||o,c=lO(u),h=e&&!TO(e)?c:o;if(r.keepDefaultValues||(o=u),!r.keepValues){if(r.keepDirtyValues||v){var m,y=A(f.mount);try{for(y.s();!(m=y.n()).done;){var g=m.value;dO(i.dirtyFields,g)?DO(h,g,dO(s,g)):O(g,dO(h,g))}}catch(E){y.e(E)}finally{y.f()}}else{if(cO&&hO(e)){var k,w=A(f.mount);try{for(w.s();!(k=w.n()).done;){var b=k.value,x=dO(a,b);if(x&&x._f){var _=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(BO(_)){var T=_.closest("form");if(T){T.reset();break}}}}}catch(E){w.e(E)}finally{w.f()}}a={}}s=t.shouldUnregister?r.keepDefaultValues?lO(o):{}:lO(h),p.array.next({values:Gt({},h)}),p.values.next({values:Gt({},h)})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&n(),l.mount=!d.isValid||!!r.keepIsValid,l.watch=!!t.shouldUnregister,p.state.next({submitCount:r.keepSubmitCount?i.submitCount:0,isDirty:r.keepDirty?i.isDirty:!(!r.keepDefaultValues||nR(e,o)),isSubmitted:!!r.keepIsSubmitted&&i.isSubmitted,dirtyFields:r.keepDirtyValues?i.dirtyFields:r.keepDefaultValues&&e?cR(o,e):{},touchedFields:r.keepTouched?i.touchedFields:{},errors:r.keepErrors?i.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},G=function(e,t){return q(VO(e)?e(s):e,t)};return{control:{register:V,unregister:U,getFieldState:M,handleSubmit:z,setError:j,_executeSchema:E,_getWatch:N,_getDirty:C,_updateValid:w,_removeUnmounted:function(){var e,t=A(f.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=dO(a,n);r&&(r._f.refs?r._f.refs.every((function(e){return!aR(e)})):!aR(r._f.ref))&&U(n)}}catch(i){t.e(i)}finally{t.f()}f.unMount=new Set},_updateFieldArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,u=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(l.action=!0,c&&Array.isArray(dO(a,e))){var f=n(dO(a,e),r.argA,r.argB);u&&DO(a,e,f)}if(c&&Array.isArray(dO(i.errors,e))){var h=n(dO(i.errors,e),r.argA,r.argB);u&&DO(i.errors,e,h),yR(i.errors,e)}if(d.touchedFields&&c&&Array.isArray(dO(i.touchedFields,e))){var v=n(dO(i.touchedFields,e),r.argA,r.argB);u&&DO(i.touchedFields,e,v)}d.dirtyFields&&(i.dirtyFields=cR(o,s)),p.state.next({name:e,isDirty:C(e,t),dirtyFields:i.dirtyFields,errors:i.errors,isValid:i.isValid})}else DO(s,e,t)},_getFieldArray:function(e){return fO(dO(l.mount?s:o,e,t.shouldUnregister?dO(o,e,[]):[]))},_reset:q,_resetDefaultValues:function(){return VO(r.defaultValues)&&r.defaultValues().then((function(e){G(e,r.resetOptions),p.state.next({isLoading:!1})}))},_updateFormState:function(e){i=Gt(Gt({},i),e)},_subjects:p,_proxyFormState:d,get _fields(){return a},get _formValues(){return s},get _state(){return l},set _state(e){l=e},get _defaultValues(){return o},get _names(){return f},set _names(e){f=e},get _formState(){return i},set _formState(e){i=e},get _options(){return r},set _options(e){r=Gt(Gt({},r),e)}},trigger:L,register:V,handleSubmit:z,watch:function(e,t){return VO(e)?p.values.subscribe({next:function(n){return e(N(void 0,t),n)}}):N(e,t,!0)},setValue:O,getValues:F,reset:G,resetField:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};dO(a,e)&&(hO(t.defaultValue)?O(e,dO(o,e)):(O(e,t.defaultValue),DO(o,e,t.defaultValue)),t.keepTouched||ZO(i.touchedFields,e),t.keepDirty||(ZO(i.dirtyFields,e),i.isDirty=t.defaultValue?C(e,dO(o,e)):C()),t.keepError||(ZO(i.errors,e),d.isValid&&w()),p.state.next(Gt({},i)))},clearErrors:function(e){e&&IO(e).forEach((function(e){return ZO(i.errors,e)})),p.state.next({errors:e?i.errors:{}})},unregister:U,setError:j,setFocus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=dO(a,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},getFieldState:M}}var wR=function(){var e=c(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={email:t,loginNameTwitter:n},e.prev=1,e.next=4,mP("https://tweetingantdb.onrender.com/twitterClass/insertIntensivity",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(r)});case 4:if(null!==(i=e.sent)&&void 0!==i&&i.payload){e.next=7;break}throw new Error("Response not exist");case 7:return e.abrupt("return",i.payload);case 10:throw e.prev=10,e.t0=e.catch(1),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}(),bR=wR,xR=function(){var e=c(u().mark((function e(t,n,r){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={loginNametwitter:t,passwordTwitter:n,email:r},e.prev=1,e.next=4,mP("http://localhost:3002/twitterClass/generate_Twitter_Class_And_Push",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(i)});case 4:return a=e.sent,e.abrupt("return",a.payload);case 8:throw e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,r){return e.apply(this,arguments)}}(),_R=xR;var TR=function(e){var t=e.dbTrigger,n=e.setDbTrigger,i=p((0,r.useState)(!1),2),a=i[0],o=i[1],s=TC().currentUser,l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=p(r.useState({isDirty:!1,isValidating:!1,isLoading:VO(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:VO(e.defaultValues)?void 0:e.defaultValues}),2),i=n[0],a=n[1];t.current||(t.current=Gt(Gt({},kR(e,(function(){return a((function(e){return Gt({},e)}))}))),{},{formState:i}));var o=t.current.control;return o._options=e,SO({subject:o._subjects.state,next:function(e){EO(e,o._proxyFormState,o._updateFormState,!0)&&a(Gt({},o._formState))}}),r.useEffect((function(){!e.values||nR(e.values,o._defaultValues)&&nR(e.values,o._formValues)?o._resetDefaultValues():o._reset(e.values,o._options.resetOptions)}),[e.values,o]),r.useEffect((function(){o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next(Gt({},o._formState))),o._removeUnmounted()})),t.current.formState=_O(i,o),t.current}(),f=l.register,h=l.handleSubmit,d=l.reset,v=l.formState.errors,m=function(){var e=c(u().mark((function e(r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,YD(r.TwitterUsername,r.TwitterPassword);case 3:if(!e.sent){e.next=7;break}return o(!0),e.abrupt("return");case 7:return e.next=9,XD(s.email,r.TwitterUsername,r.TwitterPassword);case 9:return e.next=11,bR(s.email,r.TwitterUsername);case 11:return e.next=13,_R(r.TwitterUsername,r.TwitterPassword,s.email);case 13:n(!t),o(!1),d(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error(e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return(0,xC.jsxs)("div",{className:"FormTwitterCredentials_container",children:[(0,xC.jsx)("p",{children:"Add Twitter Account"}),(0,xC.jsxs)("form",{onSubmit:h((function(e){return m(e)})),children:[(0,xC.jsx)("input",Gt({type:"text",placeholder:"TwitterUsername"},f("TwitterUsername",{required:!0}))),v.TwitterUsername&&(0,xC.jsx)("p",{children:"Twitter Username is required."}),(0,xC.jsx)("input",Gt({type:"password",placeholder:"TwitterPassword"},f("TwitterPassword",{required:!0,minLength:8}))),v.TwitterPassword&&(0,xC.jsx)("p",{children:"Twitter Password is required and must be at least 8 characters."}),a&&(0,xC.jsx)("p",{children:"Twitter Username already added."}),(0,xC.jsx)("input",{type:"submit"})]})]})};var ER=function(e){var t=e.dbTrigger,n=e.setDbTrigger,i=(0,r.useRef)();return(0,xC.jsxs)(xC.Fragment,{children:[(0,xC.jsx)("button",{type:"button",className:"AddAccount openButton",onClick:function(){return i.current.open()},children:"Add Twitter Account"}),(0,xC.jsx)(CD,{ref:i,children:(0,xC.jsxs)("div",{className:"Popup_Background",children:[(0,xC.jsx)(TR,{setDbTrigger:n,dbTrigger:t}),(0,xC.jsx)("button",{type:"button",onClick:function(){return i.current.close()},children:"close"})]})})]})},IR=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP("https://tweetingantdb.onrender.com/twitterClass/insert_Likes_Attack",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),SR=IR,CR=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP("https://tweetingantdb.onrender.com/twitterClass/insert_Retweets_Attack",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),NR=CR,AR=function(){var e=c(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP("https://tweetingantdb.onrender.com/twitterClass/insert_Comments_Attack",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify(t)});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),PR=AR;var DR=function(e){var t=e.twitterAccounts,n=(e.setTwitterAccounts,e.closeTooltip),i=TC().currentUser,a=p((0,r.useState)(""),2),o=a[0],s=a[1],l=p((0,r.useState)([]),2),f=(l[0],l[1]),h=p((0,r.useState)([]),2),d=h[0],v=h[1],y=p((0,r.useState)([]),2),g=y[0],k=y[1],w=p((0,r.useState)([]),2),b=w[0],x=w[1],_=p((0,r.useState)(t),2),T=_[0],E=_[1],I=p((0,r.useState)(""),2),S=I[0],C=I[1],N=p((0,r.useState)(T.length),2),A=N[0],P=N[1],D=p((0,r.useState)(!1),2),O=(D[0],D[1],p((0,r.useState)(!1),2)),R=O[0],L=O[1],F=p((0,r.useState)(!1),2),M=F[0],j=F[1],U=p((0,r.useState)(!1),2),V=U[0],B=U[1],z=function(){var e=new Date;return parseInt(Math.floor(Math.random()*(23-e.getHours())+e.getHours()).toString().padStart(2,"0"))},q=function(){return parseInt(Math.floor(60*Math.random()).toString().padStart(2,"0"))},G=function(){var e=c(u().mark((function e(t){var r,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==o){e.next=4;break}return alert("Wrong URL provided."),e.abrupt("return");case 4:if(!o){e.next=31;break}if(!R){e.next=12;break}return r={formData:m(d)},m(T).sort((function(){return Math.random()-.5})).slice(0,A).map((function(e){r.formData.push({email:i.email,loginnametwitter:e.loginNameTwitter,url:o,hours:z(),minutes:q()})})),e.next=11,SR(r);case 11:v([]);case 12:if(!M){e.next=19;break}return a={formData:m(g)},m(T).sort((function(){return Math.random()-.5})).slice(0,A).map((function(e){a.formData.push({email:i.email,loginnametwitter:e.loginNameTwitter,url:o,hours:z(),minutes:q()})})),e.next=18,NR(a);case 18:k([]);case 19:if(!V){e.next=26;break}return c={formData:m(b)},m(T).sort((function(){return Math.random()-.5})).slice(0,A).map((function(e){c.formData.push({email:i.email,loginnametwitter:e.loginNameTwitter,url:o,hours:z(),minutes:q()})})),e.next=25,PR(c);case 25:x([]);case 26:s(""),f([]),n(),e.next=33;break;case 31:return alert("Wrong URL provided."),e.abrupt("return");case 33:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=t.map((function(e){return e.personality})),H=Array.from(new Set(K));return(0,xC.jsxs)("div",{className:"LikesAttack_Container",children:[(0,xC.jsx)("p",{children:"Paste link to tweet and perform a burst attack "}),(0,xC.jsxs)("form",{children:[(0,xC.jsx)("input",{type:"url",placeholder:"TWEET URL",value:o,onChange:function(e){return s(e.target.value)}}),(0,xC.jsx)("button",{onClick:function(e){return G(e)},children:"Attack!"})]}),(0,xC.jsx)("p",{children:"You are performing atatck with:"}),(0,xC.jsxs)("div",{className:"setters_container",children:[(0,xC.jsx)("select",{name:"amount_setter",id:"",onChange:function(e){return t=Number(e.target.value),void P(t);var t},value:A,children:Array.from({length:T.length},(function(e,t){return T.length-t})).map((function(e){return(0,xC.jsx)("option",{value:e,children:"".concat(e,e>1?" accounts":" account")},FD())}))}),(0,xC.jsxs)("select",{name:"personality_setter",id:"",onChange:function(e){return n=String(e.target.value),C(n),void E("All Personalities"===n?t:t.filter((function(e){return e.personality===n})));var n},value:S,children:[(0,xC.jsx)("option",{value:"All Personalities",children:"All Personalities"},FD()),H.map((function(e){return(0,xC.jsxs)("option",{value:e,children:[e," personality"]},FD())}))]})]}),(0,xC.jsxs)("div",{className:"select_container",children:[(0,xC.jsxs)("div",{className:"select_single_container",children:[(0,xC.jsx)("p",{children:"Like"}),(0,xC.jsxs)("label",{className:"switch",children:[(0,xC.jsx)("input",{type:"checkbox",onChange:function(){L(!R)},checked:R}),(0,xC.jsx)("span",{className:"slider"})]})]}),(0,xC.jsxs)("div",{className:"select_single_container",children:[(0,xC.jsx)("p",{children:"Comment"}),(0,xC.jsxs)("label",{className:"switch",children:[(0,xC.jsx)("input",{type:"checkbox",onChange:function(){B(!V)},checked:V}),(0,xC.jsx)("span",{className:"slider"})]})]}),(0,xC.jsxs)("div",{className:"select_single_container",children:[(0,xC.jsx)("p",{children:"Retweet"}),(0,xC.jsxs)("label",{className:"switch",children:[(0,xC.jsx)("input",{type:"checkbox",onChange:function(){j(!M)},checked:M}),(0,xC.jsx)("span",{className:"slider"})]})]})]}),(0,xC.jsx)("p",{})]})};var OR=function(e){var t=e.twitterAccounts,n=e.setTwitterAccounts,i=(0,r.useRef)(),a=function(){return i.current.close()};return(0,xC.jsxs)(xC.Fragment,{children:[(0,xC.jsx)("button",{type:"button",className:"AddAccount openButton",onClick:function(){return i.current.open()},children:"Burst Attack"}),(0,xC.jsx)(CD,{ref:i,children:(0,xC.jsxs)("div",{className:"Popup_Background",children:[(0,xC.jsx)(DR,{twitterAccounts:t,setTwitterAccounts:n,closeTooltip:a}),(0,xC.jsx)("button",{type:"button",onClick:a,children:"close"})]})})]})},RR=function(){var e=c(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mP("https://tweetingantdb.onrender.com/twitterClass/personality_List",{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 3:if(null!==(t=e.sent)&&void 0!==t&&t.payload){e.next=6;break}throw new Error("Response not exist");case 6:return n=t.payload.map((function(e){return e.personality})),e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),LR=RR;var FR=function(){var e=TC(),t=e.currentUser,n=e.logOut,i=p((0,r.useState)([]),2),a=i[0],o=i[1],s=p((0,r.useState)(""),2),l=(s[0],s[1]),f=p((0,r.useState)(!1),2),h=f[0],d=f[1],v=p((0,r.useState)([]),2),m=v[0],y=v[1],g=Te();function k(){return(k=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:g("/login",{replace:!0}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l("Failed to log out");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}var w=function(){var e=c(u().mark((function e(){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,gD(t.email);case 3:return n=e.sent,o(n),e.next=7,LR();case 7:r=e.sent,y(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){w()}),[h]),(0,xC.jsxs)("div",{className:"Main-container",children:[(0,xC.jsxs)("div",{className:"Main-header",children:[(0,xC.jsxs)("p",{children:[t.email," is logged in."]}),(0,xC.jsx)(ER,{dbTrigger:h,setDbTrigger:d}),(0,xC.jsx)(OR,{twitterAccounts:a,setTwitterAccounts:o}),(0,xC.jsx)("button",{onClick:function(){return k.apply(this,arguments)},children:" Log out "})]}),(0,xC.jsx)("div",{className:"listOfCards-container",children:(0,xC.jsx)("ul",{children:a.length>0&&a.map((function(e){return(0,xC.jsx)("li",{children:(0,xC.jsx)(WD,{loginNameTwitter:e.loginNameTwitter,email:e.email,isAutomated:e.isAutomated,timesToTweet:e.timesToTweet,timesToLike:e.timesToLike,timesToRetweet:e.timesToRetweet,timesToComment:e.timesToComment,usernameForTweets:e.usernameForTweets,usernameForContent:e.usernameForContent,twitterAccounts:a,setTwitterAccounts:o,personalityList:m})},e.id)}))})})]})};var MR=function(){return(0,xC.jsx)("div",{className:"App-container",children:(0,xC.jsx)(Qe,{basename:"/",children:(0,xC.jsx)(EC,{children:(0,xC.jsxs)(Be,{children:[(0,xC.jsx)(Ue,{path:"/login",element:(0,xC.jsx)(fP,{})}),(0,xC.jsx)(Ue,{path:"/signup",element:(0,xC.jsx)(hP,{})}),(0,xC.jsx)(Ue,{path:"/forgot-password",element:(0,xC.jsx)(dP,{})}),(0,xC.jsx)(Ue,{path:"/",element:(0,xC.jsx)(pP,{children:(0,xC.jsx)(FR,{})})})]})})})})};a.createRoot(document.getElementById("root")).render((0,xC.jsx)(r.StrictMode,{children:(0,xC.jsx)(MR,{})}))}()}();
//# sourceMappingURL=main.32c854a1.js.map